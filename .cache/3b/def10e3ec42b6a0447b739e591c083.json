{"id":"ITgl","dependencies":[{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591974472658},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-functions/package.json","includedInParent":true,"mtime":1591969205140},{"name":"vega-dataflow","loc":{"line":1,"column":22},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-functions/src/functions/modify.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/index.js"},{"name":"vega-util","loc":{"line":2,"column":40},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-functions/src/functions/modify.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=s;var e=require(\"vega-dataflow\"),t=require(\"vega-util\");function r(e,r){return e===r||e!=e&&r!=r||((0,t.isArray)(e)?!(!(0,t.isArray)(r)||e.length!==r.length)&&n(e,r):!(!(0,t.isObject)(e)||!(0,t.isObject)(r))&&i(e,r))}function n(e,t){for(let n=0,i=e.length;n<i;++n)if(!r(e[n],t[n]))return!1;return!0}function i(e,t){for(let n in e)if(!r(e[n],t[n]))return!1;return!0}function u(e){return t=>i(e,t)}function s(r,n,i,s,a,o){let f,l,c=this.context.dataflow,g=this.context.data[r],h=g.input,d=g.changes,p=c.stamp();if(!1===c._trigger||!(h.value.length||n||s))return 0;if((!d||d.stamp<p)&&(g.changes=d=c.changeset(),d.stamp=p,c.runAfter(function(){g.modified=!0,c.pulse(h,d).run()},!0,1)),i&&(f=!0===i?t.truthy:(0,t.isArray)(i)||(0,e.isTuple)(i)?i:u(i),d.remove(f)),n&&d.insert(n),s&&(f=u(s),h.value.some(f)?d.remove(f):d.insert(s)),a)for(l in o)d.modify(a,l,o[l]);return 1}"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":80,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":80,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":80,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":80,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":80,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":80,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":80,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":80,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":80,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":80,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":80,"column":1},"generated":{"line":1,"column":84}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":2,"column":0},"generated":{"line":1,"column":119}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":2,"column":0},"generated":{"line":1,"column":127}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":4,"column":0},"generated":{"line":1,"column":140}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"equal","original":{"line":4,"column":9},"generated":{"line":1,"column":149}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":4,"column":15},"generated":{"line":1,"column":151}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":4,"column":18},"generated":{"line":1,"column":153}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":5,"column":9},"generated":{"line":1,"column":156}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":5,"column":9},"generated":{"line":1,"column":163}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":5,"column":15},"generated":{"line":1,"column":167}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":5,"column":20},"generated":{"line":1,"column":170}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":5,"column":26},"generated":{"line":1,"column":173}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":5,"column":31},"generated":{"line":1,"column":176}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":5,"column":37},"generated":{"line":1,"column":179}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":6,"column":6},"generated":{"line":1,"column":184}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":6,"column":14},"generated":{"line":1,"column":186}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":6,"column":14},"generated":{"line":1,"column":188}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":6,"column":14},"generated":{"line":1,"column":197}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":7,"column":8},"generated":{"line":1,"column":204}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":7,"column":16},"generated":{"line":1,"column":206}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":7,"column":16},"generated":{"line":1,"column":208}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":7,"column":16},"generated":{"line":1,"column":217}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":7,"column":22},"generated":{"line":1,"column":221}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"length","original":{"line":7,"column":24},"generated":{"line":1,"column":223}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":7,"column":35},"generated":{"line":1,"column":232}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"length","original":{"line":7,"column":37},"generated":{"line":1,"column":234}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"equalArray","original":{"line":7,"column":46},"generated":{"line":1,"column":243}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":7,"column":57},"generated":{"line":1,"column":245}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":7,"column":60},"generated":{"line":1,"column":247}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":9,"column":6},"generated":{"line":1,"column":254}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":9,"column":15},"generated":{"line":1,"column":256}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":9,"column":15},"generated":{"line":1,"column":258}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":9,"column":15},"generated":{"line":1,"column":268}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":9,"column":21},"generated":{"line":1,"column":274}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":9,"column":30},"generated":{"line":1,"column":276}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":9,"column":30},"generated":{"line":1,"column":278}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":9,"column":30},"generated":{"line":1,"column":288}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"equalObject","original":{"line":9,"column":35},"generated":{"line":1,"column":293}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":9,"column":47},"generated":{"line":1,"column":295}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":9,"column":50},"generated":{"line":1,"column":297}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":13,"column":0},"generated":{"line":1,"column":301}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"equalArray","original":{"line":13,"column":9},"generated":{"line":1,"column":310}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":13,"column":20},"generated":{"line":1,"column":312}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":13,"column":23},"generated":{"line":1,"column":314}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":14,"column":7},"generated":{"line":1,"column":317}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":14,"column":7},"generated":{"line":1,"column":321}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"i","original":{"line":14,"column":11},"generated":{"line":1,"column":325}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":14,"column":13},"generated":{"line":1,"column":327}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"n","original":{"line":14,"column":16},"generated":{"line":1,"column":329}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":14,"column":18},"generated":{"line":1,"column":331}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"length","original":{"line":14,"column":20},"generated":{"line":1,"column":333}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"i","original":{"line":14,"column":28},"generated":{"line":1,"column":340}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"n","original":{"line":14,"column":30},"generated":{"line":1,"column":342}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"i","original":{"line":14,"column":35},"generated":{"line":1,"column":346}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":15,"column":8},"generated":{"line":1,"column":348}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"equal","original":{"line":15,"column":9},"generated":{"line":1,"column":352}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":15,"column":15},"generated":{"line":1,"column":354}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"i","original":{"line":15,"column":17},"generated":{"line":1,"column":356}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":15,"column":21},"generated":{"line":1,"column":359}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"i","original":{"line":15,"column":23},"generated":{"line":1,"column":361}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":15,"column":28},"generated":{"line":1,"column":365}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":15,"column":35},"generated":{"line":1,"column":372}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":17,"column":9},"generated":{"line":1,"column":374}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":17,"column":9},"generated":{"line":1,"column":381}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":20,"column":0},"generated":{"line":1,"column":383}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"equalObject","original":{"line":20,"column":9},"generated":{"line":1,"column":392}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":20,"column":21},"generated":{"line":1,"column":394}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":20,"column":24},"generated":{"line":1,"column":396}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":21,"column":7},"generated":{"line":1,"column":399}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":21,"column":7},"generated":{"line":1,"column":403}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"key","original":{"line":21,"column":11},"generated":{"line":1,"column":407}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":21,"column":18},"generated":{"line":1,"column":412}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":22,"column":8},"generated":{"line":1,"column":414}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"equal","original":{"line":22,"column":9},"generated":{"line":1,"column":418}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"a","original":{"line":22,"column":15},"generated":{"line":1,"column":420}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"key","original":{"line":22,"column":17},"generated":{"line":1,"column":422}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"b","original":{"line":22,"column":23},"generated":{"line":1,"column":425}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"key","original":{"line":22,"column":25},"generated":{"line":1,"column":427}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":22,"column":32},"generated":{"line":1,"column":431}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":22,"column":39},"generated":{"line":1,"column":438}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":24,"column":9},"generated":{"line":1,"column":440}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":24,"column":9},"generated":{"line":1,"column":447}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":27,"column":0},"generated":{"line":1,"column":449}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"removePredicate","original":{"line":27,"column":9},"generated":{"line":1,"column":458}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"props","original":{"line":27,"column":25},"generated":{"line":1,"column":460}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"_","original":{"line":28,"column":9},"generated":{"line":1,"column":463}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"_","original":{"line":28,"column":9},"generated":{"line":1,"column":470}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"equalObject","original":{"line":28,"column":14},"generated":{"line":1,"column":473}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"props","original":{"line":28,"column":26},"generated":{"line":1,"column":475}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"_","original":{"line":28,"column":33},"generated":{"line":1,"column":477}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":31,"column":15},"generated":{"line":1,"column":480}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"name","original":{"line":31,"column":24},"generated":{"line":1,"column":489}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"name","original":{"line":31,"column":24},"generated":{"line":1,"column":491}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"insert","original":{"line":31,"column":30},"generated":{"line":1,"column":493}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":31,"column":38},"generated":{"line":1,"column":495}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"toggle","original":{"line":31,"column":46},"generated":{"line":1,"column":497}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"modify","original":{"line":31,"column":54},"generated":{"line":1,"column":499}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"values","original":{"line":31,"column":62},"generated":{"line":1,"column":501}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"df","original":{"line":32,"column":6},"generated":{"line":1,"column":504}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"predicate","original":{"line":37,"column":6},"generated":{"line":1,"column":508}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"key","original":{"line":37,"column":17},"generated":{"line":1,"column":510}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"df","original":{"line":32,"column":6},"generated":{"line":1,"column":512}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":32,"column":11},"generated":{"line":1,"column":514}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"context","original":{"line":32,"column":16},"generated":{"line":1,"column":519}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"dataflow","original":{"line":32,"column":24},"generated":{"line":1,"column":527}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"data","original":{"line":33,"column":6},"generated":{"line":1,"column":536}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":33,"column":13},"generated":{"line":1,"column":538}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"context","original":{"line":33,"column":18},"generated":{"line":1,"column":543}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"data","original":{"line":33,"column":26},"generated":{"line":1,"column":551}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"name","original":{"line":33,"column":31},"generated":{"line":1,"column":556}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"input","original":{"line":34,"column":6},"generated":{"line":1,"column":559}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"data","original":{"line":34,"column":14},"generated":{"line":1,"column":561}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"input","original":{"line":34,"column":19},"generated":{"line":1,"column":563}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":35,"column":6},"generated":{"line":1,"column":569}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"data","original":{"line":35,"column":16},"generated":{"line":1,"column":571}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":35,"column":21},"generated":{"line":1,"column":573}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"stamp","original":{"line":36,"column":6},"generated":{"line":1,"column":581}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"df","original":{"line":36,"column":14},"generated":{"line":1,"column":583}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"stamp","original":{"line":36,"column":17},"generated":{"line":1,"column":585}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"df","original":{"line":39,"column":6},"generated":{"line":1,"column":593}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":39,"column":22},"generated":{"line":1,"column":597}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"df","original":{"line":39,"column":6},"generated":{"line":1,"column":601}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"_trigger","original":{"line":39,"column":9},"generated":{"line":1,"column":603}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"input","original":{"line":39,"column":33},"generated":{"line":1,"column":615}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"value","original":{"line":39,"column":39},"generated":{"line":1,"column":617}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"length","original":{"line":39,"column":45},"generated":{"line":1,"column":623}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"insert","original":{"line":39,"column":55},"generated":{"line":1,"column":631}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"toggle","original":{"line":39,"column":65},"generated":{"line":1,"column":634}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":41,"column":11},"generated":{"line":1,"column":637}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":41,"column":11},"generated":{"line":1,"column":644}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"modify","original":{"line":73,"column":6},"generated":{"line":1,"column":646}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":44,"column":7},"generated":{"line":1,"column":651}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":44,"column":18},"generated":{"line":1,"column":654}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"stamp","original":{"line":44,"column":26},"generated":{"line":1,"column":656}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"stamp","original":{"line":44,"column":34},"generated":{"line":1,"column":662}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"data","original":{"line":45,"column":4},"generated":{"line":1,"column":667}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":45,"column":9},"generated":{"line":1,"column":669}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":45,"column":20},"generated":{"line":1,"column":677}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"df","original":{"line":45,"column":30},"generated":{"line":1,"column":679}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changeset","original":{"line":45,"column":33},"generated":{"line":1,"column":681}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":46,"column":4},"generated":{"line":1,"column":693}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"stamp","original":{"line":46,"column":12},"generated":{"line":1,"column":695}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"stamp","original":{"line":46,"column":20},"generated":{"line":1,"column":701}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"df","original":{"line":47,"column":4},"generated":{"line":1,"column":703}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"runAfter","original":{"line":47,"column":7},"generated":{"line":1,"column":705}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":47,"column":16},"generated":{"line":1,"column":714}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"data","original":{"line":48,"column":6},"generated":{"line":1,"column":725}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"modified","original":{"line":48,"column":11},"generated":{"line":1,"column":727}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":48,"column":22},"generated":{"line":1,"column":737}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"df","original":{"line":49,"column":6},"generated":{"line":1,"column":739}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"pulse","original":{"line":49,"column":9},"generated":{"line":1,"column":741}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"input","original":{"line":49,"column":15},"generated":{"line":1,"column":747}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":49,"column":22},"generated":{"line":1,"column":749}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"run","original":{"line":49,"column":31},"generated":{"line":1,"column":752}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":50,"column":7},"generated":{"line":1,"column":760}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":50,"column":13},"generated":{"line":1,"column":762}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":53,"column":6},"generated":{"line":1,"column":766}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"predicate","original":{"line":54,"column":4},"generated":{"line":1,"column":770}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":54,"column":27},"generated":{"line":1,"column":773}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":54,"column":16},"generated":{"line":1,"column":777}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"truthy","original":{"line":54,"column":34},"generated":{"line":1,"column":779}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":54,"column":16},"generated":{"line":1,"column":781}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":55,"column":9},"generated":{"line":1,"column":789}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":55,"column":17},"generated":{"line":1,"column":791}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":55,"column":17},"generated":{"line":1,"column":793}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":55,"column":17},"generated":{"line":1,"column":802}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":55,"column":28},"generated":{"line":1,"column":807}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":55,"column":36},"generated":{"line":1,"column":809}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":55,"column":36},"generated":{"line":1,"column":811}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":55,"column":36},"generated":{"line":1,"column":820}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":55,"column":47},"generated":{"line":1,"column":823}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"removePredicate","original":{"line":56,"column":8},"generated":{"line":1,"column":825}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":56,"column":24},"generated":{"line":1,"column":827}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":57,"column":4},"generated":{"line":1,"column":830}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":57,"column":12},"generated":{"line":1,"column":832}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"predicate","original":{"line":57,"column":19},"generated":{"line":1,"column":839}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"insert","original":{"line":60,"column":6},"generated":{"line":1,"column":843}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":61,"column":4},"generated":{"line":1,"column":846}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"insert","original":{"line":61,"column":12},"generated":{"line":1,"column":848}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"insert","original":{"line":61,"column":19},"generated":{"line":1,"column":855}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"toggle","original":{"line":64,"column":6},"generated":{"line":1,"column":858}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"predicate","original":{"line":65,"column":4},"generated":{"line":1,"column":862}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"removePredicate","original":{"line":65,"column":16},"generated":{"line":1,"column":864}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"toggle","original":{"line":65,"column":32},"generated":{"line":1,"column":866}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"input","original":{"line":66,"column":8},"generated":{"line":1,"column":869}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"value","original":{"line":66,"column":14},"generated":{"line":1,"column":871}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"some","original":{"line":66,"column":20},"generated":{"line":1,"column":877}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"predicate","original":{"line":66,"column":25},"generated":{"line":1,"column":882}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":67,"column":6},"generated":{"line":1,"column":885}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"remove","original":{"line":67,"column":14},"generated":{"line":1,"column":887}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"predicate","original":{"line":67,"column":21},"generated":{"line":1,"column":894}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":69,"column":6},"generated":{"line":1,"column":897}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"insert","original":{"line":69,"column":14},"generated":{"line":1,"column":899}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"toggle","original":{"line":69,"column":21},"generated":{"line":1,"column":906}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"modify","original":{"line":73,"column":6},"generated":{"line":1,"column":910}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"key","original":{"line":74,"column":9},"generated":{"line":1,"column":912}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"key","original":{"line":74,"column":9},"generated":{"line":1,"column":916}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"values","original":{"line":74,"column":16},"generated":{"line":1,"column":921}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"changes","original":{"line":75,"column":6},"generated":{"line":1,"column":923}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"modify","original":{"line":75,"column":14},"generated":{"line":1,"column":925}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"modify","original":{"line":75,"column":21},"generated":{"line":1,"column":932}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"key","original":{"line":75,"column":29},"generated":{"line":1,"column":934}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"values","original":{"line":75,"column":34},"generated":{"line":1,"column":936}},{"source":"node_modules/vega-functions/src/functions/modify.js","name":"key","original":{"line":75,"column":41},"generated":{"line":1,"column":938}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":79,"column":9},"generated":{"line":1,"column":942}},{"source":"node_modules/vega-functions/src/functions/modify.js","original":{"line":79,"column":9},"generated":{"line":1,"column":949}}],"sources":{"node_modules/vega-functions/src/functions/modify.js":"import {isTuple} from 'vega-dataflow';\nimport {isArray, isObject, truthy} from 'vega-util';\n\nfunction equal(a, b) {\n  return a === b || a !== a && b !== b ? true\n    : isArray(a) ? (\n        isArray(b) && a.length === b.length ? equalArray(a, b) : false\n      )\n    : isObject(a) && isObject(b) ? equalObject(a, b)\n    : false;\n}\n\nfunction equalArray(a, b) {\n  for (let i=0, n=a.length; i<n; ++i) {\n    if (!equal(a[i], b[i])) return false;\n  }\n  return true;\n}\n\nfunction equalObject(a, b) {\n  for (let key in a) {\n    if (!equal(a[key], b[key])) return false;\n  }\n  return true;\n}\n\nfunction removePredicate(props) {\n  return _ => equalObject(props, _);\n}\n\nexport default function(name, insert, remove, toggle, modify, values) {\n  let df = this.context.dataflow,\n      data = this.context.data[name],\n      input = data.input,\n      changes = data.changes,\n      stamp = df.stamp(),\n      predicate, key;\n\n  if (df._trigger === false || !(input.value.length || insert || toggle)) {\n    // nothing to do!\n    return 0;\n  }\n\n  if (!changes || changes.stamp < stamp) {\n    data.changes = (changes = df.changeset());\n    changes.stamp = stamp;\n    df.runAfter(function() {\n      data.modified = true;\n      df.pulse(input, changes).run();\n    }, true, 1);\n  }\n\n  if (remove) {\n    predicate = remove === true ? truthy\n      : (isArray(remove) || isTuple(remove)) ? remove\n      : removePredicate(remove);\n    changes.remove(predicate);\n  }\n\n  if (insert) {\n    changes.insert(insert);\n  }\n\n  if (toggle) {\n    predicate = removePredicate(toggle);\n    if (input.value.some(predicate)) {\n      changes.remove(predicate);\n    } else {\n      changes.insert(toggle);\n    }\n  }\n\n  if (modify) {\n    for (key in values) {\n      changes.modify(modify, key, values[key]);\n    }\n  }\n\n  return 1;\n}\n"},"lineCount":null}},"error":null,"hash":"5978513bdbe1ff1a2f917bb19908e7c8","cacheData":{"env":{}}}