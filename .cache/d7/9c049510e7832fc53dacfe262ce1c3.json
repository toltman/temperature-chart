{"id":"OS52","dependencies":[{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/geopoint.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/src/compile/data/geopoint.ts","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591977532257},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/package.json","includedInParent":true,"mtime":499162500000},{"name":"vega-util","loc":{"line":1,"column":25},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/geopoint.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"},{"name":"../../channel","loc":{"line":2,"column":59},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/geopoint.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/channel.js"},{"name":"../../channeldef","loc":{"line":3,"column":71},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/geopoint.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/channeldef.js"},{"name":"../../util","loc":{"line":4,"column":32},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/geopoint.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/util.js"},{"name":"./dataflow","loc":{"line":5,"column":29},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/geopoint.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/dataflow.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.GeoPointNode=void 0;var e=require(\"vega-util\"),t=require(\"../../channel\"),i=require(\"../../channeldef\"),s=require(\"../../util\"),r=require(\"./dataflow\");class o extends r.DataFlowNode{constructor(e,t,i,s){super(e),this.projection=t,this.fields=i,this.as=s}clone(){return new o(null,this.projection,(0,s.duplicate)(this.fields),(0,s.duplicate)(this.as))}static parseAll(e,s){if(!s.projectionName())return e;for(const r of[[t.LONGITUDE,t.LATITUDE],[t.LONGITUDE2,t.LATITUDE2]]){const n=r.map(e=>{const t=(0,i.getFieldOrDatumDef)(s.encoding[e]);return(0,i.isFieldDef)(t)?t.field:(0,i.isDatumDef)(t)?{expr:`${t.datum}`}:(0,i.isValueDef)(t)?{expr:`${t.value}`}:void 0}),a=r[0]===t.LONGITUDE2?\"2\":\"\";(n[0]||n[1])&&(e=new o(e,s.projectionName(),n,[s.getName(\"x\"+a),s.getName(\"y\"+a)]))}return e}dependentFields(){return new Set(this.fields.filter(e.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${(0,s.hash)(this.fields)} ${(0,s.hash)(this.as)}`}assemble(){return{type:\"geopoint\",projection:this.projection,fields:this.fields,as:this.as}}}exports.GeoPointNode=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":0}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":13}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":20}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":35}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":43}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":56}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":57}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":64}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":68}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":76}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":94}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":96}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":100}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":102}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":110}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":123}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":125}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":133}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":150}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":152}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":160}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":180}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":182}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":190}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":204}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":206}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":214}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":6},"generated":{"line":1,"column":228}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":234}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":34},"generated":{"line":1,"column":244}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":6},"generated":{"line":1,"column":246}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":259}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":271}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":1,"column":273}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":18,"column":12},"generated":{"line":1,"column":275}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":1,"column":277}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":1,"column":280}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":1,"column":286}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":1,"column":289}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":1,"column":294}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":17,"column":12},"generated":{"line":1,"column":305}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":18,"column":12},"generated":{"line":1,"column":307}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":18,"column":12},"generated":{"line":1,"column":312}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":18,"column":12},"generated":{"line":1,"column":319}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":1,"column":321}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":1,"column":326}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":1,"column":329}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":331}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":11},"generated":{"line":1,"column":339}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":11},"generated":{"line":1,"column":346}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":15},"generated":{"line":1,"column":350}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":28},"generated":{"line":1,"column":352}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":34},"generated":{"line":1,"column":357}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":39},"generated":{"line":1,"column":362}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":51},"generated":{"line":1,"column":374}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":61},"generated":{"line":1,"column":376}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":61},"generated":{"line":1,"column":378}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":61},"generated":{"line":1,"column":389}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":66},"generated":{"line":1,"column":394}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":75},"generated":{"line":1,"column":403}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":85},"generated":{"line":1,"column":405}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":85},"generated":{"line":1,"column":407}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":85},"generated":{"line":1,"column":418}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":12,"column":90},"generated":{"line":1,"column":423}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":1,"column":428}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":24,"column":25},"generated":{"line":1,"column":444}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":24,"column":47},"generated":{"line":1,"column":446}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":449}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":1,"column":453}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":25,"column":15},"generated":{"line":1,"column":455}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":472}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":479}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":481}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":485}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":29,"column":15},"generated":{"line":1,"column":491}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":29,"column":30},"generated":{"line":1,"column":495}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":30,"column":6},"generated":{"line":1,"column":496}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":30,"column":7},"generated":{"line":1,"column":497}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":30,"column":6},"generated":{"line":1,"column":499}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":30,"column":18},"generated":{"line":1,"column":509}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":30,"column":6},"generated":{"line":1,"column":511}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":521}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":1,"column":522}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":524}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":1,"column":535}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":537}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":32,"column":40},"generated":{"line":1,"column":549}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":550}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":556}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":1,"column":558}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":33,"column":31},"generated":{"line":1,"column":560}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":33,"column":35},"generated":{"line":1,"column":564}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":568}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":574}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":34,"column":20},"generated":{"line":1,"column":577}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":34,"column":39},"generated":{"line":1,"column":579}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":34,"column":39},"generated":{"line":1,"column":581}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":34,"column":39},"generated":{"line":1,"column":601}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":34,"column":45},"generated":{"line":1,"column":603}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":34,"column":54},"generated":{"line":1,"column":612}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":35,"column":15},"generated":{"line":1,"column":616}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":35,"column":15},"generated":{"line":1,"column":623}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":35,"column":26},"generated":{"line":1,"column":625}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":35,"column":26},"generated":{"line":1,"column":627}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":35,"column":26},"generated":{"line":1,"column":639}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":1,"column":642}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":1,"column":644}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":651}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":37,"column":23},"generated":{"line":1,"column":653}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":37,"column":23},"generated":{"line":1,"column":655}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":37,"column":23},"generated":{"line":1,"column":667}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":1,"column":670}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":38,"column":13},"generated":{"line":1,"column":671}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":679}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":38,"column":26},"generated":{"line":1,"column":681}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":1,"column":691}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":1,"column":693}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":1,"column":695}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":1,"column":707}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":710}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":711}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":40,"column":22},"generated":{"line":1,"column":719}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":40,"column":25},"generated":{"line":1,"column":721}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":1,"column":735}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":1,"column":739}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":44,"column":21},"generated":{"line":1,"column":741}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":44,"column":33},"generated":{"line":1,"column":743}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":44,"column":40},"generated":{"line":1,"column":748}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":44,"column":21},"generated":{"line":1,"column":750}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":44,"column":53},"generated":{"line":1,"column":761}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":44,"column":59},"generated":{"line":1,"column":765}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":46,"column":10},"generated":{"line":1,"column":769}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":46,"column":15},"generated":{"line":1,"column":771}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":46,"column":21},"generated":{"line":1,"column":775}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":46,"column":26},"generated":{"line":1,"column":777}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":1,"column":783}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":47,"column":17},"generated":{"line":1,"column":785}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":47,"column":21},"generated":{"line":1,"column":789}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":47,"column":34},"generated":{"line":1,"column":791}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":47,"column":42},"generated":{"line":1,"column":793}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":47,"column":48},"generated":{"line":1,"column":795}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":47,"column":66},"generated":{"line":1,"column":812}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":47,"column":72},"generated":{"line":1,"column":814}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":815}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":817}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":48,"column":24},"generated":{"line":1,"column":825}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":48,"column":30},"generated":{"line":1,"column":829}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":832}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":49,"column":16},"generated":{"line":1,"column":834}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":49,"column":24},"generated":{"line":1,"column":842}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":49,"column":30},"generated":{"line":1,"column":846}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":1,"column":852}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":1,"column":859}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":57,"column":9},"generated":{"line":1,"column":861}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":58,"column":11},"generated":{"line":1,"column":879}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":58,"column":11},"generated":{"line":1,"column":886}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":58,"column":15},"generated":{"line":1,"column":890}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":58,"column":19},"generated":{"line":1,"column":894}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":58,"column":24},"generated":{"line":1,"column":899}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":58,"column":31},"generated":{"line":1,"column":906}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":58,"column":38},"generated":{"line":1,"column":913}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":58,"column":19},"generated":{"line":1,"column":915}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":61,"column":9},"generated":{"line":1,"column":926}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":62,"column":11},"generated":{"line":1,"column":943}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":62,"column":11},"generated":{"line":1,"column":950}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":1,"column":954}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":62,"column":19},"generated":{"line":1,"column":958}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":62,"column":24},"generated":{"line":1,"column":963}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":65,"column":9},"generated":{"line":1,"column":967}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":11},"generated":{"line":1,"column":974}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":23},"generated":{"line":1,"column":992}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":28},"generated":{"line":1,"column":997}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":42},"generated":{"line":1,"column":1012}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":47},"generated":{"line":1,"column":1014}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":47},"generated":{"line":1,"column":1016}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":47},"generated":{"line":1,"column":1022}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":52},"generated":{"line":1,"column":1027}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":63},"generated":{"line":1,"column":1039}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":68},"generated":{"line":1,"column":1041}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":68},"generated":{"line":1,"column":1043}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":68},"generated":{"line":1,"column":1049}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":66,"column":73},"generated":{"line":1,"column":1054}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":1060}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":70,"column":11},"generated":{"line":1,"column":1071}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":70,"column":11},"generated":{"line":1,"column":1077}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":71,"column":6},"generated":{"line":1,"column":1078}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":1,"column":1083}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":72,"column":6},"generated":{"line":1,"column":1094}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":72,"column":18},"generated":{"line":1,"column":1105}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":72,"column":23},"generated":{"line":1,"column":1110}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":73,"column":6},"generated":{"line":1,"column":1121}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":73,"column":14},"generated":{"line":1,"column":1128}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":73,"column":19},"generated":{"line":1,"column":1133}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":74,"column":6},"generated":{"line":1,"column":1140}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":1143}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":1148}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":1153}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":1161}},{"source":"../../../../src/compile/data/geopoint.ts","name":null,"original":{"line":10,"column":46},"generated":{"line":1,"column":1174}}],"sources":{"../../../../src/compile/data/geopoint.ts":"import {GeoPointTransform as VgGeoPointTransform, Vector2} from 'vega';\nimport {isString} from 'vega-util';\nimport {GeoPositionChannel, LATITUDE, LATITUDE2, LONGITUDE, LONGITUDE2} from '../../channel';\nimport {getFieldOrDatumDef, isDatumDef, isFieldDef, isValueDef} from '../../channeldef';\nimport {duplicate, hash} from '../../util';\nimport {VgExprRef} from '../../vega.schema';\nimport {UnitModel} from '../unit';\nimport {DataFlowNode} from './dataflow';\n\nexport class GeoPointNode extends DataFlowNode {\n  public clone() {\n    return new GeoPointNode(null, this.projection, duplicate(this.fields), duplicate(this.as));\n  }\n\n  constructor(\n    parent: DataFlowNode,\n    private projection: string,\n    private fields: [string | VgExprRef, string | VgExprRef],\n    private as: [string, string]\n  ) {\n    super(parent);\n  }\n\n  public static parseAll(parent: DataFlowNode, model: UnitModel): DataFlowNode {\n    if (!model.projectionName()) {\n      return parent;\n    }\n\n    for (const coordinates of [\n      [LONGITUDE, LATITUDE],\n      [LONGITUDE2, LATITUDE2]\n    ] as Vector2<GeoPositionChannel>[]) {\n      const pair = coordinates.map(channel => {\n        const def = getFieldOrDatumDef(model.encoding[channel]);\n        return isFieldDef(def)\n          ? def.field\n          : isDatumDef(def)\n          ? {expr: `${def.datum}`}\n          : isValueDef(def)\n          ? {expr: `${def['value']}`}\n          : undefined;\n      }) as [GeoPositionChannel, GeoPositionChannel];\n\n      const suffix = coordinates[0] === LONGITUDE2 ? '2' : '';\n\n      if (pair[0] || pair[1]) {\n        parent = new GeoPointNode(parent, model.projectionName(), pair, [\n          model.getName('x' + suffix),\n          model.getName('y' + suffix)\n        ]);\n      }\n    }\n\n    return parent;\n  }\n\n  public dependentFields() {\n    return new Set(this.fields.filter(isString));\n  }\n\n  public producedFields() {\n    return new Set(this.as);\n  }\n\n  public hash() {\n    return `Geopoint ${this.projection} ${hash(this.fields)} ${hash(this.as)}`;\n  }\n\n  public assemble(): VgGeoPointTransform {\n    return {\n      type: 'geopoint',\n      projection: this.projection,\n      fields: this.fields,\n      as: this.as\n    };\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"ce7cd9d209e11744939d4b17f42cf016","cacheData":{"env":{}}}