{"id":"s3kz","dependencies":[{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/projection/parse.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/src/compile/projection/parse.ts","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591974399859},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/package.json","includedInParent":true,"mtime":499162500000},{"name":"vega-util","loc":{"line":1,"column":31},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/projection/parse.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"},{"name":"../../channel","loc":{"line":2,"column":66},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/projection/parse.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/channel.js"},{"name":"../../channeldef","loc":{"line":3,"column":35},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/projection/parse.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/channeldef.js"},{"name":"../../data","loc":{"line":4,"column":21},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/projection/parse.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/data.js"},{"name":"../../projection","loc":{"line":5,"column":38},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/projection/parse.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/projection.js"},{"name":"../../type","loc":{"line":6,"column":24},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/projection/parse.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/type.js"},{"name":"../../util","loc":{"line":7,"column":44},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/projection/parse.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/util.js"},{"name":"../model","loc":{"line":8,"column":28},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/projection/parse.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/model.js"},{"name":"./component","loc":{"line":9,"column":36},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/projection/parse.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/projection/component.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.parseProjection=a;var e=require(\"vega-util\"),n=require(\"../../channel\"),t=require(\"../../channeldef\"),i=require(\"../../data\"),r=require(\"../../projection\"),o=require(\"../../type\"),c=require(\"../../util\"),s=require(\"../model\"),l=require(\"./component\");function a(e){e.component.projection=(0,s.isUnitModel)(e)?u(e):g(e)}function u(e){var n;if(e.hasProjection){const t=e.specifiedProjection,i=!(t&&(null!=t.scale||null!=t.translate)),r=i?[e.getSizeSignalRef(\"width\"),e.getSizeSignalRef(\"height\")]:void 0,o=i?p(e):void 0;return new l.ProjectionComponent(e.projectionName(!0),Object.assign(Object.assign({},null!==(n=e.config.projection)&&void 0!==n?n:{}),null!=t?t:{}),r,o)}}function p(e){const r=[],{encoding:c}=e;for(const i of[[n.LONGITUDE,n.LATITUDE],[n.LONGITUDE2,n.LATITUDE2]])((0,t.getFieldOrDatumDef)(c[i[0]])||(0,t.getFieldOrDatumDef)(c[i[1]]))&&r.push({signal:e.getName(`geojson_${r.length}`)});return e.channelHasField(n.SHAPE)&&e.typedFieldDef(n.SHAPE).type===o.GEOJSON&&r.push({signal:e.getName(`geojson_${r.length}`)}),0===r.length&&r.push(e.requestDataName(i.MAIN)),r}function f(n,t){const i=(0,c.every)(r.PROJECTION_PROPERTIES,i=>!(0,e.hasOwnProperty)(n.explicit,i)&&!(0,e.hasOwnProperty)(t.explicit,i)||!(!(0,e.hasOwnProperty)(n.explicit,i)||!(0,e.hasOwnProperty)(t.explicit,i)||(0,c.stringify)(n.get(i))!==(0,c.stringify)(t.get(i))));if((0,c.stringify)(n.size)===(0,c.stringify)(t.size)){if(i)return n;if((0,c.stringify)(n.explicit)===(0,c.stringify)({}))return t;if((0,c.stringify)(t.explicit)===(0,c.stringify)({}))return n}return null}function g(e){if(0===e.children.length)return;let n;for(const i of e.children)a(i);const t=(0,c.every)(e.children,e=>{const t=e.component.projection;if(t){if(n){const e=f(n,t);return e&&(n=e),!!e}return n=t,!0}return!0});if(n&&t){const t=e.projectionName(!0),i=new l.ProjectionComponent(t,n.specifiedProjection,n.size,(0,c.duplicate)(n.data));for(const n of e.children){const e=n.component.projection;e&&(e.isFit&&i.data.push(...n.component.projection.data),n.renameProjection(e.get(\"name\"),t),e.merged=!0)}return i}}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":92}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":94}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":100}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":108}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":121}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":123}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":131}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":148}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":150}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":158}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":178}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":180}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":188}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":202}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":204}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":212}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":232}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":234}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":242}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":256}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":258}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":266}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":280}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":282}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":290}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":302}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":304}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":312}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":1,"column":327}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":13,"column":16},"generated":{"line":1,"column":336}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":1,"column":338}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":341}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":1,"column":343}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":14,"column":18},"generated":{"line":1,"column":353}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":14,"column":31},"generated":{"line":1,"column":365}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":14,"column":43},"generated":{"line":1,"column":367}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":14,"column":43},"generated":{"line":1,"column":369}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":14,"column":43},"generated":{"line":1,"column":382}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":14,"column":52},"generated":{"line":1,"column":385}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":14,"column":72},"generated":{"line":1,"column":387}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":14,"column":81},"generated":{"line":1,"column":390}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":14,"column":105},"generated":{"line":1,"column":392}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":395}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":404}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":17,"column":29},"generated":{"line":1,"column":406}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":409}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":159,"column":1},"generated":{"line":1,"column":413}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":1,"column":415}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":1,"column":418}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":18,"column":12},"generated":{"line":1,"column":420}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":18,"column":27},"generated":{"line":1,"column":434}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":19,"column":10},"generated":{"line":1,"column":435}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":19,"column":10},"generated":{"line":1,"column":441}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":19,"column":17},"generated":{"line":1,"column":443}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":19,"column":23},"generated":{"line":1,"column":445}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":20,"column":10},"generated":{"line":1,"column":465}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":20,"column":18},"generated":{"line":1,"column":469}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":20,"column":41},"generated":{"line":1,"column":473}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":20,"column":27},"generated":{"line":1,"column":479}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":20,"column":32},"generated":{"line":1,"column":481}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":20,"column":67},"generated":{"line":1,"column":488}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":20,"column":49},"generated":{"line":1,"column":494}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":20,"column":54},"generated":{"line":1,"column":496}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":1,"column":508}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":21,"column":17},"generated":{"line":1,"column":510}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":21,"column":23},"generated":{"line":1,"column":512}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":21,"column":24},"generated":{"line":1,"column":513}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":21,"column":30},"generated":{"line":1,"column":515}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":21,"column":47},"generated":{"line":1,"column":532}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":21,"column":57},"generated":{"line":1,"column":541}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":21,"column":63},"generated":{"line":1,"column":543}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":21,"column":80},"generated":{"line":1,"column":560}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":21,"column":93},"generated":{"line":1,"column":576}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":578}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":22,"column":17},"generated":{"line":1,"column":580}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":22,"column":23},"generated":{"line":1,"column":582}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":22,"column":37},"generated":{"line":1,"column":584}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":22,"column":46},"generated":{"line":1,"column":592}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":594}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":601}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":24,"column":15},"generated":{"line":1,"column":605}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":607}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":25,"column":6},"generated":{"line":1,"column":627}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":25,"column":12},"generated":{"line":1,"column":629}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":25,"column":27},"generated":{"line":1,"column":645}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":25,"column":32},"generated":{"line":1,"column":648}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":25,"column":32},"generated":{"line":1,"column":655}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":25,"column":32},"generated":{"line":1,"column":662}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":25,"column":32},"generated":{"line":1,"column":669}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":25,"column":32},"generated":{"line":1,"column":676}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":27,"column":35},"generated":{"line":1,"column":679}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":687}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":689}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":1,"column":691}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":1,"column":698}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":27,"column":35},"generated":{"line":1,"column":716}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":27,"column":35},"generated":{"line":1,"column":720}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":27,"column":35},"generated":{"line":1,"column":722}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":27,"column":39},"generated":{"line":1,"column":724}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":728}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":734}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":736}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":1,"column":738}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":30,"column":6},"generated":{"line":1,"column":742}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":744}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":748}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":1,"column":757}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":1,"column":759}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":762}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":768}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":39,"column":39},"generated":{"line":1,"column":770}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":774}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":783}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":41,"column":21},"generated":{"line":1,"column":786}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":43,"column":7},"generated":{"line":1,"column":788}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":43,"column":7},"generated":{"line":1,"column":792}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":43,"column":13},"generated":{"line":1,"column":798}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":43,"column":30},"generated":{"line":1,"column":802}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":803}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":44,"column":5},"generated":{"line":1,"column":804}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":806}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":44,"column":16},"generated":{"line":1,"column":816}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":818}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":1,"column":828}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":45,"column":5},"generated":{"line":1,"column":829}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":1,"column":831}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":45,"column":17},"generated":{"line":1,"column":842}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":1,"column":844}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":1,"column":858}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":27},"generated":{"line":1,"column":860}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":27},"generated":{"line":1,"column":862}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":27},"generated":{"line":1,"column":882}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":36},"generated":{"line":1,"column":884}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":50},"generated":{"line":1,"column":886}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":58},"generated":{"line":1,"column":893}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":77},"generated":{"line":1,"column":895}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":77},"generated":{"line":1,"column":897}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":77},"generated":{"line":1,"column":917}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":86},"generated":{"line":1,"column":919}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":47,"column":100},"generated":{"line":1,"column":921}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":1,"column":928}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":48,"column":11},"generated":{"line":1,"column":930}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":935}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":936}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":49,"column":16},"generated":{"line":1,"column":943}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":49,"column":22},"generated":{"line":1,"column":945}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":49,"column":41},"generated":{"line":1,"column":964}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":49,"column":46},"generated":{"line":1,"column":966}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":65,"column":9},"generated":{"line":1,"column":978}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":54,"column":6},"generated":{"line":1,"column":985}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":987}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":54,"column":28},"generated":{"line":1,"column":1003}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":54,"column":6},"generated":{"line":1,"column":1005}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":54,"column":38},"generated":{"line":1,"column":1013}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":54,"column":44},"generated":{"line":1,"column":1015}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":54,"column":58},"generated":{"line":1,"column":1029}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":54,"column":38},"generated":{"line":1,"column":1031}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":54,"column":65},"generated":{"line":1,"column":1038}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":54,"column":74},"generated":{"line":1,"column":1045}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":1047}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":1056}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":1058}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":55,"column":14},"generated":{"line":1,"column":1063}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":56,"column":6},"generated":{"line":1,"column":1064}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":56,"column":14},"generated":{"line":1,"column":1071}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":1073}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":56,"column":39},"generated":{"line":1,"column":1092}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":56,"column":44},"generated":{"line":1,"column":1094}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":60,"column":22},"generated":{"line":1,"column":1106}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":1110}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":1112}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":62,"column":4},"generated":{"line":1,"column":1120}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":62,"column":9},"generated":{"line":1,"column":1122}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":62,"column":14},"generated":{"line":1,"column":1127}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":62,"column":20},"generated":{"line":1,"column":1129}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":62,"column":36},"generated":{"line":1,"column":1145}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":62,"column":14},"generated":{"line":1,"column":1147}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":65,"column":9},"generated":{"line":1,"column":1154}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":68,"column":0},"generated":{"line":1,"column":1156}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":68,"column":9},"generated":{"line":1,"column":1165}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":68,"column":27},"generated":{"line":1,"column":1167}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":68,"column":55},"generated":{"line":1,"column":1169}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":1172}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":1178}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":69,"column":30},"generated":{"line":1,"column":1181}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":69,"column":36},"generated":{"line":1,"column":1183}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":69,"column":36},"generated":{"line":1,"column":1185}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":69,"column":36},"generated":{"line":1,"column":1192}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":69,"column":30},"generated":{"line":1,"column":1194}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":69,"column":59},"generated":{"line":1,"column":1216}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":1221}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":24},"generated":{"line":1,"column":1223}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":24},"generated":{"line":1,"column":1225}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":24},"generated":{"line":1,"column":1241}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":30},"generated":{"line":1,"column":1243}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":40},"generated":{"line":1,"column":1252}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":50},"generated":{"line":1,"column":1258}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":65},"generated":{"line":1,"column":1260}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":65},"generated":{"line":1,"column":1262}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":65},"generated":{"line":1,"column":1278}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":72},"generated":{"line":1,"column":1280}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":71,"column":82},"generated":{"line":1,"column":1289}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":76,"column":6},"generated":{"line":1,"column":1297}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":76,"column":21},"generated":{"line":1,"column":1299}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":76,"column":21},"generated":{"line":1,"column":1301}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":76,"column":21},"generated":{"line":1,"column":1317}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":76,"column":27},"generated":{"line":1,"column":1319}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":76,"column":37},"generated":{"line":1,"column":1328}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":1334}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":77,"column":21},"generated":{"line":1,"column":1336}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":77,"column":21},"generated":{"line":1,"column":1338}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":77,"column":21},"generated":{"line":1,"column":1354}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":77,"column":28},"generated":{"line":1,"column":1356}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":77,"column":38},"generated":{"line":1,"column":1365}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":16},"generated":{"line":1,"column":1370}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":16},"generated":{"line":1,"column":1372}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":16},"generated":{"line":1,"column":1374}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":16},"generated":{"line":1,"column":1385}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":22},"generated":{"line":1,"column":1387}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":26},"generated":{"line":1,"column":1391}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":37},"generated":{"line":1,"column":1398}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":47},"generated":{"line":1,"column":1400}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":47},"generated":{"line":1,"column":1402}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":47},"generated":{"line":1,"column":1413}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":54},"generated":{"line":1,"column":1415}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":79,"column":58},"generated":{"line":1,"column":1419}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":87,"column":6},"generated":{"line":1,"column":1425}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":86,"column":15},"generated":{"line":1,"column":1429}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":86,"column":25},"generated":{"line":1,"column":1431}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":86,"column":25},"generated":{"line":1,"column":1433}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":86,"column":25},"generated":{"line":1,"column":1444}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":86,"column":31},"generated":{"line":1,"column":1446}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":86,"column":41},"generated":{"line":1,"column":1455}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":86,"column":51},"generated":{"line":1,"column":1457}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":86,"column":51},"generated":{"line":1,"column":1459}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":86,"column":51},"generated":{"line":1,"column":1470}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":86,"column":58},"generated":{"line":1,"column":1472}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":87,"column":12},"generated":{"line":1,"column":1478}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":1479}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":1482}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":89,"column":13},"generated":{"line":1,"column":1484}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":89,"column":13},"generated":{"line":1,"column":1491}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":90,"column":11},"generated":{"line":1,"column":1493}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":90,"column":15},"generated":{"line":1,"column":1497}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":90,"column":25},"generated":{"line":1,"column":1499}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":90,"column":25},"generated":{"line":1,"column":1501}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":90,"column":25},"generated":{"line":1,"column":1512}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":90,"column":31},"generated":{"line":1,"column":1514}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":90,"column":45},"generated":{"line":1,"column":1527}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":90,"column":55},"generated":{"line":1,"column":1529}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":90,"column":55},"generated":{"line":1,"column":1531}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":90,"column":55},"generated":{"line":1,"column":1542}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":91,"column":13},"generated":{"line":1,"column":1546}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":91,"column":13},"generated":{"line":1,"column":1553}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":92,"column":11},"generated":{"line":1,"column":1555}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":92,"column":15},"generated":{"line":1,"column":1559}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":92,"column":25},"generated":{"line":1,"column":1561}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":92,"column":25},"generated":{"line":1,"column":1563}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":92,"column":25},"generated":{"line":1,"column":1574}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":92,"column":32},"generated":{"line":1,"column":1576}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":92,"column":46},"generated":{"line":1,"column":1589}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":92,"column":56},"generated":{"line":1,"column":1591}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":92,"column":56},"generated":{"line":1,"column":1593}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":92,"column":56},"generated":{"line":1,"column":1604}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":93,"column":13},"generated":{"line":1,"column":1608}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":93,"column":13},"generated":{"line":1,"column":1615}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":98,"column":9},"generated":{"line":1,"column":1617}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":98,"column":9},"generated":{"line":1,"column":1624}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":101,"column":0},"generated":{"line":1,"column":1629}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":101,"column":9},"generated":{"line":1,"column":1638}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":101,"column":33},"generated":{"line":1,"column":1640}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":1,"column":1643}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":102,"column":32},"generated":{"line":1,"column":1646}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":1,"column":1650}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":102,"column":12},"generated":{"line":1,"column":1652}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":102,"column":21},"generated":{"line":1,"column":1661}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":103,"column":11},"generated":{"line":1,"column":1668}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":106,"column":6},"generated":{"line":1,"column":1675}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":106,"column":6},"generated":{"line":1,"column":1679}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":109,"column":7},"generated":{"line":1,"column":1681}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":109,"column":7},"generated":{"line":1,"column":1685}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":109,"column":13},"generated":{"line":1,"column":1691}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":109,"column":22},"generated":{"line":1,"column":1696}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":109,"column":28},"generated":{"line":1,"column":1698}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":1,"column":1707}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":110,"column":20},"generated":{"line":1,"column":1709}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":114,"column":8},"generated":{"line":1,"column":1712}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":114,"column":8},"generated":{"line":1,"column":1718}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":114,"column":19},"generated":{"line":1,"column":1721}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":114,"column":25},"generated":{"line":1,"column":1723}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":114,"column":25},"generated":{"line":1,"column":1725}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":114,"column":25},"generated":{"line":1,"column":1732}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":114,"column":31},"generated":{"line":1,"column":1734}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":114,"column":41},"generated":{"line":1,"column":1743}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":115,"column":10},"generated":{"line":1,"column":1747}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":115,"column":10},"generated":{"line":1,"column":1753}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":115,"column":23},"generated":{"line":1,"column":1755}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":115,"column":29},"generated":{"line":1,"column":1757}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":115,"column":39},"generated":{"line":1,"column":1767}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":116,"column":8},"generated":{"line":1,"column":1778}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":116,"column":9},"generated":{"line":1,"column":1781}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":119,"column":11},"generated":{"line":1,"column":1783}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":119,"column":11},"generated":{"line":1,"column":1784}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":119,"column":16},"generated":{"line":1,"column":1787}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":123,"column":11},"generated":{"line":1,"column":1789}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":124,"column":12},"generated":{"line":1,"column":1790}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":124,"column":12},"generated":{"line":1,"column":1796}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":124,"column":20},"generated":{"line":1,"column":1798}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":124,"column":38},"generated":{"line":1,"column":1800}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":124,"column":57},"generated":{"line":1,"column":1802}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":128,"column":13},"generated":{"line":1,"column":1805}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":125,"column":10},"generated":{"line":1,"column":1812}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":126,"column":8},"generated":{"line":1,"column":1816}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":126,"column":28},"generated":{"line":1,"column":1818}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":128,"column":15},"generated":{"line":1,"column":1823}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":122,"column":13},"generated":{"line":1,"column":1825}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":121,"column":6},"generated":{"line":1,"column":1832}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":121,"column":26},"generated":{"line":1,"column":1834}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":122,"column":13},"generated":{"line":1,"column":1837}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":118,"column":13},"generated":{"line":1,"column":1839}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":118,"column":13},"generated":{"line":1,"column":1846}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":133,"column":6},"generated":{"line":1,"column":1850}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":133,"column":6},"generated":{"line":1,"column":1853}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":133,"column":27},"generated":{"line":1,"column":1856}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":133,"column":37},"generated":{"line":1,"column":1858}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":135,"column":10},"generated":{"line":1,"column":1859}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":135,"column":10},"generated":{"line":1,"column":1865}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":135,"column":17},"generated":{"line":1,"column":1867}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":135,"column":23},"generated":{"line":1,"column":1869}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":135,"column":38},"generated":{"line":1,"column":1885}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":136,"column":10},"generated":{"line":1,"column":1888}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":136,"column":28},"generated":{"line":1,"column":1890}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":136,"column":32},"generated":{"line":1,"column":1894}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":136,"column":28},"generated":{"line":1,"column":1896}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":137,"column":6},"generated":{"line":1,"column":1916}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":138,"column":6},"generated":{"line":1,"column":1918}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":138,"column":24},"generated":{"line":1,"column":1920}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":139,"column":6},"generated":{"line":1,"column":1940}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":139,"column":24},"generated":{"line":1,"column":1942}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":140,"column":6},"generated":{"line":1,"column":1948}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":140,"column":16},"generated":{"line":1,"column":1950}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":140,"column":16},"generated":{"line":1,"column":1952}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":140,"column":16},"generated":{"line":1,"column":1963}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":140,"column":34},"generated":{"line":1,"column":1965}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":144,"column":9},"generated":{"line":1,"column":1972}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":144,"column":9},"generated":{"line":1,"column":1976}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":144,"column":15},"generated":{"line":1,"column":1982}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":144,"column":24},"generated":{"line":1,"column":1987}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":144,"column":30},"generated":{"line":1,"column":1989}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":144,"column":40},"generated":{"line":1,"column":1998}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":145,"column":12},"generated":{"line":1,"column":1999}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":145,"column":12},"generated":{"line":1,"column":2005}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":145,"column":25},"generated":{"line":1,"column":2007}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":145,"column":31},"generated":{"line":1,"column":2009}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":145,"column":41},"generated":{"line":1,"column":2019}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":146,"column":10},"generated":{"line":1,"column":2030}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":147,"column":12},"generated":{"line":1,"column":2034}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":147,"column":23},"generated":{"line":1,"column":2036}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":148,"column":10},"generated":{"line":1,"column":2043}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":148,"column":26},"generated":{"line":1,"column":2045}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":148,"column":31},"generated":{"line":1,"column":2050}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":148,"column":39},"generated":{"line":1,"column":2058}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":148,"column":45},"generated":{"line":1,"column":2060}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":148,"column":55},"generated":{"line":1,"column":2070}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":148,"column":66},"generated":{"line":1,"column":2081}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":150,"column":8},"generated":{"line":1,"column":2087}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":150,"column":14},"generated":{"line":1,"column":2089}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":150,"column":31},"generated":{"line":1,"column":2106}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":150,"column":42},"generated":{"line":1,"column":2108}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":150,"column":46},"generated":{"line":1,"column":2112}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":150,"column":55},"generated":{"line":1,"column":2120}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":151,"column":8},"generated":{"line":1,"column":2123}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":151,"column":19},"generated":{"line":1,"column":2125}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":151,"column":28},"generated":{"line":1,"column":2133}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":155,"column":11},"generated":{"line":1,"column":2136}},{"source":"../../../../src/compile/projection/parse.ts","name":null,"original":{"line":155,"column":11},"generated":{"line":1,"column":2143}}],"sources":{"../../../../src/compile/projection/parse.ts":"import {SignalRef} from 'vega';\nimport {hasOwnProperty} from 'vega-util';\nimport {LATITUDE, LATITUDE2, LONGITUDE, LONGITUDE2, SHAPE} from '../../channel';\nimport {getFieldOrDatumDef} from '../../channeldef';\nimport {MAIN} from '../../data';\nimport {PROJECTION_PROPERTIES} from '../../projection';\nimport {GEOJSON} from '../../type';\nimport {duplicate, every, stringify} from '../../util';\nimport {isUnitModel, Model} from '../model';\nimport {UnitModel} from '../unit';\nimport {ProjectionComponent} from './component';\n\nexport function parseProjection(model: Model) {\n  model.component.projection = isUnitModel(model) ? parseUnitProjection(model) : parseNonUnitProjections(model);\n}\n\nfunction parseUnitProjection(model: UnitModel): ProjectionComponent {\n  if (model.hasProjection) {\n    const proj = model.specifiedProjection;\n    const fit = !(proj && (proj.scale != null || proj.translate != null));\n    const size = fit ? [model.getSizeSignalRef('width'), model.getSizeSignalRef('height')] : undefined;\n    const data = fit ? gatherFitData(model) : undefined;\n\n    return new ProjectionComponent(\n      model.projectionName(true),\n      {\n        ...(model.config.projection ?? {}),\n        ...(proj ?? {})\n      },\n      size,\n      data\n    );\n  }\n\n  return undefined;\n}\n\nfunction gatherFitData(model: UnitModel) {\n  const data: (SignalRef | string)[] = [];\n\n  const {encoding} = model;\n\n  for (const posssiblePair of [\n    [LONGITUDE, LATITUDE],\n    [LONGITUDE2, LATITUDE2]\n  ]) {\n    if (getFieldOrDatumDef(encoding[posssiblePair[0]]) || getFieldOrDatumDef(encoding[posssiblePair[1]])) {\n      data.push({\n        signal: model.getName(`geojson_${data.length}`)\n      });\n    }\n  }\n\n  if (model.channelHasField(SHAPE) && model.typedFieldDef(SHAPE).type === GEOJSON) {\n    data.push({\n      signal: model.getName(`geojson_${data.length}`)\n    });\n  }\n\n  if (data.length === 0) {\n    // main source is geojson, so we can just use that\n    data.push(model.requestDataName(MAIN));\n  }\n\n  return data;\n}\n\nfunction mergeIfNoConflict(first: ProjectionComponent, second: ProjectionComponent): ProjectionComponent {\n  const allPropertiesShared = every(PROJECTION_PROPERTIES, prop => {\n    // neither has the property\n    if (!hasOwnProperty(first.explicit, prop) && !hasOwnProperty(second.explicit, prop)) {\n      return true;\n    }\n    // both have property and an equal value for property\n    if (\n      hasOwnProperty(first.explicit, prop) &&\n      hasOwnProperty(second.explicit, prop) &&\n      // some properties might be signals or objects and require hashing for comparison\n      stringify(first.get(prop)) === stringify(second.get(prop))\n    ) {\n      return true;\n    }\n    return false;\n  });\n\n  const size = stringify(first.size) === stringify(second.size);\n  if (size) {\n    if (allPropertiesShared) {\n      return first;\n    } else if (stringify(first.explicit) === stringify({})) {\n      return second;\n    } else if (stringify(second.explicit) === stringify({})) {\n      return first;\n    }\n  }\n\n  // if all properties don't match, let each unit spec have its own projection\n  return null;\n}\n\nfunction parseNonUnitProjections(model: Model): ProjectionComponent {\n  if (model.children.length === 0) {\n    return undefined;\n  }\n\n  let nonUnitProjection: ProjectionComponent;\n\n  // parse all children first\n  for (const child of model.children) {\n    parseProjection(child);\n  }\n\n  // analyze parsed projections, attempt to merge\n  const mergable = every(model.children, child => {\n    const projection = child.component.projection;\n    if (!projection) {\n      // child layer does not use a projection\n      return true;\n    } else if (!nonUnitProjection) {\n      // cached 'projection' is null, cache this one\n      nonUnitProjection = projection;\n      return true;\n    } else {\n      const merge = mergeIfNoConflict(nonUnitProjection, projection);\n      if (merge) {\n        nonUnitProjection = merge;\n      }\n      return !!merge;\n    }\n  });\n\n  // if cached one and all other children share the same projection,\n  if (nonUnitProjection && mergable) {\n    // so we can elevate it to the layer level\n    const name = model.projectionName(true);\n    const modelProjection = new ProjectionComponent(\n      name,\n      nonUnitProjection.specifiedProjection,\n      nonUnitProjection.size,\n      duplicate(nonUnitProjection.data)\n    );\n\n    // rename and assign all others as merged\n    for (const child of model.children) {\n      const projection = child.component.projection;\n      if (projection) {\n        if (projection.isFit) {\n          modelProjection.data.push(...child.component.projection.data);\n        }\n        child.renameProjection(projection.get('name'), name);\n        projection.merged = true;\n      }\n    }\n\n    return modelProjection;\n  }\n\n  return undefined;\n}\n"},"lineCount":null}},"error":null,"hash":"31cb6f9f6eb72b0e5cf3499f00f2e6f0","cacheData":{"env":{}}}