{"id":"FQ6w","dependencies":[{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/multi.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/src/compile/selection/multi.ts","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591974399859},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/package.json","includedInParent":true,"mtime":499162500000},{"name":"vega-util","loc":{"line":1,"column":28},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/multi.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"},{"name":".","loc":{"line":2,"column":32},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/multi.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/index.js"},{"name":"./transforms/project","loc":{"line":3,"column":29},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/multi.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/project.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.singleOrMultiSignals=r,exports.default=void 0;var e=require(\"vega-util\"),t=require(\".\"),n=require(\"./transforms/project\");function r(r,i){const u=i.name,a=u+n.TUPLE_FIELDS,l=i.project,s=\"(item().isVoronoi ? datum.datum : datum)\",o=l.items.map(t=>{const n=r.fieldDef(t.channel);return n&&n.bin?`[${s}[${(0,e.stringValue)(r.vgField(t.channel,{}))}], `+`${s}[${(0,e.stringValue)(r.vgField(t.channel,{binSuffix:\"end\"}))}]]`:`${s}[${(0,e.stringValue)(t.field)}]`}).join(\", \"),d=`unit: ${(0,t.unitName)(r)}, fields: ${a}, values`,m=i.events;return[{name:u+t.TUPLE,on:m?[{events:m,update:`datum && item().mark.marktype !== 'group' ? {${d}: [${o}]} : null`,force:!0}]:[]}]}const i={signals:r,modifyExpr:(e,n)=>{return n.name+t.TUPLE+\", \"+(\"global\"===n.resolve?\"null\":`{unit: ${(0,t.unitName)(e)}}`)}};var u=i;exports.default=u;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":0}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":13}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":20}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":35}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":43}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":56}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":57}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":64}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":68}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":76}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":97}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":99}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":107}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":120}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":122}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":126}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":136}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":149}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":151}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":159}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":164}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":166}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":174}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":198}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":207}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":7,"column":37},"generated":{"line":1,"column":209}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":7,"column":55},"generated":{"line":1,"column":211}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":8,"column":8},"generated":{"line":1,"column":214}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":8,"column":8},"generated":{"line":1,"column":220}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":8,"column":15},"generated":{"line":1,"column":222}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":8,"column":23},"generated":{"line":1,"column":224}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":9,"column":8},"generated":{"line":1,"column":229}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":9,"column":19},"generated":{"line":1,"column":231}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":9,"column":26},"generated":{"line":1,"column":233}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":235}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":10,"column":8},"generated":{"line":1,"column":248}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":10,"column":18},"generated":{"line":1,"column":250}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":10,"column":26},"generated":{"line":1,"column":252}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":11,"column":8},"generated":{"line":1,"column":260}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":11,"column":16},"generated":{"line":1,"column":262}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":12,"column":8},"generated":{"line":1,"column":305}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":12,"column":17},"generated":{"line":1,"column":307}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":12,"column":25},"generated":{"line":1,"column":309}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":13,"column":5},"generated":{"line":1,"column":315}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":1,"column":319}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":14,"column":12},"generated":{"line":1,"column":323}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":14,"column":12},"generated":{"line":1,"column":329}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":14,"column":23},"generated":{"line":1,"column":331}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":14,"column":29},"generated":{"line":1,"column":333}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":14,"column":38},"generated":{"line":1,"column":342}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":14,"column":40},"generated":{"line":1,"column":344}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":16,"column":13},"generated":{"line":1,"column":353}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":16,"column":13},"generated":{"line":1,"column":360}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":16,"column":25},"generated":{"line":1,"column":363}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":16,"column":34},"generated":{"line":1,"column":365}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":17,"column":14},"generated":{"line":1,"column":373}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":17,"column":23},"generated":{"line":1,"column":379}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":17,"column":35},"generated":{"line":1,"column":381}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":17,"column":35},"generated":{"line":1,"column":383}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":17,"column":35},"generated":{"line":1,"column":396}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":17,"column":41},"generated":{"line":1,"column":398}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":17,"column":49},"generated":{"line":1,"column":406}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":17,"column":51},"generated":{"line":1,"column":408}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":17,"column":60},"generated":{"line":1,"column":416}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":18,"column":15},"generated":{"line":1,"column":429}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":18,"column":24},"generated":{"line":1,"column":435}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":18,"column":36},"generated":{"line":1,"column":437}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":18,"column":36},"generated":{"line":1,"column":439}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":18,"column":36},"generated":{"line":1,"column":452}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":18,"column":42},"generated":{"line":1,"column":454}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":18,"column":50},"generated":{"line":1,"column":462}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":18,"column":52},"generated":{"line":1,"column":464}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":18,"column":61},"generated":{"line":1,"column":472}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":18,"column":62},"generated":{"line":1,"column":473}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":18,"column":73},"generated":{"line":1,"column":483}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":19,"column":13},"generated":{"line":1,"column":499}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":19,"column":22},"generated":{"line":1,"column":505}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":19,"column":34},"generated":{"line":1,"column":507}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":19,"column":34},"generated":{"line":1,"column":509}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":19,"column":34},"generated":{"line":1,"column":522}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":19,"column":36},"generated":{"line":1,"column":524}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":21,"column":5},"generated":{"line":1,"column":536}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":1,"column":541}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":547}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":30,"column":26},"generated":{"line":1,"column":559}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":30,"column":35},"generated":{"line":1,"column":561}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":30,"column":35},"generated":{"line":1,"column":563}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":30,"column":35},"generated":{"line":1,"column":573}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":30,"column":54},"generated":{"line":1,"column":588}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":600}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":32,"column":27},"generated":{"line":1,"column":602}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":32,"column":35},"generated":{"line":1,"column":604}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":611}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":617}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":618}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":1,"column":619}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":1,"column":624}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":36,"column":19},"generated":{"line":1,"column":626}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":628}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":1,"column":634}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":637}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":639}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":1,"column":640}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":40,"column":14},"generated":{"line":1,"column":641}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":40,"column":14},"generated":{"line":1,"column":648}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":41,"column":14},"generated":{"line":1,"column":650}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":41,"column":70},"generated":{"line":1,"column":705}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":41,"column":82},"generated":{"line":1,"column":712}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":1,"column":725}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":42,"column":21},"generated":{"line":1,"column":732}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":45,"column":10},"generated":{"line":1,"column":736}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":741}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":50,"column":6},"generated":{"line":1,"column":747}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":50,"column":42},"generated":{"line":1,"column":749}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":51,"column":2},"generated":{"line":1,"column":750}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":51,"column":11},"generated":{"line":1,"column":758}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":760}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":53,"column":14},"generated":{"line":1,"column":771}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":772}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":1,"column":774}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":55,"column":11},"generated":{"line":1,"column":779}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":54,"column":16},"generated":{"line":1,"column":786}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":54,"column":24},"generated":{"line":1,"column":788}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":54,"column":31},"generated":{"line":1,"column":793}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":795}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":55,"column":17},"generated":{"line":1,"column":801}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":55,"column":45},"generated":{"line":1,"column":807}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":55,"column":25},"generated":{"line":1,"column":818}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":55,"column":33},"generated":{"line":1,"column":820}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":55,"column":56},"generated":{"line":1,"column":828}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":55,"column":75},"generated":{"line":1,"column":846}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":55,"column":84},"generated":{"line":1,"column":848}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":55,"column":84},"generated":{"line":1,"column":850}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":55,"column":84},"generated":{"line":1,"column":860}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":869}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":873}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":875}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":877}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":885}},{"source":"../../../../src/compile/selection/multi.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":893}}],"sources":{"../../../../src/compile/selection/multi.ts":"import {Stream} from 'vega';\nimport {stringValue} from 'vega-util';\nimport {SelectionCompiler, SelectionComponent, TUPLE, unitName} from '.';\nimport {UnitModel} from '../unit';\nimport {TUPLE_FIELDS} from './transforms/project';\n\nexport function singleOrMultiSignals(model: UnitModel, selCmpt: SelectionComponent<'single' | 'multi'>) {\n  const name = selCmpt.name;\n  const fieldsSg = name + TUPLE_FIELDS;\n  const project = selCmpt.project;\n  const datum = '(item().isVoronoi ? datum.datum : datum)';\n  const values = project.items\n    .map(p => {\n      const fieldDef = model.fieldDef(p.channel);\n      // Binned fields should capture extents, for a range test against the raw field.\n      return fieldDef && fieldDef.bin\n        ? `[${datum}[${stringValue(model.vgField(p.channel, {}))}], ` +\n            `${datum}[${stringValue(model.vgField(p.channel, {binSuffix: 'end'}))}]]`\n        : `${datum}[${stringValue(p.field)}]`;\n    })\n    .join(', ');\n\n  // Only add a discrete selection to the store if a datum is present _and_\n  // the interaction isn't occurring on a group mark. This guards against\n  // polluting interactive state with invalid values in faceted displays\n  // as the group marks are also data-driven. We force the update to account\n  // for constant null states but varying toggles (e.g., shift-click in\n  // whitespace followed by a click in whitespace; the store should only\n  // be cleared on the second click).\n  const update = `unit: ${unitName(model)}, fields: ${fieldsSg}, values`;\n\n  const events: Stream[] = selCmpt.events;\n\n  return [\n    {\n      name: name + TUPLE,\n      on: events\n        ? [\n            {\n              events,\n              update: `datum && item().mark.marktype !== 'group' ? {${update}: [${values}]} : null`,\n              force: true\n            }\n          ]\n        : []\n    }\n  ];\n}\n\nconst multi: SelectionCompiler<'multi'> = {\n  signals: singleOrMultiSignals,\n\n  modifyExpr: (model, selCmpt) => {\n    const tpl = selCmpt.name + TUPLE;\n    return tpl + ', ' + (selCmpt.resolve === 'global' ? 'null' : `{unit: ${unitName(model)}}`);\n  }\n};\n\nexport default multi;\n"},"lineCount":null}},"error":null,"hash":"291fea7d4c78eb46570160ad5708726f","cacheData":{"env":{}}}