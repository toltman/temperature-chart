{"id":"E0QK","dependencies":[{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/index.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/src/compile/selection/index.ts","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591970318768},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/package.json","includedInParent":true,"mtime":499162500000},{"name":"vega-util","loc":{"line":1,"column":28},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/index.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"},{"name":"../../channel","loc":{"line":2,"column":31},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/index.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/channel.js"},{"name":"../../selection","loc":{"line":3,"column":29},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/index.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/selection.js"},{"name":"../../util","loc":{"line":4,"column":21},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/index.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/util.js"},{"name":"../model","loc":{"line":5,"column":29},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/index.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/model.js"},{"name":"./interval","loc":{"line":6,"column":21},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/index.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/interval.js"},{"name":"./multi","loc":{"line":7,"column":18},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/index.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/multi.js"},{"name":"./single","loc":{"line":8,"column":19},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/index.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/single.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.forEachSelection=d,exports.unitName=O,exports.requiresSelectionId=S,exports.VL_SELECTION_RESOLVE=exports.SELECTION_DOMAIN=exports.MODIFY=exports.TUPLE=exports.STORE=void 0;var e=require(\"vega-util\"),t=require(\"../../channel\"),o=require(\"../../selection\"),r=require(\"../../util\"),n=require(\"../model\"),s=c(require(\"./interval\")),i=c(require(\"./multi\")),l=c(require(\"./single\"));function c(e){return e&&e.__esModule?e:{default:e}}const u=\"_store\";exports.STORE=u;const a=\"_tuple\";exports.TUPLE=a;const f=\"_modify\";exports.MODIFY=f;const p=\"_selection_domain_\";exports.SELECTION_DOMAIN=p;const _=\"vlSelectionResolve\";exports.VL_SELECTION_RESOLVE=\"vlSelectionResolve\";const E={single:l.default,multi:i.default,interval:s.default};function d(e,t){const o=e.component.selection;if(o)for(const n of(0,r.vals)(o)){if(!0===t(n,E[n.type]))break}}function x(e){let t=e.parent;for(;t&&!(0,n.isFacetModel)(t);)t=t.parent;return t}function O(o,{escape:r}={escape:!0}){let n=r?(0,e.stringValue)(o.name):o.name;const s=x(o);if(s){const{facet:o}=s;for(const r of t.FACET_CHANNELS)o[r]&&(n+=` + '__facet_${r}_' + (facet[${(0,e.stringValue)(s.vgField(r))}])`)}return n}function S(e){let t=!1;return d(e,e=>{t=t||e.project.items.some(e=>e.field===o.SELECTION_ID)}),t}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":93}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":95}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":103}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":112}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":114}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":122}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":142}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":144}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":152}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":173}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":181}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":198}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":206}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":213}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":221}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":227}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":235}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":246}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":248}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":252}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":254}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":262}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":275}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":277}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":285}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":302}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":304}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":312}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":331}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":333}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":341}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":355}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":357}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":365}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":377}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":379}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":381}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":389}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":404}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":406}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":408}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":416}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":428}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":430}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":432}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":440}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":453}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":462}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":464}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":467}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":474}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":477}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":479}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":490}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":492}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":493}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":501}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":23,"column":7},"generated":{"line":1,"column":504}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":23,"column":13},"generated":{"line":1,"column":510}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":23,"column":21},"generated":{"line":1,"column":512}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":521}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":529}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":535}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":24,"column":7},"generated":{"line":1,"column":537}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":24,"column":13},"generated":{"line":1,"column":543}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":24,"column":21},"generated":{"line":1,"column":545}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":554}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":562}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":568}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":25,"column":7},"generated":{"line":1,"column":570}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":1,"column":576}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":25,"column":22},"generated":{"line":1,"column":578}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":588}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":596}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":603}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":26,"column":7},"generated":{"line":1,"column":605}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":611}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":26,"column":32},"generated":{"line":1,"column":613}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":634}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":642}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":659}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":27,"column":7},"generated":{"line":1,"column":661}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":1,"column":667}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":27,"column":36},"generated":{"line":1,"column":669}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":690}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":111,"column":1},"generated":{"line":1,"column":698}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":27,"column":36},"generated":{"line":1,"column":719}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":0},"generated":{"line":1,"column":740}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":6},"generated":{"line":1,"column":746}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":43},"generated":{"line":1,"column":748}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":44},"generated":{"line":1,"column":749}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":44},"generated":{"line":1,"column":756}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":43},"generated":{"line":1,"column":758}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":52},"generated":{"line":1,"column":766}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":52},"generated":{"line":1,"column":772}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":43},"generated":{"line":1,"column":774}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":59},"generated":{"line":1,"column":782}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":59},"generated":{"line":1,"column":791}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":64,"column":59},"generated":{"line":1,"column":793}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":66,"column":6},"generated":{"line":1,"column":802}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":66,"column":16},"generated":{"line":1,"column":811}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":1,"column":813}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":68,"column":2},"generated":{"line":1,"column":815}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":818}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":824}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":1,"column":826}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":70,"column":27},"generated":{"line":1,"column":828}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":70,"column":37},"generated":{"line":1,"column":838}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":71,"column":6},"generated":{"line":1,"column":848}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":71,"column":6},"generated":{"line":1,"column":851}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":72,"column":9},"generated":{"line":1,"column":853}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":72,"column":9},"generated":{"line":1,"column":857}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":72,"column":15},"generated":{"line":1,"column":863}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":72,"column":22},"generated":{"line":1,"column":868}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":72,"column":27},"generated":{"line":1,"column":870}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":72,"column":27},"generated":{"line":1,"column":872}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":72,"column":27},"generated":{"line":1,"column":878}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":72,"column":40},"generated":{"line":1,"column":881}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":882}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":74,"column":22},"generated":{"line":1,"column":886}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":1,"column":890}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":73,"column":25},"generated":{"line":1,"column":892}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":73,"column":30},"generated":{"line":1,"column":894}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":73,"column":40},"generated":{"line":1,"column":896}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":73,"column":44},"generated":{"line":1,"column":898}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":74,"column":28},"generated":{"line":1,"column":905}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":79,"column":0},"generated":{"line":1,"column":912}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":79,"column":9},"generated":{"line":1,"column":921}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":79,"column":23},"generated":{"line":1,"column":923}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":926}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":930}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":80,"column":15},"generated":{"line":1,"column":932}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":80,"column":21},"generated":{"line":1,"column":934}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":941}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":946}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":82,"column":8},"generated":{"line":1,"column":951}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":82,"column":21},"generated":{"line":1,"column":953}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":82,"column":21},"generated":{"line":1,"column":955}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":82,"column":21},"generated":{"line":1,"column":969}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":1,"column":973}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":1,"column":975}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":85,"column":20},"generated":{"line":1,"column":977}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":88,"column":9},"generated":{"line":1,"column":984}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":88,"column":9},"generated":{"line":1,"column":991}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":91,"column":6},"generated":{"line":1,"column":993}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":91,"column":16},"generated":{"line":1,"column":1002}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":91,"column":25},"generated":{"line":1,"column":1004}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":91,"column":39},"generated":{"line":1,"column":1007}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":91,"column":40},"generated":{"line":1,"column":1014}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":91,"column":50},"generated":{"line":1,"column":1017}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":91,"column":51},"generated":{"line":1,"column":1018}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":91,"column":59},"generated":{"line":1,"column":1026}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":92,"column":6},"generated":{"line":1,"column":1030}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":92,"column":6},"generated":{"line":1,"column":1034}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":92,"column":13},"generated":{"line":1,"column":1036}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":92,"column":22},"generated":{"line":1,"column":1039}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":92,"column":34},"generated":{"line":1,"column":1041}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":92,"column":34},"generated":{"line":1,"column":1043}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":92,"column":34},"generated":{"line":1,"column":1056}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":92,"column":40},"generated":{"line":1,"column":1058}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":92,"column":48},"generated":{"line":1,"column":1064}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":92,"column":54},"generated":{"line":1,"column":1066}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":1071}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":1077}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":93,"column":21},"generated":{"line":1,"column":1079}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":93,"column":35},"generated":{"line":1,"column":1081}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":94,"column":6},"generated":{"line":1,"column":1084}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":94,"column":6},"generated":{"line":1,"column":1087}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":94,"column":18},"generated":{"line":1,"column":1089}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":95,"column":10},"generated":{"line":1,"column":1090}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":95,"column":10},"generated":{"line":1,"column":1096}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":95,"column":11},"generated":{"line":1,"column":1102}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":95,"column":20},"generated":{"line":1,"column":1105}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":96,"column":9},"generated":{"line":1,"column":1107}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":96,"column":9},"generated":{"line":1,"column":1111}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":96,"column":15},"generated":{"line":1,"column":1117}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":96,"column":26},"generated":{"line":1,"column":1122}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":96,"column":4},"generated":{"line":1,"column":1124}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":97,"column":10},"generated":{"line":1,"column":1139}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":97,"column":16},"generated":{"line":1,"column":1141}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":98,"column":8},"generated":{"line":1,"column":1146}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":98,"column":31},"generated":{"line":1,"column":1164}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":98,"column":53},"generated":{"line":1,"column":1181}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":98,"column":65},"generated":{"line":1,"column":1183}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":98,"column":65},"generated":{"line":1,"column":1185}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":98,"column":65},"generated":{"line":1,"column":1198}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":98,"column":76},"generated":{"line":1,"column":1200}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":98,"column":84},"generated":{"line":1,"column":1208}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":102,"column":9},"generated":{"line":1,"column":1217}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":102,"column":9},"generated":{"line":1,"column":1224}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":1,"column":1226}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":105,"column":16},"generated":{"line":1,"column":1235}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":105,"column":36},"generated":{"line":1,"column":1237}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":106,"column":6},"generated":{"line":1,"column":1240}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":106,"column":6},"generated":{"line":1,"column":1244}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":106,"column":19},"generated":{"line":1,"column":1247}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":110,"column":9},"generated":{"line":1,"column":1249}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":107,"column":2},"generated":{"line":1,"column":1256}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":107,"column":19},"generated":{"line":1,"column":1258}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":107,"column":26},"generated":{"line":1,"column":1260}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":108,"column":4},"generated":{"line":1,"column":1264}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":108,"column":17},"generated":{"line":1,"column":1266}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":108,"column":31},"generated":{"line":1,"column":1269}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":108,"column":39},"generated":{"line":1,"column":1271}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":108,"column":47},"generated":{"line":1,"column":1279}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":108,"column":53},"generated":{"line":1,"column":1285}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":108,"column":58},"generated":{"line":1,"column":1290}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":108,"column":66},"generated":{"line":1,"column":1293}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":108,"column":71},"generated":{"line":1,"column":1295}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":108,"column":81},"generated":{"line":1,"column":1303}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":108,"column":31},"generated":{"line":1,"column":1305}},{"source":"../../../../src/compile/selection/index.ts","name":null,"original":{"line":110,"column":9},"generated":{"line":1,"column":1321}}],"sources":{"../../../../src/compile/selection/index.ts":"import {Binding, NewSignal, Stream} from 'vega';\nimport {stringValue} from 'vega-util';\nimport {FACET_CHANNELS} from '../../channel';\nimport {\n  BrushConfig,\n  LegendBinding,\n  SelectionInit,\n  SelectionInitInterval,\n  SelectionResolution,\n  SelectionType,\n  SELECTION_ID\n} from '../../selection';\nimport {Dict, vals} from '../../util';\nimport {OutputNode} from '../data/dataflow';\nimport {FacetModel} from '../facet';\nimport {isFacetModel, Model} from '../model';\nimport {UnitModel} from '../unit';\nimport interval from './interval';\nimport multi from './multi';\nimport single from './single';\nimport {SelectionProjection, SelectionProjectionComponent} from './transforms/project';\n\nexport const STORE = '_store';\nexport const TUPLE = '_tuple';\nexport const MODIFY = '_modify';\nexport const SELECTION_DOMAIN = '_selection_domain_';\nexport const VL_SELECTION_RESOLVE = 'vlSelectionResolve';\n\nexport interface SelectionComponent<T extends SelectionType = SelectionType> {\n  name: string;\n  type: T;\n  // Use conditional types for stricter type of init (as the type of init depends on selection type).\n  init?: (T extends 'interval'\n    ? SelectionInitInterval\n    : T extends 'single'\n    ? SelectionInit\n    : T extends 'multi'\n    ? SelectionInit | SelectionInit[]\n    : never)[];\n  events: Stream[];\n  materialized: OutputNode;\n  bind?: 'scales' | Binding | Dict<Binding> | LegendBinding;\n  resolve: SelectionResolution;\n  empty: 'all' | 'none';\n  mark?: BrushConfig;\n\n  // Transforms\n  project?: SelectionProjectionComponent;\n  scales?: SelectionProjection[];\n  toggle?: any;\n  translate?: any;\n  zoom?: any;\n  nearest?: any;\n  clear?: any;\n}\n\nexport interface SelectionCompiler<T extends SelectionType = SelectionType> {\n  signals: (model: UnitModel, selCmpt: SelectionComponent<T>) => NewSignal[];\n  topLevelSignals?: (model: Model, selCmpt: SelectionComponent<T>, signals: NewSignal[]) => NewSignal[];\n  modifyExpr: (model: UnitModel, selCmpt: SelectionComponent<T>) => string;\n  marks?: (model: UnitModel, selCmpt: SelectionComponent<T>, marks: any[]) => any[];\n}\n\nconst compilers: Dict<SelectionCompiler> = {single, multi, interval};\n\nexport function forEachSelection(\n  model: Model,\n  cb: (selCmpt: SelectionComponent, selCompiler: SelectionCompiler) => void | boolean\n) {\n  const selections = model.component.selection;\n  if (selections) {\n    for (const sel of vals(selections)) {\n      const success = cb(sel, compilers[sel.type]);\n      if (success === true) break;\n    }\n  }\n}\n\nfunction getFacetModel(model: Model): FacetModel {\n  let parent = model.parent;\n  while (parent) {\n    if (isFacetModel(parent)) {\n      break;\n    }\n    parent = parent.parent;\n  }\n\n  return parent as FacetModel;\n}\n\nexport function unitName(model: Model, {escape} = {escape: true}) {\n  let name = escape ? stringValue(model.name) : model.name;\n  const facetModel = getFacetModel(model);\n  if (facetModel) {\n    const {facet} = facetModel;\n    for (const channel of FACET_CHANNELS) {\n      if (facet[channel]) {\n        name += ` + '__facet_${channel}_' + (facet[${stringValue(facetModel.vgField(channel))}])`;\n      }\n    }\n  }\n  return name;\n}\n\nexport function requiresSelectionId(model: Model) {\n  let identifier = false;\n  forEachSelection(model, selCmpt => {\n    identifier = identifier || selCmpt.project.items.some(proj => proj.field === SELECTION_ID);\n  });\n  return identifier;\n}\n"},"lineCount":null}},"error":null,"hash":"4d1e862360a308e54132933f9dcdb7e8","cacheData":{"env":{}}}