{"id":"mIYc","dependencies":[{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591970318768},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-selections/package.json","includedInParent":true,"mtime":1591969205136},{"name":"./constants","loc":{"line":1,"column":24},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-selections/src/selectionVisitor.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-selections/src/constants.js"},{"name":"vega-expression","loc":{"line":2,"column":22},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-selections/src/selectionVisitor.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-expression/index.js"},{"name":"vega-util","loc":{"line":3,"column":42},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-selections/src/selectionVisitor.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.selectionVisitor=i;var e=require(\"./constants\"),t=require(\"vega-expression\"),r=require(\"vega-util\");const s=\":\",n=\"@\";function i(i,a,o,u){a[0].type!==t.Literal&&(0,r.error)(\"First argument to selection functions must be a string literal.\");const l=a[0].value,c=a.length>=2&&(0,r.peek)(a).value,p=n+\"unit\",g=s+l;c!==e.Intersect||(0,r.hasOwnProperty)(u,p)||(u[p]=o.getData(l).indataRef(o,\"unit\")),(0,r.hasOwnProperty)(u,g)||(u[g]=o.getData(l).tuplesRef())}"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":26,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":26,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":26,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":26,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":26,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":26,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":26,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":26,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":26,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":26,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":26,"column":1},"generated":{"line":1,"column":93}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":1,"column":0},"generated":{"line":1,"column":101}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":2,"column":0},"generated":{"line":1,"column":124}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":2,"column":0},"generated":{"line":1,"column":126}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":2,"column":0},"generated":{"line":1,"column":134}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":3,"column":0},"generated":{"line":1,"column":153}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":3,"column":0},"generated":{"line":1,"column":155}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":3,"column":0},"generated":{"line":1,"column":163}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":5,"column":0},"generated":{"line":1,"column":176}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"DataPrefix","original":{"line":5,"column":6},"generated":{"line":1,"column":182}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":5,"column":19},"generated":{"line":1,"column":184}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"IndexPrefix","original":{"line":6,"column":6},"generated":{"line":1,"column":188}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":6,"column":20},"generated":{"line":1,"column":190}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":8,"column":7},"generated":{"line":1,"column":194}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"selectionVisitor","original":{"line":8,"column":16},"generated":{"line":1,"column":203}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"name","original":{"line":8,"column":33},"generated":{"line":1,"column":205}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"args","original":{"line":8,"column":39},"generated":{"line":1,"column":207}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"scope","original":{"line":8,"column":45},"generated":{"line":1,"column":209}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"params","original":{"line":8,"column":52},"generated":{"line":1,"column":211}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"args","original":{"line":9,"column":6},"generated":{"line":1,"column":214}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":9,"column":11},"generated":{"line":1,"column":216}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"type","original":{"line":9,"column":14},"generated":{"line":1,"column":219}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"Literal","original":{"line":9,"column":23},"generated":{"line":1,"column":226}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":9,"column":2},"generated":{"line":1,"column":228}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":9,"column":32},"generated":{"line":1,"column":238}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":9,"column":38},"generated":{"line":1,"column":240}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":9,"column":38},"generated":{"line":1,"column":242}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":9,"column":38},"generated":{"line":1,"column":249}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"data","original":{"line":11,"column":8},"generated":{"line":1,"column":316}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"data","original":{"line":11,"column":8},"generated":{"line":1,"column":322}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"args","original":{"line":11,"column":15},"generated":{"line":1,"column":324}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":11,"column":20},"generated":{"line":1,"column":326}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"value","original":{"line":11,"column":23},"generated":{"line":1,"column":329}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"op","original":{"line":12,"column":8},"generated":{"line":1,"column":335}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"args","original":{"line":12,"column":13},"generated":{"line":1,"column":337}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"length","original":{"line":12,"column":18},"generated":{"line":1,"column":339}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":12,"column":28},"generated":{"line":1,"column":347}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":12,"column":33},"generated":{"line":1,"column":351}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"args","original":{"line":12,"column":38},"generated":{"line":1,"column":353}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"args","original":{"line":12,"column":38},"generated":{"line":1,"column":355}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"args","original":{"line":12,"column":38},"generated":{"line":1,"column":361}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"value","original":{"line":12,"column":44},"generated":{"line":1,"column":364}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"indexName","original":{"line":14,"column":8},"generated":{"line":1,"column":370}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"IndexPrefix","original":{"line":14,"column":20},"generated":{"line":1,"column":372}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":13,"column":16},"generated":{"line":1,"column":374}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"dataName","original":{"line":15,"column":8},"generated":{"line":1,"column":381}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"DataPrefix","original":{"line":15,"column":19},"generated":{"line":1,"column":383}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"data","original":{"line":15,"column":32},"generated":{"line":1,"column":385}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"op","original":{"line":18,"column":6},"generated":{"line":1,"column":387}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"Intersect","original":{"line":18,"column":13},"generated":{"line":1,"column":391}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":18,"column":6},"generated":{"line":1,"column":393}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":18,"column":27},"generated":{"line":1,"column":405}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"params","original":{"line":18,"column":42},"generated":{"line":1,"column":407}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"params","original":{"line":18,"column":42},"generated":{"line":1,"column":409}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"params","original":{"line":18,"column":42},"generated":{"line":1,"column":425}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"indexName","original":{"line":18,"column":50},"generated":{"line":1,"column":427}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"params","original":{"line":19,"column":4},"generated":{"line":1,"column":432}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"indexName","original":{"line":19,"column":11},"generated":{"line":1,"column":434}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"scope","original":{"line":19,"column":24},"generated":{"line":1,"column":437}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"getData","original":{"line":19,"column":30},"generated":{"line":1,"column":439}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"data","original":{"line":19,"column":38},"generated":{"line":1,"column":447}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"indataRef","original":{"line":19,"column":44},"generated":{"line":1,"column":450}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"scope","original":{"line":19,"column":54},"generated":{"line":1,"column":460}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":13,"column":16},"generated":{"line":1,"column":462}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","original":{"line":23,"column":7},"generated":{"line":1,"column":472}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"params","original":{"line":23,"column":22},"generated":{"line":1,"column":474}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"params","original":{"line":23,"column":22},"generated":{"line":1,"column":476}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"params","original":{"line":23,"column":22},"generated":{"line":1,"column":492}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"dataName","original":{"line":23,"column":30},"generated":{"line":1,"column":494}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"params","original":{"line":24,"column":4},"generated":{"line":1,"column":499}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"dataName","original":{"line":24,"column":11},"generated":{"line":1,"column":501}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"scope","original":{"line":24,"column":23},"generated":{"line":1,"column":504}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"getData","original":{"line":24,"column":29},"generated":{"line":1,"column":506}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"data","original":{"line":24,"column":37},"generated":{"line":1,"column":514}},{"source":"node_modules/vega-selections/src/selectionVisitor.js","name":"tuplesRef","original":{"line":24,"column":43},"generated":{"line":1,"column":517}}],"sources":{"node_modules/vega-selections/src/selectionVisitor.js":"import {Intersect} from './constants';\nimport {Literal} from 'vega-expression';\nimport {error, hasOwnProperty, peek} from 'vega-util';\n\nconst DataPrefix = ':',\n      IndexPrefix = '@';\n\nexport function selectionVisitor(name, args, scope, params) {\n  if (args[0].type !== Literal) error('First argument to selection functions must be a string literal.');\n\n  const data = args[0].value,\n        op = args.length >= 2 && peek(args).value,\n        field = 'unit',\n        indexName = IndexPrefix + field,\n        dataName = DataPrefix + data;\n\n  // eslint-disable-next-line no-prototype-builtins\n  if (op === Intersect && !hasOwnProperty(params, indexName)) {\n    params[indexName] = scope.getData(data).indataRef(scope, field);\n  }\n\n  // eslint-disable-next-line no-prototype-builtins\n  if (!hasOwnProperty(params, dataName)) {\n    params[dataName] = scope.getData(data).tuplesRef();\n  }\n}"},"lineCount":null}},"error":null,"hash":"7aed5d009f53695e7ece4bcea899a70a","cacheData":{"env":{}}}