{"id":"H1Do","dependencies":[{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591977532257},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-transforms/package.json","includedInParent":true,"mtime":1591969205221},{"name":"./util/util","loc":{"line":1,"column":25},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-transforms/src/Project.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-transforms/src/util/util.js"},{"name":"vega-dataflow","loc":{"line":2,"column":51},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-transforms/src/Project.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/index.js"},{"name":"vega-util","loc":{"line":3,"column":23},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-transforms/src/Project.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=i;var e=require(\"./util/util\"),t=require(\"vega-dataflow\"),r=require(\"vega-util\");function i(e){t.Transform.call(this,null,e)}i.Definition={type:\"Project\",metadata:{generates:!0,changes:!0},params:[{name:\"fields\",type:\"field\",array:!0},{name:\"as\",type:\"string\",null:!0,array:!0}]};var a=(0,r.inherits)(i,t.Transform);function n(e,t,r,i){for(var a=0,n=r.length;a<n;++a)t[i[a]]=r[a](e);return t}a.transform=function(r,i){var a,u,s=r.fields,l=(0,e.fieldNames)(r.fields,r.as||[]),f=s?function(e,t){return n(e,t,s,l)}:t.rederive;return this.value?u=this.value:(i=i.addAll(),u=this.value={}),a=i.fork(i.NO_SOURCE),i.visit(i.REM,function(e){var r=(0,t.tupleid)(e);a.rem.push(u[r]),u[r]=null}),i.visit(i.ADD,function(e){var r=f(e,(0,t.ingest)({}));u[(0,t.tupleid)(e)]=r,a.add.push(r)}),i.visit(i.MOD,function(e){a.mod.push(f(e,u[(0,t.tupleid)(e)]))}),a};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":73,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":73,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":73,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":73,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":73,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":73,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":73,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":73,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":73,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":73,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":73,"column":1},"generated":{"line":1,"column":84}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":2,"column":0},"generated":{"line":1,"column":115}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":3,"column":0},"generated":{"line":1,"column":142}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":3,"column":0},"generated":{"line":1,"column":144}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":17,"column":15},"generated":{"line":1,"column":165}},{"source":"node_modules/vega-transforms/src/Project.js","name":"Project","original":{"line":17,"column":24},"generated":{"line":1,"column":174}},{"source":"node_modules/vega-transforms/src/Project.js","name":"params","original":{"line":17,"column":32},"generated":{"line":1,"column":176}},{"source":"node_modules/vega-transforms/src/Project.js","name":"call","original":{"line":18,"column":12},"generated":{"line":1,"column":179}},{"source":"node_modules/vega-transforms/src/Project.js","name":"call","original":{"line":18,"column":12},"generated":{"line":1,"column":181}},{"source":"node_modules/vega-transforms/src/Project.js","name":"call","original":{"line":18,"column":12},"generated":{"line":1,"column":191}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":18,"column":17},"generated":{"line":1,"column":196}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":18,"column":23},"generated":{"line":1,"column":201}},{"source":"node_modules/vega-transforms/src/Project.js","name":"params","original":{"line":18,"column":29},"generated":{"line":1,"column":206}},{"source":"node_modules/vega-transforms/src/Project.js","name":"Project","original":{"line":21,"column":0},"generated":{"line":1,"column":209}},{"source":"node_modules/vega-transforms/src/Project.js","name":"Definition","original":{"line":21,"column":8},"generated":{"line":1,"column":211}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":21,"column":21},"generated":{"line":1,"column":222}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":22,"column":10},"generated":{"line":1,"column":223}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":22,"column":10},"generated":{"line":1,"column":228}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":23,"column":14},"generated":{"line":1,"column":238}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":23,"column":14},"generated":{"line":1,"column":247}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":23,"column":28},"generated":{"line":1,"column":248}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":23,"column":28},"generated":{"line":1,"column":259}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":23,"column":45},"generated":{"line":1,"column":261}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":23,"column":45},"generated":{"line":1,"column":270}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":24,"column":12},"generated":{"line":1,"column":273}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":24,"column":12},"generated":{"line":1,"column":280}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":25,"column":4},"generated":{"line":1,"column":281}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":25,"column":14},"generated":{"line":1,"column":282}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":25,"column":14},"generated":{"line":1,"column":287}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":25,"column":32},"generated":{"line":1,"column":296}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":25,"column":32},"generated":{"line":1,"column":301}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":25,"column":50},"generated":{"line":1,"column":309}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":25,"column":50},"generated":{"line":1,"column":316}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":26,"column":4},"generated":{"line":1,"column":319}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":26,"column":14},"generated":{"line":1,"column":320}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":26,"column":14},"generated":{"line":1,"column":325}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":26,"column":28},"generated":{"line":1,"column":330}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":26,"column":28},"generated":{"line":1,"column":335}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":26,"column":46},"generated":{"line":1,"column":344}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":26,"column":46},"generated":{"line":1,"column":350}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":26,"column":61},"generated":{"line":1,"column":352}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":26,"column":61},"generated":{"line":1,"column":359}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":30,"column":0},"generated":{"line":1,"column":364}},{"source":"node_modules/vega-transforms/src/Project.js","name":"prototype","original":{"line":30,"column":4},"generated":{"line":1,"column":368}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":30,"column":16},"generated":{"line":1,"column":371}},{"source":"node_modules/vega-transforms/src/Project.js","name":"Project","original":{"line":30,"column":25},"generated":{"line":1,"column":373}},{"source":"node_modules/vega-transforms/src/Project.js","name":"Project","original":{"line":30,"column":25},"generated":{"line":1,"column":375}},{"source":"node_modules/vega-transforms/src/Project.js","name":"Project","original":{"line":30,"column":25},"generated":{"line":1,"column":385}},{"source":"node_modules/vega-transforms/src/Project.js","name":"Transform","original":{"line":30,"column":34},"generated":{"line":1,"column":387}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":30,"column":16},"generated":{"line":1,"column":389}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":68,"column":0},"generated":{"line":1,"column":400}},{"source":"node_modules/vega-transforms/src/Project.js","name":"project","original":{"line":68,"column":9},"generated":{"line":1,"column":409}},{"source":"node_modules/vega-transforms/src/Project.js","name":"s","original":{"line":68,"column":17},"generated":{"line":1,"column":411}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":68,"column":20},"generated":{"line":1,"column":413}},{"source":"node_modules/vega-transforms/src/Project.js","name":"fields","original":{"line":68,"column":23},"generated":{"line":1,"column":415}},{"source":"node_modules/vega-transforms/src/Project.js","name":"as","original":{"line":68,"column":31},"generated":{"line":1,"column":417}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":69,"column":7},"generated":{"line":1,"column":420}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":69,"column":7},"generated":{"line":1,"column":424}},{"source":"node_modules/vega-transforms/src/Project.js","name":"i","original":{"line":69,"column":11},"generated":{"line":1,"column":428}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":69,"column":13},"generated":{"line":1,"column":430}},{"source":"node_modules/vega-transforms/src/Project.js","name":"n","original":{"line":69,"column":16},"generated":{"line":1,"column":432}},{"source":"node_modules/vega-transforms/src/Project.js","name":"fields","original":{"line":69,"column":18},"generated":{"line":1,"column":434}},{"source":"node_modules/vega-transforms/src/Project.js","name":"length","original":{"line":69,"column":25},"generated":{"line":1,"column":436}},{"source":"node_modules/vega-transforms/src/Project.js","name":"i","original":{"line":69,"column":33},"generated":{"line":1,"column":443}},{"source":"node_modules/vega-transforms/src/Project.js","name":"n","original":{"line":69,"column":35},"generated":{"line":1,"column":445}},{"source":"node_modules/vega-transforms/src/Project.js","name":"i","original":{"line":69,"column":40},"generated":{"line":1,"column":449}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":70,"column":4},"generated":{"line":1,"column":451}},{"source":"node_modules/vega-transforms/src/Project.js","name":"as","original":{"line":70,"column":6},"generated":{"line":1,"column":453}},{"source":"node_modules/vega-transforms/src/Project.js","name":"i","original":{"line":70,"column":9},"generated":{"line":1,"column":455}},{"source":"node_modules/vega-transforms/src/Project.js","name":"fields","original":{"line":70,"column":15},"generated":{"line":1,"column":459}},{"source":"node_modules/vega-transforms/src/Project.js","name":"i","original":{"line":70,"column":22},"generated":{"line":1,"column":461}},{"source":"node_modules/vega-transforms/src/Project.js","name":"s","original":{"line":70,"column":25},"generated":{"line":1,"column":464}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":72,"column":9},"generated":{"line":1,"column":467}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":72,"column":9},"generated":{"line":1,"column":474}},{"source":"node_modules/vega-transforms/src/Project.js","name":"prototype","original":{"line":32,"column":0},"generated":{"line":1,"column":476}},{"source":"node_modules/vega-transforms/src/Project.js","name":"transform","original":{"line":32,"column":10},"generated":{"line":1,"column":478}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":32,"column":22},"generated":{"line":1,"column":488}},{"source":"node_modules/vega-transforms/src/Project.js","name":"_","original":{"line":32,"column":31},"generated":{"line":1,"column":497}},{"source":"node_modules/vega-transforms/src/Project.js","name":"pulse","original":{"line":32,"column":34},"generated":{"line":1,"column":499}},{"source":"node_modules/vega-transforms/src/Project.js","name":"fields","original":{"line":33,"column":6},"generated":{"line":1,"column":502}},{"source":"node_modules/vega-transforms/src/Project.js","name":"out","original":{"line":38,"column":6},"generated":{"line":1,"column":506}},{"source":"node_modules/vega-transforms/src/Project.js","name":"lut","original":{"line":38,"column":11},"generated":{"line":1,"column":508}},{"source":"node_modules/vega-transforms/src/Project.js","name":"fields","original":{"line":33,"column":6},"generated":{"line":1,"column":510}},{"source":"node_modules/vega-transforms/src/Project.js","name":"_","original":{"line":33,"column":15},"generated":{"line":1,"column":512}},{"source":"node_modules/vega-transforms/src/Project.js","name":"fields","original":{"line":33,"column":17},"generated":{"line":1,"column":514}},{"source":"node_modules/vega-transforms/src/Project.js","name":"as","original":{"line":34,"column":6},"generated":{"line":1,"column":521}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":34,"column":11},"generated":{"line":1,"column":524}},{"source":"node_modules/vega-transforms/src/Project.js","name":"_","original":{"line":34,"column":22},"generated":{"line":1,"column":526}},{"source":"node_modules/vega-transforms/src/Project.js","name":"_","original":{"line":34,"column":22},"generated":{"line":1,"column":528}},{"source":"node_modules/vega-transforms/src/Project.js","name":"_","original":{"line":34,"column":22},"generated":{"line":1,"column":540}},{"source":"node_modules/vega-transforms/src/Project.js","name":"fields","original":{"line":34,"column":24},"generated":{"line":1,"column":542}},{"source":"node_modules/vega-transforms/src/Project.js","name":"_","original":{"line":34,"column":32},"generated":{"line":1,"column":549}},{"source":"node_modules/vega-transforms/src/Project.js","name":"as","original":{"line":34,"column":34},"generated":{"line":1,"column":551}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":34,"column":40},"generated":{"line":1,"column":555}},{"source":"node_modules/vega-transforms/src/Project.js","name":"derive","original":{"line":35,"column":6},"generated":{"line":1,"column":559}},{"source":"node_modules/vega-transforms/src/Project.js","name":"fields","original":{"line":35,"column":15},"generated":{"line":1,"column":561}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":36,"column":10},"generated":{"line":1,"column":563}},{"source":"node_modules/vega-transforms/src/Project.js","name":"s","original":{"line":36,"column":19},"generated":{"line":1,"column":572}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":36,"column":22},"generated":{"line":1,"column":574}},{"source":"node_modules/vega-transforms/src/Project.js","name":"project","original":{"line":36,"column":34},"generated":{"line":1,"column":577}},{"source":"node_modules/vega-transforms/src/Project.js","name":"project","original":{"line":36,"column":34},"generated":{"line":1,"column":584}},{"source":"node_modules/vega-transforms/src/Project.js","name":"s","original":{"line":36,"column":42},"generated":{"line":1,"column":586}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":36,"column":45},"generated":{"line":1,"column":588}},{"source":"node_modules/vega-transforms/src/Project.js","name":"fields","original":{"line":36,"column":48},"generated":{"line":1,"column":590}},{"source":"node_modules/vega-transforms/src/Project.js","name":"as","original":{"line":36,"column":56},"generated":{"line":1,"column":592}},{"source":"node_modules/vega-transforms/src/Project.js","name":"rederive","original":{"line":37,"column":10},"generated":{"line":1,"column":596}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":33,"column":2},"generated":{"line":1,"column":598}},{"source":"node_modules/vega-transforms/src/Project.js","name":"out","original":{"line":65,"column":9},"generated":{"line":1,"column":607}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":40,"column":6},"generated":{"line":1,"column":614}},{"source":"node_modules/vega-transforms/src/Project.js","name":"value","original":{"line":40,"column":11},"generated":{"line":1,"column":619}},{"source":"node_modules/vega-transforms/src/Project.js","name":"lut","original":{"line":41,"column":4},"generated":{"line":1,"column":625}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":41,"column":10},"generated":{"line":1,"column":627}},{"source":"node_modules/vega-transforms/src/Project.js","name":"value","original":{"line":41,"column":15},"generated":{"line":1,"column":632}},{"source":"node_modules/vega-transforms/src/Project.js","name":"pulse","original":{"line":43,"column":4},"generated":{"line":1,"column":639}},{"source":"node_modules/vega-transforms/src/Project.js","name":"pulse","original":{"line":43,"column":12},"generated":{"line":1,"column":641}},{"source":"node_modules/vega-transforms/src/Project.js","name":"addAll","original":{"line":43,"column":18},"generated":{"line":1,"column":643}},{"source":"node_modules/vega-transforms/src/Project.js","name":"lut","original":{"line":44,"column":4},"generated":{"line":1,"column":652}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":44,"column":10},"generated":{"line":1,"column":654}},{"source":"node_modules/vega-transforms/src/Project.js","name":"value","original":{"line":44,"column":15},"generated":{"line":1,"column":659}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":44,"column":23},"generated":{"line":1,"column":665}},{"source":"node_modules/vega-transforms/src/Project.js","name":"out","original":{"line":47,"column":2},"generated":{"line":1,"column":669}},{"source":"node_modules/vega-transforms/src/Project.js","name":"pulse","original":{"line":47,"column":8},"generated":{"line":1,"column":671}},{"source":"node_modules/vega-transforms/src/Project.js","name":"fork","original":{"line":47,"column":14},"generated":{"line":1,"column":673}},{"source":"node_modules/vega-transforms/src/Project.js","name":"pulse","original":{"line":47,"column":19},"generated":{"line":1,"column":678}},{"source":"node_modules/vega-transforms/src/Project.js","name":"NO_SOURCE","original":{"line":47,"column":25},"generated":{"line":1,"column":680}},{"source":"node_modules/vega-transforms/src/Project.js","name":"pulse","original":{"line":49,"column":2},"generated":{"line":1,"column":691}},{"source":"node_modules/vega-transforms/src/Project.js","name":"visit","original":{"line":49,"column":8},"generated":{"line":1,"column":693}},{"source":"node_modules/vega-transforms/src/Project.js","name":"pulse","original":{"line":49,"column":14},"generated":{"line":1,"column":699}},{"source":"node_modules/vega-transforms/src/Project.js","name":"REM","original":{"line":49,"column":20},"generated":{"line":1,"column":701}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":49,"column":25},"generated":{"line":1,"column":705}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":49,"column":34},"generated":{"line":1,"column":714}},{"source":"node_modules/vega-transforms/src/Project.js","name":"id","original":{"line":50,"column":8},"generated":{"line":1,"column":717}},{"source":"node_modules/vega-transforms/src/Project.js","name":"id","original":{"line":50,"column":8},"generated":{"line":1,"column":721}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":50,"column":13},"generated":{"line":1,"column":724}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":50,"column":21},"generated":{"line":1,"column":726}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":50,"column":21},"generated":{"line":1,"column":728}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":50,"column":21},"generated":{"line":1,"column":737}},{"source":"node_modules/vega-transforms/src/Project.js","name":"out","original":{"line":51,"column":4},"generated":{"line":1,"column":740}},{"source":"node_modules/vega-transforms/src/Project.js","name":"rem","original":{"line":51,"column":8},"generated":{"line":1,"column":742}},{"source":"node_modules/vega-transforms/src/Project.js","name":"push","original":{"line":51,"column":12},"generated":{"line":1,"column":746}},{"source":"node_modules/vega-transforms/src/Project.js","name":"lut","original":{"line":51,"column":17},"generated":{"line":1,"column":751}},{"source":"node_modules/vega-transforms/src/Project.js","name":"id","original":{"line":51,"column":21},"generated":{"line":1,"column":753}},{"source":"node_modules/vega-transforms/src/Project.js","name":"lut","original":{"line":52,"column":4},"generated":{"line":1,"column":757}},{"source":"node_modules/vega-transforms/src/Project.js","name":"id","original":{"line":52,"column":8},"generated":{"line":1,"column":759}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":52,"column":14},"generated":{"line":1,"column":762}},{"source":"node_modules/vega-transforms/src/Project.js","name":"pulse","original":{"line":55,"column":2},"generated":{"line":1,"column":769}},{"source":"node_modules/vega-transforms/src/Project.js","name":"visit","original":{"line":55,"column":8},"generated":{"line":1,"column":771}},{"source":"node_modules/vega-transforms/src/Project.js","name":"pulse","original":{"line":55,"column":14},"generated":{"line":1,"column":777}},{"source":"node_modules/vega-transforms/src/Project.js","name":"ADD","original":{"line":55,"column":20},"generated":{"line":1,"column":779}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":55,"column":25},"generated":{"line":1,"column":783}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":55,"column":34},"generated":{"line":1,"column":792}},{"source":"node_modules/vega-transforms/src/Project.js","name":"dt","original":{"line":56,"column":8},"generated":{"line":1,"column":795}},{"source":"node_modules/vega-transforms/src/Project.js","name":"dt","original":{"line":56,"column":8},"generated":{"line":1,"column":799}},{"source":"node_modules/vega-transforms/src/Project.js","name":"derive","original":{"line":56,"column":13},"generated":{"line":1,"column":801}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":56,"column":20},"generated":{"line":1,"column":803}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":56,"column":23},"generated":{"line":1,"column":806}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":56,"column":30},"generated":{"line":1,"column":808}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":56,"column":30},"generated":{"line":1,"column":810}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":56,"column":30},"generated":{"line":1,"column":818}},{"source":"node_modules/vega-transforms/src/Project.js","name":"lut","original":{"line":57,"column":4},"generated":{"line":1,"column":823}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":57,"column":8},"generated":{"line":1,"column":826}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":57,"column":16},"generated":{"line":1,"column":828}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":57,"column":16},"generated":{"line":1,"column":830}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":57,"column":16},"generated":{"line":1,"column":839}},{"source":"node_modules/vega-transforms/src/Project.js","name":"dt","original":{"line":57,"column":22},"generated":{"line":1,"column":843}},{"source":"node_modules/vega-transforms/src/Project.js","name":"out","original":{"line":58,"column":4},"generated":{"line":1,"column":845}},{"source":"node_modules/vega-transforms/src/Project.js","name":"add","original":{"line":58,"column":8},"generated":{"line":1,"column":847}},{"source":"node_modules/vega-transforms/src/Project.js","name":"push","original":{"line":58,"column":12},"generated":{"line":1,"column":851}},{"source":"node_modules/vega-transforms/src/Project.js","name":"dt","original":{"line":58,"column":17},"generated":{"line":1,"column":856}},{"source":"node_modules/vega-transforms/src/Project.js","name":"pulse","original":{"line":61,"column":2},"generated":{"line":1,"column":861}},{"source":"node_modules/vega-transforms/src/Project.js","name":"visit","original":{"line":61,"column":8},"generated":{"line":1,"column":863}},{"source":"node_modules/vega-transforms/src/Project.js","name":"pulse","original":{"line":61,"column":14},"generated":{"line":1,"column":869}},{"source":"node_modules/vega-transforms/src/Project.js","name":"MOD","original":{"line":61,"column":20},"generated":{"line":1,"column":871}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":61,"column":25},"generated":{"line":1,"column":875}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":61,"column":34},"generated":{"line":1,"column":884}},{"source":"node_modules/vega-transforms/src/Project.js","name":"out","original":{"line":62,"column":4},"generated":{"line":1,"column":887}},{"source":"node_modules/vega-transforms/src/Project.js","name":"mod","original":{"line":62,"column":8},"generated":{"line":1,"column":889}},{"source":"node_modules/vega-transforms/src/Project.js","name":"push","original":{"line":62,"column":12},"generated":{"line":1,"column":893}},{"source":"node_modules/vega-transforms/src/Project.js","name":"derive","original":{"line":62,"column":17},"generated":{"line":1,"column":898}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":62,"column":24},"generated":{"line":1,"column":900}},{"source":"node_modules/vega-transforms/src/Project.js","name":"lut","original":{"line":62,"column":27},"generated":{"line":1,"column":902}},{"source":"node_modules/vega-transforms/src/Project.js","original":{"line":62,"column":31},"generated":{"line":1,"column":905}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":62,"column":39},"generated":{"line":1,"column":907}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":62,"column":39},"generated":{"line":1,"column":909}},{"source":"node_modules/vega-transforms/src/Project.js","name":"t","original":{"line":62,"column":39},"generated":{"line":1,"column":918}},{"source":"node_modules/vega-transforms/src/Project.js","name":"out","original":{"line":65,"column":9},"generated":{"line":1,"column":926}}],"sources":{"node_modules/vega-transforms/src/Project.js":"import {fieldNames} from './util/util';\nimport {Transform, ingest, rederive, tupleid} from 'vega-dataflow';\nimport {inherits} from 'vega-util';\n\n/**\n * Performs a relational projection, copying selected fields from source\n * tuples to a new set of derived tuples.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {Array<function(object): *} params.fields - The fields to project,\n *   as an array of field accessors. If unspecified, all fields will be\n *   copied with names unchanged.\n * @param {Array<string>} [params.as] - Output field names for each projected\n *   field. Any unspecified fields will use the field name provided by\n *   the field accessor.\n */\nexport default function Project(params) {\n  Transform.call(this, null, params);\n}\n\nProject.Definition = {\n  'type': 'Project',\n  'metadata': {'generates': true, 'changes': true},\n  'params': [\n    { 'name': 'fields', 'type': 'field', 'array': true },\n    { 'name': 'as', 'type': 'string', 'null': true, 'array': true }\n  ]\n};\n\nvar prototype = inherits(Project, Transform);\n\nprototype.transform = function(_, pulse) {\n  var fields = _.fields,\n      as = fieldNames(_.fields, _.as || []),\n      derive = fields\n        ? function(s, t) { return project(s, t, fields, as); }\n        : rederive,\n      out, lut;\n\n  if (this.value) {\n    lut = this.value;\n  } else {\n    pulse = pulse.addAll();\n    lut = this.value = {};\n  }\n\n  out = pulse.fork(pulse.NO_SOURCE);\n\n  pulse.visit(pulse.REM, function(t) {\n    var id = tupleid(t);\n    out.rem.push(lut[id]);\n    lut[id] = null;\n  });\n\n  pulse.visit(pulse.ADD, function(t) {\n    var dt = derive(t, ingest({}));\n    lut[tupleid(t)] = dt;\n    out.add.push(dt);\n  });\n\n  pulse.visit(pulse.MOD, function(t) {\n    out.mod.push(derive(t, lut[tupleid(t)]));\n  });\n\n  return out;\n};\n\nfunction project(s, t, fields, as) {\n  for (var i=0, n=fields.length; i<n; ++i) {\n    t[as[i]] = fields[i](s);\n  }\n  return t;\n}\n"},"lineCount":null}},"error":null,"hash":"2a9df0d41a6f0e18375adb3898470fab","cacheData":{"env":{}}}