{"id":"eZXw","dependencies":[{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/impute.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/src/compile/data/impute.ts","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591977532257},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/package.json","includedInParent":true,"mtime":499162500000},{"name":"../../channeldef","loc":{"line":1,"column":27},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/impute.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/channeldef.js"},{"name":"../../encoding","loc":{"line":2,"column":35},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/impute.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/encoding.js"},{"name":"../../transform","loc":{"line":3,"column":33},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/impute.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/transform.js"},{"name":"../../util","loc":{"line":4,"column":32},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/impute.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/util.js"},{"name":"./dataflow","loc":{"line":5,"column":29},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/impute.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/dataflow.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ImputeNode=void 0;var e=require(\"../../channeldef\"),t=require(\"../../encoding\"),s=require(\"../../transform\"),r=require(\"../../util\"),i=require(\"./dataflow\");class n extends i.DataFlowNode{constructor(e,t){super(e),this.transform=t}clone(){return new n(null,(0,r.duplicate)(this.transform))}dependentFields(){var e;return new Set([this.transform.impute,this.transform.key,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(e){const{start:t=0,stop:s,step:r}=e;return{signal:`sequence(${[t,s,...r?[r]:[]].join(\",\")})`}}static makeFromTransform(e,t){return new n(e,t)}static makeFromEncoding(s,r){const i=r.encoding,u=i.x,a=i.y;if((0,e.isFieldDef)(u)&&(0,e.isFieldDef)(a)){const e=u.impute?u:a.impute?a:void 0;if(void 0===e)return;const o=u.impute?a:a.impute?u:void 0,{method:l,value:m,frame:d,keyvals:p}=e.impute,c=(0,t.pathGroupingFields)(r.mark,i);return new n(s,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:e.field,key:o.field},l?{method:l}:{}),void 0!==m?{value:m}:{}),d?{frame:d}:{}),void 0!==p?{keyvals:p}:{}),c.length?{groupby:c}:{}))}return null}hash(){return`Impute ${(0,r.hash)(this.transform)}`}assemble(){const{impute:e,key:t,keyvals:r,method:i,groupby:n,value:u,frame:a=[null,null]}=this.transform,o=Object.assign(Object.assign(Object.assign(Object.assign({type:\"impute\",field:e,key:t},r?{keyvals:(0,s.isImputeSequence)(r)?this.processSequence(r):r}:{}),{method:\"value\"}),n?{groupby:n}:{}),{value:i&&\"value\"!==i?null:u});if(i&&\"value\"!==i){return[o,Object.assign({type:\"window\",as:[`imputed_${e}_value`],ops:[i],fields:[e],frame:a,ignorePeers:!1},n?{groupby:n}:{}),{type:\"formula\",expr:`datum.${e} === null ? datum.imputed_${e}_value : datum.${e}`,as:e}]}return[o]}}exports.ImputeNode=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":0}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":13}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":20}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":35}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":43}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":56}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":57}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":64}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":68}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":76}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":92}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":94}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":100}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":108}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":128}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":130}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":138}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":156}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":158}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":166}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":185}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":187}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":195}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":209}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":211}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":219}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":6},"generated":{"line":1,"column":233}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":13},"generated":{"line":1,"column":239}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":32},"generated":{"line":1,"column":249}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":6},"generated":{"line":1,"column":251}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":264}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":19,"column":14},"generated":{"line":1,"column":276}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":19,"column":53},"generated":{"line":1,"column":278}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":20,"column":10},"generated":{"line":1,"column":281}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":20,"column":10},"generated":{"line":1,"column":287}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":19,"column":53},"generated":{"line":1,"column":290}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":19,"column":53},"generated":{"line":1,"column":295}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":19,"column":53},"generated":{"line":1,"column":305}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":1,"column":307}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":16,"column":11},"generated":{"line":1,"column":315}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":16,"column":11},"generated":{"line":1,"column":322}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":16,"column":15},"generated":{"line":1,"column":326}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":16,"column":26},"generated":{"line":1,"column":328}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":1,"column":334}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":16,"column":42},"generated":{"line":1,"column":336}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":16,"column":42},"generated":{"line":1,"column":338}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":16,"column":42},"generated":{"line":1,"column":349}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":16,"column":47},"generated":{"line":1,"column":354}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":23,"column":9},"generated":{"line":1,"column":366}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":384}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":388}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":390}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":397}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":15},"generated":{"line":1,"column":401}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":19},"generated":{"line":1,"column":405}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":20},"generated":{"line":1,"column":406}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":25},"generated":{"line":1,"column":411}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":35},"generated":{"line":1,"column":421}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":43},"generated":{"line":1,"column":428}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":48},"generated":{"line":1,"column":433}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":58},"generated":{"line":1,"column":443}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":89},"generated":{"line":1,"column":450}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":66},"generated":{"line":1,"column":458}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":67},"generated":{"line":1,"column":460}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":72},"generated":{"line":1,"column":465}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":82},"generated":{"line":1,"column":475}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":89},"generated":{"line":1,"column":490}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":89},"generated":{"line":1,"column":494}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":89},"generated":{"line":1,"column":496}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":24,"column":93},"generated":{"line":1,"column":498}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":503}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":28,"column":11},"generated":{"line":1,"column":520}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":28,"column":11},"generated":{"line":1,"column":527}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":28,"column":15},"generated":{"line":1,"column":531}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":28,"column":19},"generated":{"line":1,"column":535}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":1,"column":536}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":28,"column":25},"generated":{"line":1,"column":541}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":28,"column":35},"generated":{"line":1,"column":551}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":560}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":31,"column":26},"generated":{"line":1,"column":576}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":1,"column":579}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":1,"column":585}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":591}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":32,"column":19},"generated":{"line":1,"column":593}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":1,"column":595}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":32,"column":22},"generated":{"line":1,"column":600}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":1,"column":602}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":32,"column":28},"generated":{"line":1,"column":607}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":32,"column":36},"generated":{"line":1,"column":610}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":35,"column":11},"generated":{"line":1,"column":612}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":35,"column":11},"generated":{"line":1,"column":618}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":619}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":1,"column":638}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":33,"column":20},"generated":{"line":1,"column":639}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":33,"column":27},"generated":{"line":1,"column":641}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":33,"column":37},"generated":{"line":1,"column":646}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":33,"column":44},"generated":{"line":1,"column":648}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":33,"column":45},"generated":{"line":1,"column":649}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":33,"column":53},"generated":{"line":1,"column":652}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":33,"column":58},"generated":{"line":1,"column":656}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":33,"column":63},"generated":{"line":1,"column":661}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":670}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":38,"column":34},"generated":{"line":1,"column":695}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":38,"column":56},"generated":{"line":1,"column":697}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":39,"column":11},"generated":{"line":1,"column":700}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":39,"column":11},"generated":{"line":1,"column":707}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":39,"column":15},"generated":{"line":1,"column":711}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":39,"column":26},"generated":{"line":1,"column":713}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":39,"column":34},"generated":{"line":1,"column":715}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":1,"column":718}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":42,"column":33},"generated":{"line":1,"column":742}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":42,"column":55},"generated":{"line":1,"column":744}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":43,"column":10},"generated":{"line":1,"column":747}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":43,"column":10},"generated":{"line":1,"column":753}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":43,"column":21},"generated":{"line":1,"column":755}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":43,"column":27},"generated":{"line":1,"column":757}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":44,"column":10},"generated":{"line":1,"column":766}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":44,"column":17},"generated":{"line":1,"column":768}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":44,"column":26},"generated":{"line":1,"column":770}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":45,"column":10},"generated":{"line":1,"column":772}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":45,"column":17},"generated":{"line":1,"column":774}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":45,"column":26},"generated":{"line":1,"column":776}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":1,"column":778}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":1,"column":782}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":47,"column":19},"generated":{"line":1,"column":784}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":47,"column":19},"generated":{"line":1,"column":786}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":47,"column":19},"generated":{"line":1,"column":798}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":47,"column":28},"generated":{"line":1,"column":803}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":47,"column":39},"generated":{"line":1,"column":805}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":47,"column":39},"generated":{"line":1,"column":807}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":47,"column":39},"generated":{"line":1,"column":819}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":47,"column":46},"generated":{"line":1,"column":822}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":823}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":829}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":48,"column":29},"generated":{"line":1,"column":831}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":48,"column":34},"generated":{"line":1,"column":833}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":48,"column":43},"generated":{"line":1,"column":840}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":48,"column":50},"generated":{"line":1,"column":842}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":48,"column":55},"generated":{"line":1,"column":844}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":48,"column":64},"generated":{"line":1,"column":851}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":48,"column":71},"generated":{"line":1,"column":858}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":860}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":49,"column":29},"generated":{"line":1,"column":868}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":872}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":50,"column":15},"generated":{"line":1,"column":874}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":52,"column":12},"generated":{"line":1,"column":881}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":52,"column":12},"generated":{"line":1,"column":887}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":52,"column":25},"generated":{"line":1,"column":889}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":52,"column":30},"generated":{"line":1,"column":891}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":52,"column":39},"generated":{"line":1,"column":898}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":52,"column":46},"generated":{"line":1,"column":900}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":52,"column":51},"generated":{"line":1,"column":902}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":52,"column":60},"generated":{"line":1,"column":909}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":52,"column":67},"generated":{"line":1,"column":916}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":53,"column":12},"generated":{"line":1,"column":919}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":926}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":53,"column":12},"generated":{"line":1,"column":928}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":53,"column":21},"generated":{"line":1,"column":934}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":53,"column":12},"generated":{"line":1,"column":936}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":53,"column":28},"generated":{"line":1,"column":942}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":53,"column":12},"generated":{"line":1,"column":944}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":53,"column":35},"generated":{"line":1,"column":952}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":53,"column":46},"generated":{"line":1,"column":955}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":53,"column":61},"generated":{"line":1,"column":957}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":964}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":54,"column":28},"generated":{"line":1,"column":967}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":54,"column":47},"generated":{"line":1,"column":969}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":54,"column":47},"generated":{"line":1,"column":971}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":54,"column":47},"generated":{"line":1,"column":991}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":54,"column":53},"generated":{"line":1,"column":993}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":54,"column":59},"generated":{"line":1,"column":998}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":13},"generated":{"line":1,"column":1001}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":13},"generated":{"line":1,"column":1008}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":17},"generated":{"line":1,"column":1012}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":28},"generated":{"line":1,"column":1014}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":1016}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":1023}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":1030}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":1037}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":1044}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":1051}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":1058}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":1065}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":1072}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":1079}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":1086}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":1087}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":1094}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":57,"column":31},"generated":{"line":1,"column":1096}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":1102}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":58,"column":13},"generated":{"line":1,"column":1106}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":58,"column":24},"generated":{"line":1,"column":1108}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":1,"column":1115}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":59,"column":21},"generated":{"line":1,"column":1117}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":59,"column":22},"generated":{"line":1,"column":1118}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":59,"column":22},"generated":{"line":1,"column":1125}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":59,"column":32},"generated":{"line":1,"column":1128}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":60,"column":22},"generated":{"line":1,"column":1137}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":60,"column":12},"generated":{"line":1,"column":1141}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":60,"column":34},"generated":{"line":1,"column":1143}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":60,"column":35},"generated":{"line":1,"column":1144}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":60,"column":35},"generated":{"line":1,"column":1150}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":60,"column":44},"generated":{"line":1,"column":1153}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":61,"column":12},"generated":{"line":1,"column":1157}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":61,"column":20},"generated":{"line":1,"column":1159}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":61,"column":21},"generated":{"line":1,"column":1160}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":61,"column":21},"generated":{"line":1,"column":1166}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":61,"column":30},"generated":{"line":1,"column":1169}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":62,"column":24},"generated":{"line":1,"column":1178}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":62,"column":12},"generated":{"line":1,"column":1182}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":62,"column":36},"generated":{"line":1,"column":1184}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":62,"column":37},"generated":{"line":1,"column":1185}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":62,"column":37},"generated":{"line":1,"column":1193}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":62,"column":48},"generated":{"line":1,"column":1196}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":63,"column":12},"generated":{"line":1,"column":1200}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":63,"column":26},"generated":{"line":1,"column":1202}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":63,"column":35},"generated":{"line":1,"column":1209}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":63,"column":36},"generated":{"line":1,"column":1210}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":63,"column":45},"generated":{"line":1,"column":1218}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":63,"column":62},"generated":{"line":1,"column":1221}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":66,"column":11},"generated":{"line":1,"column":1226}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":66,"column":11},"generated":{"line":1,"column":1233}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":1238}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":70,"column":11},"generated":{"line":1,"column":1245}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":70,"column":21},"generated":{"line":1,"column":1262}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":70,"column":26},"generated":{"line":1,"column":1264}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":70,"column":26},"generated":{"line":1,"column":1266}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":70,"column":26},"generated":{"line":1,"column":1272}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":70,"column":31},"generated":{"line":1,"column":1277}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":1290}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":1301}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":1307}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":1314}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":1316}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":19},"generated":{"line":1,"column":1320}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":1322}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":24},"generated":{"line":1,"column":1330}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":1332}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":33},"generated":{"line":1,"column":1339}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":1341}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":41},"generated":{"line":1,"column":1349}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":1351}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":50},"generated":{"line":1,"column":1357}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":1359}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":57},"generated":{"line":1,"column":1365}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":65},"generated":{"line":1,"column":1367}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":66},"generated":{"line":1,"column":1368}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":72},"generated":{"line":1,"column":1373}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":97},"generated":{"line":1,"column":1380}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":74,"column":102},"generated":{"line":1,"column":1385}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":76,"column":10},"generated":{"line":1,"column":1395}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":1397}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":1404}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":1411}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":1418}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":1425}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":1432}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":1439}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":1446}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":1453}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":1454}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":1,"column":1459}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":1,"column":1468}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":78,"column":13},"generated":{"line":1,"column":1474}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":79,"column":6},"generated":{"line":1,"column":1476}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":79,"column":6},"generated":{"line":1,"column":1480}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":10},"generated":{"line":1,"column":1483}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":20},"generated":{"line":1,"column":1485}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":21},"generated":{"line":1,"column":1486}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":30},"generated":{"line":1,"column":1495}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":47},"generated":{"line":1,"column":1497}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":47},"generated":{"line":1,"column":1499}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":47},"generated":{"line":1,"column":1517}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":58},"generated":{"line":1,"column":1520}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":63},"generated":{"line":1,"column":1525}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":79},"generated":{"line":1,"column":1541}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":90},"generated":{"line":1,"column":1544}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":101},"generated":{"line":1,"column":1547}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":80,"column":104},"generated":{"line":1,"column":1551}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":81,"column":6},"generated":{"line":1,"column":1552}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":81,"column":14},"generated":{"line":1,"column":1559}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":82,"column":10},"generated":{"line":1,"column":1569}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":82,"column":20},"generated":{"line":1,"column":1571}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":82,"column":21},"generated":{"line":1,"column":1572}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":82,"column":21},"generated":{"line":1,"column":1580}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":82,"column":32},"generated":{"line":1,"column":1583}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":82,"column":35},"generated":{"line":1,"column":1587}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":1588}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":83,"column":14},"generated":{"line":1,"column":1594}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":83,"column":35},"generated":{"line":1,"column":1597}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":83,"column":24},"generated":{"line":1,"column":1607}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":83,"column":53},"generated":{"line":1,"column":1609}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":83,"column":45},"generated":{"line":1,"column":1614}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":1618}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":1621}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":86,"column":29},"generated":{"line":1,"column":1624}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":86,"column":18},"generated":{"line":1,"column":1634}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":86,"column":38},"generated":{"line":1,"column":1636}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":101,"column":13},"generated":{"line":1,"column":1637}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":101,"column":13},"generated":{"line":1,"column":1643}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":101,"column":14},"generated":{"line":1,"column":1644}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":87,"column":26},"generated":{"line":1,"column":1646}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":87,"column":26},"generated":{"line":1,"column":1653}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":87,"column":26},"generated":{"line":1,"column":1660}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":1661}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":88,"column":14},"generated":{"line":1,"column":1666}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":89,"column":8},"generated":{"line":1,"column":1675}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":89,"column":12},"generated":{"line":1,"column":1678}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":89,"column":24},"generated":{"line":1,"column":1690}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":90,"column":8},"generated":{"line":1,"column":1701}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":90,"column":13},"generated":{"line":1,"column":1705}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":90,"column":14},"generated":{"line":1,"column":1706}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":91,"column":8},"generated":{"line":1,"column":1709}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":91,"column":16},"generated":{"line":1,"column":1716}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":91,"column":17},"generated":{"line":1,"column":1717}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":1,"column":1720}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":1,"column":1726}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":1728}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":93,"column":21},"generated":{"line":1,"column":1741}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":94,"column":12},"generated":{"line":1,"column":1744}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":94,"column":22},"generated":{"line":1,"column":1746}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":94,"column":23},"generated":{"line":1,"column":1747}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":94,"column":23},"generated":{"line":1,"column":1755}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":94,"column":34},"generated":{"line":1,"column":1758}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":96,"column":50},"generated":{"line":1,"column":1762}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":97,"column":8},"generated":{"line":1,"column":1763}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":97,"column":14},"generated":{"line":1,"column":1768}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":98,"column":8},"generated":{"line":1,"column":1778}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":98,"column":23},"generated":{"line":1,"column":1792}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":98,"column":58},"generated":{"line":1,"column":1822}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":98,"column":82},"generated":{"line":1,"column":1841}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":99,"column":8},"generated":{"line":1,"column":1845}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":99,"column":12},"generated":{"line":1,"column":1848}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":103,"column":13},"generated":{"line":1,"column":1852}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":103,"column":13},"generated":{"line":1,"column":1858}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":103,"column":14},"generated":{"line":1,"column":1859}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":1863}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":1871}},{"source":"../../../../src/compile/data/impute.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":1882}}],"sources":{"../../../../src/compile/data/impute.ts":"import {\n  FormulaTransform as VgFormulaTransform,\n  ImputeTransform as VgImputeTransform,\n  SignalRef,\n  WindowTransform as VgWindowTransform\n} from 'vega';\nimport {isFieldDef} from '../../channeldef';\nimport {pathGroupingFields} from '../../encoding';\nimport {ImputeSequence, ImputeTransform, isImputeSequence} from '../../transform';\nimport {duplicate, hash} from '../../util';\nimport {UnitModel} from '../unit';\nimport {DataFlowNode} from './dataflow';\n\nexport class ImputeNode extends DataFlowNode {\n  public clone() {\n    return new ImputeNode(null, duplicate(this.transform));\n  }\n\n  constructor(parent: DataFlowNode, private readonly transform: ImputeTransform) {\n    super(parent);\n  }\n\n  public dependentFields() {\n    return new Set([this.transform.impute, this.transform.key, ...(this.transform.groupby ?? [])]);\n  }\n\n  public producedFields() {\n    return new Set([this.transform.impute]);\n  }\n\n  private processSequence(keyvals: ImputeSequence): SignalRef {\n    const {start = 0, stop, step} = keyvals;\n    const result = [start, stop, ...(step ? [step] : [])].join(',');\n\n    return {signal: `sequence(${result})`};\n  }\n\n  public static makeFromTransform(parent: DataFlowNode, imputeTransform: ImputeTransform): ImputeNode {\n    return new ImputeNode(parent, imputeTransform);\n  }\n\n  public static makeFromEncoding(parent: DataFlowNode, model: UnitModel) {\n    const encoding = model.encoding;\n    const xDef = encoding.x;\n    const yDef = encoding.y;\n\n    if (isFieldDef(xDef) && isFieldDef(yDef)) {\n      const imputedChannel = xDef.impute ? xDef : yDef.impute ? yDef : undefined;\n      if (imputedChannel === undefined) {\n        return undefined;\n      }\n      const keyChannel = xDef.impute ? yDef : yDef.impute ? xDef : undefined;\n      const {method, value, frame, keyvals} = imputedChannel.impute;\n      const groupbyFields = pathGroupingFields(model.mark, encoding);\n\n      return new ImputeNode(parent, {\n        impute: imputedChannel.field,\n        key: keyChannel.field,\n        ...(method ? {method} : {}),\n        ...(value !== undefined ? {value} : {}),\n        ...(frame ? {frame} : {}),\n        ...(keyvals !== undefined ? {keyvals} : {}),\n        ...(groupbyFields.length ? {groupby: groupbyFields} : {})\n      });\n    }\n    return null;\n  }\n\n  public hash() {\n    return `Impute ${hash(this.transform)}`;\n  }\n\n  public assemble() {\n    const {impute, key, keyvals, method, groupby, value, frame = [null, null] as [null, null]} = this.transform;\n\n    const imputeTransform: VgImputeTransform = {\n      type: 'impute',\n      field: impute,\n      key,\n      ...(keyvals ? {keyvals: isImputeSequence(keyvals) ? this.processSequence(keyvals) : keyvals} : {}),\n      method: 'value',\n      ...(groupby ? {groupby} : {}),\n      value: !method || method === 'value' ? value : null\n    };\n\n    if (method && method !== 'value') {\n      const deriveNewField: VgWindowTransform = {\n        type: 'window',\n        as: [`imputed_${impute}_value`],\n        ops: [method],\n        fields: [impute],\n        frame,\n        ignorePeers: false,\n        ...(groupby ? {groupby} : {})\n      };\n      const replaceOriginal: VgFormulaTransform = {\n        type: 'formula',\n        expr: `datum.${impute} === null ? datum.imputed_${impute}_value : datum.${impute}`,\n        as: impute\n      };\n      return [imputeTransform, deriveNewField, replaceOriginal];\n    } else {\n      return [imputeTransform];\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"f2fd615b22658d2c83cbc572b62057b3","cacheData":{"env":{}}}