{"id":"sXlv","dependencies":[{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591974399859},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-parser/package.json","includedInParent":true,"mtime":1591969205174},{"name":"./data","loc":{"line":1,"column":25},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-parser/src/parsers/marks/facet.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-parser/src/parsers/marks/data.js"},{"name":"../../DataScope","loc":{"line":2,"column":22},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-parser/src/parsers/marks/facet.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-parser/src/DataScope.js"},{"name":"../../transforms","loc":{"line":3,"column":46},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-parser/src/parsers/marks/facet.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-parser/src/transforms.js"},{"name":"../../util","loc":{"line":4,"column":18},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-parser/src/parsers/marks/facet.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-parser/src/util.js"},{"name":"vega-util","loc":{"line":5,"column":33},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-parser/src/parsers/marks/facet.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=l;var e=require(\"./data\"),r=d(require(\"../../DataScope\")),a=require(\"../../transforms\"),t=require(\"../../util\"),u=require(\"vega-util\");function d(e){return e&&e.__esModule?e:{default:e}}function l(d,l,f){var o,i,s,n,p=d.from.facet,c=p.name,g=(0,e.getDataRef)(p,l);p.name||(0,u.error)(\"Facet must have a name: \"+(0,u.stringValue)(p)),p.data||(0,u.error)(\"Facet must reference a data set: \"+(0,u.stringValue)(p)),p.field?n=l.add((0,a.PreFacet)({field:l.fieldRef(p.field),pulse:g})):p.groupby?n=l.add((0,a.Facet)({key:l.keyRef(p.groupby),group:(0,t.ref)(l.proxy(f.parent)),pulse:g})):(0,u.error)(\"Facet must specify groupby or field: \"+(0,u.stringValue)(p)),i=(o=l.fork()).add((0,a.Collect)()),s=o.add((0,a.Sieve)({pulse:(0,t.ref)(i)})),o.addData(c,new r.default(o,i,i,s)),o.addSignal(\"parent\",null),n.params.subflow={$subflow:o.parse(d).toRuntime()}}"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":84}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":2,"column":0},"generated":{"line":1,"column":110}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":2,"column":0},"generated":{"line":1,"column":112}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":2,"column":0},"generated":{"line":1,"column":114}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":2,"column":0},"generated":{"line":1,"column":122}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":3,"column":0},"generated":{"line":1,"column":142}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":3,"column":0},"generated":{"line":1,"column":144}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":4,"column":0},"generated":{"line":1,"column":172}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":4,"column":0},"generated":{"line":1,"column":174}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":4,"column":0},"generated":{"line":1,"column":182}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":5,"column":0},"generated":{"line":1,"column":196}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":5,"column":0},"generated":{"line":1,"column":198}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":5,"column":0},"generated":{"line":1,"column":206}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":219}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":228}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":230}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":233}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":240}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":243}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":245}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":256}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":258}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":259}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":46,"column":1},"generated":{"line":1,"column":267}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":7,"column":15},"generated":{"line":1,"column":270}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"spec","original":{"line":7,"column":24},"generated":{"line":1,"column":279}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"spec","original":{"line":7,"column":24},"generated":{"line":1,"column":281}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"scope","original":{"line":7,"column":30},"generated":{"line":1,"column":283}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"group","original":{"line":7,"column":37},"generated":{"line":1,"column":285}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":8,"column":6},"generated":{"line":1,"column":288}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"subscope","original":{"line":11,"column":6},"generated":{"line":1,"column":292}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"source","original":{"line":11,"column":16},"generated":{"line":1,"column":294}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"values","original":{"line":11,"column":24},"generated":{"line":1,"column":296}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"op","original":{"line":11,"column":32},"generated":{"line":1,"column":298}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":8,"column":6},"generated":{"line":1,"column":300}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"spec","original":{"line":8,"column":14},"generated":{"line":1,"column":302}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"from","original":{"line":8,"column":19},"generated":{"line":1,"column":304}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":8,"column":24},"generated":{"line":1,"column":309}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"name","original":{"line":9,"column":6},"generated":{"line":1,"column":315}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":9,"column":13},"generated":{"line":1,"column":317}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"name","original":{"line":9,"column":19},"generated":{"line":1,"column":319}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"data","original":{"line":10,"column":6},"generated":{"line":1,"column":324}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":10,"column":13},"generated":{"line":1,"column":327}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":10,"column":24},"generated":{"line":1,"column":329}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":10,"column":24},"generated":{"line":1,"column":331}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":10,"column":24},"generated":{"line":1,"column":343}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"scope","original":{"line":10,"column":31},"generated":{"line":1,"column":345}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":13,"column":7},"generated":{"line":1,"column":348}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"name","original":{"line":13,"column":13},"generated":{"line":1,"column":350}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":14,"column":10},"generated":{"line":1,"column":357}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":14,"column":10},"generated":{"line":1,"column":359}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":14,"column":10},"generated":{"line":1,"column":361}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":14,"column":10},"generated":{"line":1,"column":368}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":14,"column":39},"generated":{"line":1,"column":396}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":14,"column":51},"generated":{"line":1,"column":398}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":14,"column":51},"generated":{"line":1,"column":400}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":14,"column":51},"generated":{"line":1,"column":413}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":16,"column":7},"generated":{"line":1,"column":417}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"data","original":{"line":16,"column":13},"generated":{"line":1,"column":419}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":17,"column":10},"generated":{"line":1,"column":426}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":17,"column":10},"generated":{"line":1,"column":428}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":17,"column":10},"generated":{"line":1,"column":430}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":17,"column":10},"generated":{"line":1,"column":437}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":17,"column":48},"generated":{"line":1,"column":474}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":17,"column":60},"generated":{"line":1,"column":476}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":17,"column":60},"generated":{"line":1,"column":478}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":17,"column":60},"generated":{"line":1,"column":491}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":20,"column":6},"generated":{"line":1,"column":495}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"field","original":{"line":20,"column":12},"generated":{"line":1,"column":497}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"op","original":{"line":21,"column":4},"generated":{"line":1,"column":503}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"scope","original":{"line":21,"column":9},"generated":{"line":1,"column":505}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"add","original":{"line":21,"column":15},"generated":{"line":1,"column":507}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":21,"column":19},"generated":{"line":1,"column":512}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":21,"column":28},"generated":{"line":1,"column":514}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":21,"column":28},"generated":{"line":1,"column":516}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":21,"column":28},"generated":{"line":1,"column":526}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"field","original":{"line":22,"column":6},"generated":{"line":1,"column":527}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"scope","original":{"line":22,"column":13},"generated":{"line":1,"column":533}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"fieldRef","original":{"line":22,"column":19},"generated":{"line":1,"column":535}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":22,"column":28},"generated":{"line":1,"column":544}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"field","original":{"line":22,"column":34},"generated":{"line":1,"column":546}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"pulse","original":{"line":23,"column":6},"generated":{"line":1,"column":553}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"data","original":{"line":23,"column":13},"generated":{"line":1,"column":559}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":25,"column":13},"generated":{"line":1,"column":564}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"groupby","original":{"line":25,"column":19},"generated":{"line":1,"column":566}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"op","original":{"line":26,"column":4},"generated":{"line":1,"column":574}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"scope","original":{"line":26,"column":9},"generated":{"line":1,"column":576}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"add","original":{"line":26,"column":15},"generated":{"line":1,"column":578}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":26,"column":19},"generated":{"line":1,"column":583}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":26,"column":25},"generated":{"line":1,"column":585}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":26,"column":25},"generated":{"line":1,"column":587}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":26,"column":25},"generated":{"line":1,"column":594}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"key","original":{"line":27,"column":6},"generated":{"line":1,"column":595}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"scope","original":{"line":27,"column":13},"generated":{"line":1,"column":599}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"keyRef","original":{"line":27,"column":19},"generated":{"line":1,"column":601}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":27,"column":26},"generated":{"line":1,"column":608}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"groupby","original":{"line":27,"column":32},"generated":{"line":1,"column":610}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"group","original":{"line":28,"column":6},"generated":{"line":1,"column":619}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":28,"column":13},"generated":{"line":1,"column":626}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"scope","original":{"line":28,"column":17},"generated":{"line":1,"column":628}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"scope","original":{"line":28,"column":17},"generated":{"line":1,"column":630}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"scope","original":{"line":28,"column":17},"generated":{"line":1,"column":635}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"proxy","original":{"line":28,"column":23},"generated":{"line":1,"column":637}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"group","original":{"line":28,"column":29},"generated":{"line":1,"column":643}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"parent","original":{"line":28,"column":35},"generated":{"line":1,"column":645}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"pulse","original":{"line":29,"column":6},"generated":{"line":1,"column":654}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"data","original":{"line":29,"column":13},"generated":{"line":1,"column":660}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":32,"column":10},"generated":{"line":1,"column":666}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":32,"column":10},"generated":{"line":1,"column":668}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":32,"column":10},"generated":{"line":1,"column":670}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":32,"column":10},"generated":{"line":1,"column":677}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":32,"column":52},"generated":{"line":1,"column":718}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":32,"column":64},"generated":{"line":1,"column":720}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":32,"column":64},"generated":{"line":1,"column":722}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"facet","original":{"line":32,"column":64},"generated":{"line":1,"column":735}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"source","original":{"line":37,"column":2},"generated":{"line":1,"column":739}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"subscope","original":{"line":36,"column":2},"generated":{"line":1,"column":742}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"scope","original":{"line":36,"column":13},"generated":{"line":1,"column":744}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"fork","original":{"line":36,"column":19},"generated":{"line":1,"column":746}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"add","original":{"line":37,"column":20},"generated":{"line":1,"column":754}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":37,"column":24},"generated":{"line":1,"column":759}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":37,"column":11},"generated":{"line":1,"column":761}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":37,"column":11},"generated":{"line":1,"column":763}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"values","original":{"line":38,"column":2},"generated":{"line":1,"column":775}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"subscope","original":{"line":38,"column":11},"generated":{"line":1,"column":777}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"add","original":{"line":38,"column":20},"generated":{"line":1,"column":779}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":38,"column":24},"generated":{"line":1,"column":784}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":38,"column":30},"generated":{"line":1,"column":786}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":38,"column":30},"generated":{"line":1,"column":788}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":38,"column":30},"generated":{"line":1,"column":795}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"pulse","original":{"line":38,"column":31},"generated":{"line":1,"column":796}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":38,"column":38},"generated":{"line":1,"column":803}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"source","original":{"line":38,"column":42},"generated":{"line":1,"column":805}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"source","original":{"line":38,"column":42},"generated":{"line":1,"column":807}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"source","original":{"line":38,"column":42},"generated":{"line":1,"column":812}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"subscope","original":{"line":39,"column":2},"generated":{"line":1,"column":818}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"addData","original":{"line":39,"column":11},"generated":{"line":1,"column":820}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"name","original":{"line":39,"column":19},"generated":{"line":1,"column":828}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":39,"column":25},"generated":{"line":1,"column":830}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"DataScope","original":{"line":39,"column":29},"generated":{"line":1,"column":834}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":39,"column":25},"generated":{"line":1,"column":836}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"subscope","original":{"line":39,"column":39},"generated":{"line":1,"column":844}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"source","original":{"line":39,"column":49},"generated":{"line":1,"column":846}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"source","original":{"line":39,"column":57},"generated":{"line":1,"column":848}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"values","original":{"line":39,"column":65},"generated":{"line":1,"column":850}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"subscope","original":{"line":40,"column":2},"generated":{"line":1,"column":854}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"addSignal","original":{"line":40,"column":11},"generated":{"line":1,"column":856}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":40,"column":21},"generated":{"line":1,"column":866}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":40,"column":31},"generated":{"line":1,"column":875}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"op","original":{"line":43,"column":2},"generated":{"line":1,"column":881}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"params","original":{"line":43,"column":5},"generated":{"line":1,"column":883}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"subflow","original":{"line":43,"column":12},"generated":{"line":1,"column":890}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","original":{"line":43,"column":22},"generated":{"line":1,"column":898}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"$subflow","original":{"line":44,"column":4},"generated":{"line":1,"column":899}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"subscope","original":{"line":44,"column":14},"generated":{"line":1,"column":908}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"parse","original":{"line":44,"column":23},"generated":{"line":1,"column":910}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"spec","original":{"line":44,"column":29},"generated":{"line":1,"column":916}},{"source":"node_modules/vega-parser/src/parsers/marks/facet.js","name":"toRuntime","original":{"line":44,"column":35},"generated":{"line":1,"column":919}}],"sources":{"node_modules/vega-parser/src/parsers/marks/facet.js":"import {getDataRef} from './data';\nimport DataScope from '../../DataScope';\nimport {Collect, Facet, PreFacet, Sieve} from '../../transforms';\nimport {ref} from '../../util';\nimport {error, stringValue} from 'vega-util';\n\nexport default function(spec, scope, group) {\n  var facet = spec.from.facet,\n      name = facet.name,\n      data = getDataRef(facet, scope),\n      subscope, source, values, op;\n\n  if (!facet.name) {\n    error('Facet must have a name: ' + stringValue(facet));\n  }\n  if (!facet.data) {\n    error('Facet must reference a data set: ' + stringValue(facet));\n  }\n\n  if (facet.field) {\n    op = scope.add(PreFacet({\n      field: scope.fieldRef(facet.field),\n      pulse: data\n    }));\n  } else if (facet.groupby) {\n    op = scope.add(Facet({\n      key:   scope.keyRef(facet.groupby),\n      group: ref(scope.proxy(group.parent)),\n      pulse: data\n    }));\n  } else {\n    error('Facet must specify groupby or field: ' + stringValue(facet));\n  }\n\n  // initialize facet subscope\n  subscope = scope.fork();\n  source = subscope.add(Collect());\n  values = subscope.add(Sieve({pulse: ref(source)}));\n  subscope.addData(name, new DataScope(subscope, source, source, values));\n  subscope.addSignal('parent', null);\n\n  // parse faceted subflow\n  op.params.subflow = {\n    $subflow: subscope.parse(spec).toRuntime()\n  };\n}\n"},"lineCount":null}},"error":null,"hash":"5327709c260acc85d9c045b72b3dc64a","cacheData":{"env":{}}}