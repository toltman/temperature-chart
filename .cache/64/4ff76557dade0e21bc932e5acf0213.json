{"id":"g86l","dependencies":[{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591974399859},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-regression/package.json","includedInParent":true,"mtime":1591969205220},{"name":"./partition","loc":{"line":1,"column":22},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-regression/src/Loess.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-regression/src/partition.js"},{"name":"vega-statistics","loc":{"line":2,"column":30},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-regression/src/Loess.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-statistics/index.js"},{"name":"vega-dataflow","loc":{"line":3,"column":32},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-regression/src/Loess.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/index.js"},{"name":"vega-util","loc":{"line":4,"column":37},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-regression/src/Loess.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=i;var e=s(require(\"./partition\")),r=require(\"vega-statistics\"),a=require(\"vega-dataflow\"),t=require(\"vega-util\");function s(e){return e&&e.__esModule?e:{default:e}}function i(e){a.Transform.call(this,null,e)}i.Definition={type:\"Loess\",metadata:{generates:!0},params:[{name:\"x\",type:\"field\",required:!0},{name:\"y\",type:\"field\",required:!0},{name:\"groupby\",type:\"field\",array:!0},{name:\"bandwidth\",type:\"number\",default:.3},{name:\"as\",type:\"string\",array:!0}]};var n=(0,t.inherits)(i,a.Transform);n.transform=function(s,i){var n=i.fork(i.NO_SOURCE|i.NO_FIELDS);if(!this.value||i.changed()||s.modified()){const o=i.materialize(i.SOURCE).source,u=(0,e.default)(o,s.groupby),d=(s.groupby||[]).map(t.accessorName),l=d.length,f=s.as||[(0,t.accessorName)(s.x),(0,t.accessorName)(s.y)],c=[];u.forEach(e=>{(0,r.regressionLoess)(e,s.x,s.y,s.bandwidth||.3).forEach(r=>{const t={};for(let a=0;a<l;++a)t[d[a]]=e.dims[a];t[f[0]]=r[0],t[f[1]]=r[1],c.push((0,a.ingest)(t))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":2,"column":0},"generated":{"line":1,"column":118}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":2,"column":0},"generated":{"line":1,"column":120}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":3,"column":0},"generated":{"line":1,"column":147}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":3,"column":0},"generated":{"line":1,"column":149}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":3,"column":0},"generated":{"line":1,"column":157}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":4,"column":0},"generated":{"line":1,"column":174}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":4,"column":0},"generated":{"line":1,"column":176}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":4,"column":0},"generated":{"line":1,"column":184}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":197}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":206}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":208}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":211}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":218}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":221}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":223}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":234}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":236}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":237}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":0},"generated":{"line":1,"column":245}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":15,"column":15},"generated":{"line":1,"column":248}},{"source":"node_modules/vega-regression/src/Loess.js","name":"Loess","original":{"line":15,"column":24},"generated":{"line":1,"column":257}},{"source":"node_modules/vega-regression/src/Loess.js","name":"params","original":{"line":15,"column":30},"generated":{"line":1,"column":259}},{"source":"node_modules/vega-regression/src/Loess.js","name":"call","original":{"line":16,"column":12},"generated":{"line":1,"column":262}},{"source":"node_modules/vega-regression/src/Loess.js","name":"call","original":{"line":16,"column":12},"generated":{"line":1,"column":264}},{"source":"node_modules/vega-regression/src/Loess.js","name":"call","original":{"line":16,"column":12},"generated":{"line":1,"column":274}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":16,"column":17},"generated":{"line":1,"column":279}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":16,"column":23},"generated":{"line":1,"column":284}},{"source":"node_modules/vega-regression/src/Loess.js","name":"params","original":{"line":16,"column":29},"generated":{"line":1,"column":289}},{"source":"node_modules/vega-regression/src/Loess.js","name":"Loess","original":{"line":19,"column":0},"generated":{"line":1,"column":292}},{"source":"node_modules/vega-regression/src/Loess.js","name":"Definition","original":{"line":19,"column":6},"generated":{"line":1,"column":294}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":19,"column":19},"generated":{"line":1,"column":305}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":20,"column":10},"generated":{"line":1,"column":306}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":20,"column":10},"generated":{"line":1,"column":311}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":21,"column":14},"generated":{"line":1,"column":319}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":21,"column":14},"generated":{"line":1,"column":328}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":21,"column":28},"generated":{"line":1,"column":329}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":21,"column":28},"generated":{"line":1,"column":340}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":22,"column":12},"generated":{"line":1,"column":343}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":22,"column":12},"generated":{"line":1,"column":350}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":23,"column":4},"generated":{"line":1,"column":351}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":23,"column":14},"generated":{"line":1,"column":352}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":23,"column":14},"generated":{"line":1,"column":357}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":23,"column":27},"generated":{"line":1,"column":361}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":23,"column":27},"generated":{"line":1,"column":366}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":23,"column":48},"generated":{"line":1,"column":374}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":23,"column":48},"generated":{"line":1,"column":384}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":24,"column":4},"generated":{"line":1,"column":387}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":24,"column":14},"generated":{"line":1,"column":388}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":24,"column":14},"generated":{"line":1,"column":393}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":24,"column":27},"generated":{"line":1,"column":397}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":24,"column":27},"generated":{"line":1,"column":402}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":24,"column":48},"generated":{"line":1,"column":410}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":24,"column":48},"generated":{"line":1,"column":420}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":25,"column":4},"generated":{"line":1,"column":423}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":25,"column":14},"generated":{"line":1,"column":424}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":25,"column":14},"generated":{"line":1,"column":429}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":25,"column":33},"generated":{"line":1,"column":439}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":25,"column":33},"generated":{"line":1,"column":444}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":25,"column":51},"generated":{"line":1,"column":452}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":25,"column":51},"generated":{"line":1,"column":459}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":26,"column":4},"generated":{"line":1,"column":462}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":26,"column":14},"generated":{"line":1,"column":463}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":26,"column":14},"generated":{"line":1,"column":468}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":26,"column":35},"generated":{"line":1,"column":480}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":26,"column":35},"generated":{"line":1,"column":485}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":26,"column":56},"generated":{"line":1,"column":494}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":26,"column":56},"generated":{"line":1,"column":502}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":27,"column":4},"generated":{"line":1,"column":506}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":27,"column":14},"generated":{"line":1,"column":507}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":27,"column":14},"generated":{"line":1,"column":512}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":27,"column":28},"generated":{"line":1,"column":517}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":27,"column":28},"generated":{"line":1,"column":522}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":27,"column":47},"generated":{"line":1,"column":531}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":27,"column":47},"generated":{"line":1,"column":538}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":31,"column":0},"generated":{"line":1,"column":543}},{"source":"node_modules/vega-regression/src/Loess.js","name":"prototype","original":{"line":31,"column":4},"generated":{"line":1,"column":547}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":31,"column":16},"generated":{"line":1,"column":550}},{"source":"node_modules/vega-regression/src/Loess.js","name":"Loess","original":{"line":31,"column":25},"generated":{"line":1,"column":552}},{"source":"node_modules/vega-regression/src/Loess.js","name":"Loess","original":{"line":31,"column":25},"generated":{"line":1,"column":554}},{"source":"node_modules/vega-regression/src/Loess.js","name":"Loess","original":{"line":31,"column":25},"generated":{"line":1,"column":564}},{"source":"node_modules/vega-regression/src/Loess.js","name":"Transform","original":{"line":31,"column":32},"generated":{"line":1,"column":566}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":31,"column":16},"generated":{"line":1,"column":568}},{"source":"node_modules/vega-regression/src/Loess.js","name":"prototype","original":{"line":33,"column":0},"generated":{"line":1,"column":579}},{"source":"node_modules/vega-regression/src/Loess.js","name":"transform","original":{"line":33,"column":10},"generated":{"line":1,"column":581}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":33,"column":22},"generated":{"line":1,"column":591}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":33,"column":31},"generated":{"line":1,"column":600}},{"source":"node_modules/vega-regression/src/Loess.js","name":"pulse","original":{"line":33,"column":34},"generated":{"line":1,"column":602}},{"source":"node_modules/vega-regression/src/Loess.js","name":"out","original":{"line":34,"column":6},"generated":{"line":1,"column":605}},{"source":"node_modules/vega-regression/src/Loess.js","name":"out","original":{"line":34,"column":6},"generated":{"line":1,"column":609}},{"source":"node_modules/vega-regression/src/Loess.js","name":"pulse","original":{"line":34,"column":12},"generated":{"line":1,"column":611}},{"source":"node_modules/vega-regression/src/Loess.js","name":"fork","original":{"line":34,"column":18},"generated":{"line":1,"column":613}},{"source":"node_modules/vega-regression/src/Loess.js","name":"pulse","original":{"line":34,"column":23},"generated":{"line":1,"column":618}},{"source":"node_modules/vega-regression/src/Loess.js","name":"NO_SOURCE","original":{"line":34,"column":29},"generated":{"line":1,"column":620}},{"source":"node_modules/vega-regression/src/Loess.js","name":"pulse","original":{"line":34,"column":41},"generated":{"line":1,"column":630}},{"source":"node_modules/vega-regression/src/Loess.js","name":"NO_FIELDS","original":{"line":34,"column":47},"generated":{"line":1,"column":632}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":36,"column":6},"generated":{"line":1,"column":643}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":36,"column":7},"generated":{"line":1,"column":647}},{"source":"node_modules/vega-regression/src/Loess.js","name":"value","original":{"line":36,"column":12},"generated":{"line":1,"column":652}},{"source":"node_modules/vega-regression/src/Loess.js","name":"pulse","original":{"line":36,"column":21},"generated":{"line":1,"column":659}},{"source":"node_modules/vega-regression/src/Loess.js","name":"changed","original":{"line":36,"column":27},"generated":{"line":1,"column":661}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":36,"column":40},"generated":{"line":1,"column":672}},{"source":"node_modules/vega-regression/src/Loess.js","name":"modified","original":{"line":36,"column":42},"generated":{"line":1,"column":674}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":36,"column":54},"generated":{"line":1,"column":685}},{"source":"node_modules/vega-regression/src/Loess.js","name":"source","original":{"line":37,"column":10},"generated":{"line":1,"column":686}},{"source":"node_modules/vega-regression/src/Loess.js","name":"source","original":{"line":37,"column":10},"generated":{"line":1,"column":692}},{"source":"node_modules/vega-regression/src/Loess.js","name":"pulse","original":{"line":37,"column":19},"generated":{"line":1,"column":694}},{"source":"node_modules/vega-regression/src/Loess.js","name":"materialize","original":{"line":37,"column":25},"generated":{"line":1,"column":696}},{"source":"node_modules/vega-regression/src/Loess.js","name":"pulse","original":{"line":37,"column":37},"generated":{"line":1,"column":708}},{"source":"node_modules/vega-regression/src/Loess.js","name":"SOURCE","original":{"line":37,"column":43},"generated":{"line":1,"column":710}},{"source":"node_modules/vega-regression/src/Loess.js","name":"source","original":{"line":37,"column":51},"generated":{"line":1,"column":718}},{"source":"node_modules/vega-regression/src/Loess.js","name":"groups","original":{"line":38,"column":10},"generated":{"line":1,"column":725}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":38,"column":19},"generated":{"line":1,"column":728}},{"source":"node_modules/vega-regression/src/Loess.js","name":"source","original":{"line":38,"column":29},"generated":{"line":1,"column":730}},{"source":"node_modules/vega-regression/src/Loess.js","name":"source","original":{"line":38,"column":29},"generated":{"line":1,"column":732}},{"source":"node_modules/vega-regression/src/Loess.js","name":"source","original":{"line":38,"column":29},"generated":{"line":1,"column":741}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":38,"column":37},"generated":{"line":1,"column":743}},{"source":"node_modules/vega-regression/src/Loess.js","name":"groupby","original":{"line":38,"column":39},"generated":{"line":1,"column":745}},{"source":"node_modules/vega-regression/src/Loess.js","name":"names","original":{"line":39,"column":10},"generated":{"line":1,"column":754}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":39,"column":19},"generated":{"line":1,"column":757}},{"source":"node_modules/vega-regression/src/Loess.js","name":"groupby","original":{"line":39,"column":21},"generated":{"line":1,"column":759}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":39,"column":32},"generated":{"line":1,"column":768}},{"source":"node_modules/vega-regression/src/Loess.js","name":"map","original":{"line":39,"column":36},"generated":{"line":1,"column":772}},{"source":"node_modules/vega-regression/src/Loess.js","name":"accessorName","original":{"line":39,"column":40},"generated":{"line":1,"column":776}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":39,"column":18},"generated":{"line":1,"column":778}},{"source":"node_modules/vega-regression/src/Loess.js","name":"m","original":{"line":40,"column":10},"generated":{"line":1,"column":792}},{"source":"node_modules/vega-regression/src/Loess.js","name":"names","original":{"line":40,"column":14},"generated":{"line":1,"column":794}},{"source":"node_modules/vega-regression/src/Loess.js","name":"length","original":{"line":40,"column":20},"generated":{"line":1,"column":796}},{"source":"node_modules/vega-regression/src/Loess.js","name":"as","original":{"line":41,"column":10},"generated":{"line":1,"column":803}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":41,"column":15},"generated":{"line":1,"column":805}},{"source":"node_modules/vega-regression/src/Loess.js","name":"as","original":{"line":41,"column":17},"generated":{"line":1,"column":807}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":41,"column":23},"generated":{"line":1,"column":811}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":41,"column":24},"generated":{"line":1,"column":813}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":41,"column":37},"generated":{"line":1,"column":815}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":41,"column":37},"generated":{"line":1,"column":817}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":41,"column":37},"generated":{"line":1,"column":831}},{"source":"node_modules/vega-regression/src/Loess.js","name":"x","original":{"line":41,"column":39},"generated":{"line":1,"column":833}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":41,"column":43},"generated":{"line":1,"column":837}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":41,"column":56},"generated":{"line":1,"column":839}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":41,"column":56},"generated":{"line":1,"column":841}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":41,"column":56},"generated":{"line":1,"column":855}},{"source":"node_modules/vega-regression/src/Loess.js","name":"y","original":{"line":41,"column":58},"generated":{"line":1,"column":857}},{"source":"node_modules/vega-regression/src/Loess.js","name":"values","original":{"line":42,"column":10},"generated":{"line":1,"column":861}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":42,"column":19},"generated":{"line":1,"column":863}},{"source":"node_modules/vega-regression/src/Loess.js","name":"groups","original":{"line":44,"column":4},"generated":{"line":1,"column":866}},{"source":"node_modules/vega-regression/src/Loess.js","name":"forEach","original":{"line":44,"column":11},"generated":{"line":1,"column":868}},{"source":"node_modules/vega-regression/src/Loess.js","name":"g","original":{"line":44,"column":19},"generated":{"line":1,"column":876}},{"source":"node_modules/vega-regression/src/Loess.js","name":"g","original":{"line":45,"column":22},"generated":{"line":1,"column":881}},{"source":"node_modules/vega-regression/src/Loess.js","name":"g","original":{"line":45,"column":22},"generated":{"line":1,"column":883}},{"source":"node_modules/vega-regression/src/Loess.js","name":"g","original":{"line":45,"column":22},"generated":{"line":1,"column":885}},{"source":"node_modules/vega-regression/src/Loess.js","name":"g","original":{"line":45,"column":22},"generated":{"line":1,"column":902}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":45,"column":25},"generated":{"line":1,"column":904}},{"source":"node_modules/vega-regression/src/Loess.js","name":"x","original":{"line":45,"column":27},"generated":{"line":1,"column":906}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":45,"column":30},"generated":{"line":1,"column":908}},{"source":"node_modules/vega-regression/src/Loess.js","name":"y","original":{"line":45,"column":32},"generated":{"line":1,"column":910}},{"source":"node_modules/vega-regression/src/Loess.js","name":"_","original":{"line":45,"column":35},"generated":{"line":1,"column":912}},{"source":"node_modules/vega-regression/src/Loess.js","name":"bandwidth","original":{"line":45,"column":37},"generated":{"line":1,"column":914}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":45,"column":50},"generated":{"line":1,"column":925}},{"source":"node_modules/vega-regression/src/Loess.js","name":"forEach","original":{"line":45,"column":55},"generated":{"line":1,"column":929}},{"source":"node_modules/vega-regression/src/Loess.js","name":"p","original":{"line":45,"column":63},"generated":{"line":1,"column":937}},{"source":"node_modules/vega-regression/src/Loess.js","name":"t","original":{"line":46,"column":14},"generated":{"line":1,"column":941}},{"source":"node_modules/vega-regression/src/Loess.js","name":"t","original":{"line":46,"column":14},"generated":{"line":1,"column":947}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":46,"column":18},"generated":{"line":1,"column":949}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":47,"column":13},"generated":{"line":1,"column":952}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":47,"column":13},"generated":{"line":1,"column":956}},{"source":"node_modules/vega-regression/src/Loess.js","name":"i","original":{"line":47,"column":17},"generated":{"line":1,"column":960}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":47,"column":19},"generated":{"line":1,"column":962}},{"source":"node_modules/vega-regression/src/Loess.js","name":"i","original":{"line":47,"column":22},"generated":{"line":1,"column":964}},{"source":"node_modules/vega-regression/src/Loess.js","name":"m","original":{"line":47,"column":24},"generated":{"line":1,"column":966}},{"source":"node_modules/vega-regression/src/Loess.js","name":"i","original":{"line":47,"column":29},"generated":{"line":1,"column":970}},{"source":"node_modules/vega-regression/src/Loess.js","name":"t","original":{"line":48,"column":10},"generated":{"line":1,"column":972}},{"source":"node_modules/vega-regression/src/Loess.js","name":"names","original":{"line":48,"column":12},"generated":{"line":1,"column":974}},{"source":"node_modules/vega-regression/src/Loess.js","name":"i","original":{"line":48,"column":18},"generated":{"line":1,"column":976}},{"source":"node_modules/vega-regression/src/Loess.js","name":"g","original":{"line":48,"column":24},"generated":{"line":1,"column":980}},{"source":"node_modules/vega-regression/src/Loess.js","name":"dims","original":{"line":48,"column":26},"generated":{"line":1,"column":982}},{"source":"node_modules/vega-regression/src/Loess.js","name":"i","original":{"line":48,"column":31},"generated":{"line":1,"column":987}},{"source":"node_modules/vega-regression/src/Loess.js","name":"t","original":{"line":50,"column":8},"generated":{"line":1,"column":990}},{"source":"node_modules/vega-regression/src/Loess.js","name":"as","original":{"line":50,"column":10},"generated":{"line":1,"column":992}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":50,"column":13},"generated":{"line":1,"column":994}},{"source":"node_modules/vega-regression/src/Loess.js","name":"p","original":{"line":50,"column":19},"generated":{"line":1,"column":998}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":50,"column":21},"generated":{"line":1,"column":1000}},{"source":"node_modules/vega-regression/src/Loess.js","name":"t","original":{"line":51,"column":8},"generated":{"line":1,"column":1003}},{"source":"node_modules/vega-regression/src/Loess.js","name":"as","original":{"line":51,"column":10},"generated":{"line":1,"column":1005}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":51,"column":13},"generated":{"line":1,"column":1007}},{"source":"node_modules/vega-regression/src/Loess.js","name":"p","original":{"line":51,"column":19},"generated":{"line":1,"column":1011}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":51,"column":21},"generated":{"line":1,"column":1013}},{"source":"node_modules/vega-regression/src/Loess.js","name":"values","original":{"line":52,"column":8},"generated":{"line":1,"column":1016}},{"source":"node_modules/vega-regression/src/Loess.js","name":"push","original":{"line":52,"column":15},"generated":{"line":1,"column":1018}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":52,"column":20},"generated":{"line":1,"column":1024}},{"source":"node_modules/vega-regression/src/Loess.js","name":"t","original":{"line":52,"column":27},"generated":{"line":1,"column":1026}},{"source":"node_modules/vega-regression/src/Loess.js","name":"t","original":{"line":52,"column":27},"generated":{"line":1,"column":1028}},{"source":"node_modules/vega-regression/src/Loess.js","name":"t","original":{"line":52,"column":27},"generated":{"line":1,"column":1036}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":56,"column":8},"generated":{"line":1,"column":1044}},{"source":"node_modules/vega-regression/src/Loess.js","name":"value","original":{"line":56,"column":13},"generated":{"line":1,"column":1049}},{"source":"node_modules/vega-regression/src/Loess.js","name":"out","original":{"line":56,"column":20},"generated":{"line":1,"column":1057}},{"source":"node_modules/vega-regression/src/Loess.js","name":"rem","original":{"line":56,"column":24},"generated":{"line":1,"column":1059}},{"source":"node_modules/vega-regression/src/Loess.js","original":{"line":56,"column":30},"generated":{"line":1,"column":1063}},{"source":"node_modules/vega-regression/src/Loess.js","name":"value","original":{"line":56,"column":35},"generated":{"line":1,"column":1068}},{"source":"node_modules/vega-regression/src/Loess.js","name":"value","original":{"line":57,"column":9},"generated":{"line":1,"column":1075}},{"source":"node_modules/vega-regression/src/Loess.js","name":"value","original":{"line":57,"column":9},"generated":{"line":1,"column":1080}},{"source":"node_modules/vega-regression/src/Loess.js","name":"out","original":{"line":57,"column":17},"generated":{"line":1,"column":1086}},{"source":"node_modules/vega-regression/src/Loess.js","name":"add","original":{"line":57,"column":21},"generated":{"line":1,"column":1088}},{"source":"node_modules/vega-regression/src/Loess.js","name":"out","original":{"line":57,"column":27},"generated":{"line":1,"column":1092}},{"source":"node_modules/vega-regression/src/Loess.js","name":"source","original":{"line":57,"column":31},"generated":{"line":1,"column":1094}},{"source":"node_modules/vega-regression/src/Loess.js","name":"values","original":{"line":57,"column":40},"generated":{"line":1,"column":1101}},{"source":"node_modules/vega-regression/src/Loess.js","name":"out","original":{"line":60,"column":9},"generated":{"line":1,"column":1103}},{"source":"node_modules/vega-regression/src/Loess.js","name":"out","original":{"line":60,"column":9},"generated":{"line":1,"column":1110}}],"sources":{"node_modules/vega-regression/src/Loess.js":"import partition from './partition';\nimport {regressionLoess} from 'vega-statistics';\nimport {Transform, ingest} from 'vega-dataflow';\nimport {accessorName, inherits} from 'vega-util';\n\n/**\n * Compute locally-weighted regression fits for one or more data groups.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(object): *} params.x - An accessor for the predictor data field.\n * @param {function(object): *} params.y - An accessor for the predicted data field.\n * @param {Array<function(object): *>} [params.groupby] - An array of accessors to groupby.\n * @param {number} [params.bandwidth=0.3] - The loess bandwidth.\n */\nexport default function Loess(params) {\n  Transform.call(this, null, params);\n}\n\nLoess.Definition = {\n  'type': 'Loess',\n  'metadata': {'generates': true},\n  'params': [\n    { 'name': 'x', 'type': 'field', 'required': true },\n    { 'name': 'y', 'type': 'field', 'required': true },\n    { 'name': 'groupby', 'type': 'field', 'array': true },\n    { 'name': 'bandwidth', 'type': 'number', 'default': 0.3 },\n    { 'name': 'as', 'type': 'string', 'array': true }\n  ]\n};\n\nvar prototype = inherits(Loess, Transform);\n\nprototype.transform = function(_, pulse) {\n  var out = pulse.fork(pulse.NO_SOURCE | pulse.NO_FIELDS);\n\n  if (!this.value || pulse.changed() || _.modified()) {\n    const source = pulse.materialize(pulse.SOURCE).source,\n          groups = partition(source, _.groupby),\n          names = (_.groupby || []).map(accessorName),\n          m = names.length,\n          as = _.as || [accessorName(_.x), accessorName(_.y)],\n          values = [];\n\n    groups.forEach(g => {\n      regressionLoess(g, _.x, _.y, _.bandwidth || 0.3).forEach(p => {\n        const t = {};\n        for (let i=0; i<m; ++i) {\n          t[names[i]] = g.dims[i];\n        }\n        t[as[0]] = p[0];\n        t[as[1]] = p[1];\n        values.push(ingest(t));\n      });\n    });\n\n    if (this.value) out.rem = this.value;\n    this.value = out.add = out.source = values;\n  }\n\n  return out;\n};\n"},"lineCount":null}},"error":null,"hash":"b50067a9c14c0225750b817f76630ff4","cacheData":{"env":{}}}