{"id":"geYR","dependencies":[{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591970318768},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-transforms/package.json","includedInParent":true,"mtime":1591969205221},{"name":"./util/SortedList","loc":{"line":1,"column":23},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-transforms/src/Collect.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-transforms/src/util/SortedList.js"},{"name":"vega-dataflow","loc":{"line":2,"column":48},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-transforms/src/Collect.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/index.js"},{"name":"vega-util","loc":{"line":3,"column":23},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-transforms/src/Collect.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=a;var e=o(require(\"./util/SortedList\")),r=require(\"vega-dataflow\"),t=require(\"vega-util\");function o(e){return e&&e.__esModule?e:{default:e}}function a(e){r.Transform.call(this,[],e)}a.Definition={type:\"Collect\",metadata:{source:!0},params:[{name:\"sort\",type:\"compare\"}]};var i=(0,t.inherits)(a,r.Transform);i.transform=function(t,o){var a=o.fork(o.ALL),i=(0,e.default)(r.tupleid,this.value,a.materialize(a.ADD).add),s=t.sort,u=o.changed()||s&&(t.modified(\"sort\")||o.modified(s.fields));return a.visit(a.REM,i.remove),this.modified(u),this.value=a.source=i.data((0,r.stableCompare)(s),u),o.source&&o.source.root&&(this.value.root=o.source.root),a};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":2,"column":0},"generated":{"line":1,"column":124}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":2,"column":0},"generated":{"line":1,"column":126}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":2,"column":0},"generated":{"line":1,"column":134}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":3,"column":0},"generated":{"line":1,"column":151}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":3,"column":0},"generated":{"line":1,"column":153}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":3,"column":0},"generated":{"line":1,"column":161}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":174}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":183}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":185}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":188}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":195}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":198}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":200}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":211}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":213}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":214}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":0},"generated":{"line":1,"column":222}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":12,"column":15},"generated":{"line":1,"column":225}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"Collect","original":{"line":12,"column":24},"generated":{"line":1,"column":234}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"params","original":{"line":12,"column":32},"generated":{"line":1,"column":236}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"call","original":{"line":13,"column":12},"generated":{"line":1,"column":239}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"call","original":{"line":13,"column":12},"generated":{"line":1,"column":241}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"call","original":{"line":13,"column":12},"generated":{"line":1,"column":251}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":13,"column":17},"generated":{"line":1,"column":256}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":13,"column":23},"generated":{"line":1,"column":261}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"params","original":{"line":13,"column":27},"generated":{"line":1,"column":264}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"Collect","original":{"line":16,"column":0},"generated":{"line":1,"column":267}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"Definition","original":{"line":16,"column":8},"generated":{"line":1,"column":269}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":16,"column":21},"generated":{"line":1,"column":280}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":17,"column":10},"generated":{"line":1,"column":281}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":17,"column":10},"generated":{"line":1,"column":286}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":18,"column":14},"generated":{"line":1,"column":296}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":18,"column":14},"generated":{"line":1,"column":305}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":18,"column":25},"generated":{"line":1,"column":306}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":18,"column":25},"generated":{"line":1,"column":314}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":19,"column":12},"generated":{"line":1,"column":317}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":19,"column":12},"generated":{"line":1,"column":324}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":20,"column":4},"generated":{"line":1,"column":325}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":20,"column":14},"generated":{"line":1,"column":326}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":20,"column":14},"generated":{"line":1,"column":331}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":20,"column":30},"generated":{"line":1,"column":338}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":20,"column":30},"generated":{"line":1,"column":343}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":24,"column":0},"generated":{"line":1,"column":356}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"prototype","original":{"line":24,"column":4},"generated":{"line":1,"column":360}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":24,"column":16},"generated":{"line":1,"column":363}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"Collect","original":{"line":24,"column":25},"generated":{"line":1,"column":365}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"Collect","original":{"line":24,"column":25},"generated":{"line":1,"column":367}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"Collect","original":{"line":24,"column":25},"generated":{"line":1,"column":377}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"Transform","original":{"line":24,"column":34},"generated":{"line":1,"column":379}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":24,"column":16},"generated":{"line":1,"column":381}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"prototype","original":{"line":26,"column":0},"generated":{"line":1,"column":392}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"transform","original":{"line":26,"column":10},"generated":{"line":1,"column":394}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":26,"column":22},"generated":{"line":1,"column":404}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"_","original":{"line":26,"column":31},"generated":{"line":1,"column":413}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"pulse","original":{"line":26,"column":34},"generated":{"line":1,"column":415}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"out","original":{"line":27,"column":6},"generated":{"line":1,"column":418}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"out","original":{"line":27,"column":6},"generated":{"line":1,"column":422}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"pulse","original":{"line":27,"column":12},"generated":{"line":1,"column":424}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"fork","original":{"line":27,"column":18},"generated":{"line":1,"column":426}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"pulse","original":{"line":27,"column":23},"generated":{"line":1,"column":431}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"ALL","original":{"line":27,"column":29},"generated":{"line":1,"column":433}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"list","original":{"line":28,"column":6},"generated":{"line":1,"column":438}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":28,"column":13},"generated":{"line":1,"column":441}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"tupleid","original":{"line":28,"column":24},"generated":{"line":1,"column":443}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"tupleid","original":{"line":28,"column":24},"generated":{"line":1,"column":445}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"tupleid","original":{"line":28,"column":24},"generated":{"line":1,"column":454}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":28,"column":13},"generated":{"line":1,"column":456}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":28,"column":33},"generated":{"line":1,"column":464}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"value","original":{"line":28,"column":38},"generated":{"line":1,"column":469}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"out","original":{"line":28,"column":45},"generated":{"line":1,"column":475}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"materialize","original":{"line":28,"column":49},"generated":{"line":1,"column":477}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"out","original":{"line":28,"column":61},"generated":{"line":1,"column":489}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"ADD","original":{"line":28,"column":65},"generated":{"line":1,"column":491}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"add","original":{"line":28,"column":70},"generated":{"line":1,"column":496}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"sort","original":{"line":29,"column":6},"generated":{"line":1,"column":501}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"_","original":{"line":29,"column":13},"generated":{"line":1,"column":503}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"sort","original":{"line":29,"column":15},"generated":{"line":1,"column":505}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"mod","original":{"line":30,"column":6},"generated":{"line":1,"column":510}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"pulse","original":{"line":30,"column":12},"generated":{"line":1,"column":512}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"changed","original":{"line":30,"column":18},"generated":{"line":1,"column":514}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"sort","original":{"line":30,"column":32},"generated":{"line":1,"column":525}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"_","original":{"line":31,"column":13},"generated":{"line":1,"column":529}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"modified","original":{"line":31,"column":15},"generated":{"line":1,"column":531}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":31,"column":24},"generated":{"line":1,"column":540}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"pulse","original":{"line":31,"column":35},"generated":{"line":1,"column":549}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"modified","original":{"line":31,"column":41},"generated":{"line":1,"column":551}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"sort","original":{"line":31,"column":50},"generated":{"line":1,"column":560}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"fields","original":{"line":31,"column":55},"generated":{"line":1,"column":562}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"out","original":{"line":43,"column":9},"generated":{"line":1,"column":571}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"out","original":{"line":33,"column":2},"generated":{"line":1,"column":578}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"visit","original":{"line":33,"column":6},"generated":{"line":1,"column":580}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"out","original":{"line":33,"column":12},"generated":{"line":1,"column":586}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"REM","original":{"line":33,"column":16},"generated":{"line":1,"column":588}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"list","original":{"line":33,"column":21},"generated":{"line":1,"column":592}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"remove","original":{"line":33,"column":26},"generated":{"line":1,"column":594}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"modified","original":{"line":35,"column":7},"generated":{"line":1,"column":602}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"modified","original":{"line":35,"column":7},"generated":{"line":1,"column":607}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"mod","original":{"line":35,"column":16},"generated":{"line":1,"column":616}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"value","original":{"line":36,"column":7},"generated":{"line":1,"column":619}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"value","original":{"line":36,"column":7},"generated":{"line":1,"column":624}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"out","original":{"line":36,"column":15},"generated":{"line":1,"column":630}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"source","original":{"line":36,"column":19},"generated":{"line":1,"column":632}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"list","original":{"line":36,"column":28},"generated":{"line":1,"column":639}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"data","original":{"line":36,"column":33},"generated":{"line":1,"column":641}},{"source":"node_modules/vega-transforms/src/Collect.js","original":{"line":36,"column":38},"generated":{"line":1,"column":647}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"sort","original":{"line":36,"column":52},"generated":{"line":1,"column":649}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"sort","original":{"line":36,"column":52},"generated":{"line":1,"column":651}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"sort","original":{"line":36,"column":52},"generated":{"line":1,"column":666}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"mod","original":{"line":36,"column":59},"generated":{"line":1,"column":669}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"pulse","original":{"line":39,"column":6},"generated":{"line":1,"column":672}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"source","original":{"line":39,"column":12},"generated":{"line":1,"column":674}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"pulse","original":{"line":39,"column":22},"generated":{"line":1,"column":682}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"source","original":{"line":39,"column":28},"generated":{"line":1,"column":684}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"root","original":{"line":39,"column":35},"generated":{"line":1,"column":691}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"value","original":{"line":40,"column":9},"generated":{"line":1,"column":698}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"value","original":{"line":40,"column":9},"generated":{"line":1,"column":703}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"root","original":{"line":40,"column":15},"generated":{"line":1,"column":709}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"pulse","original":{"line":40,"column":22},"generated":{"line":1,"column":714}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"source","original":{"line":40,"column":28},"generated":{"line":1,"column":716}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"root","original":{"line":40,"column":35},"generated":{"line":1,"column":723}},{"source":"node_modules/vega-transforms/src/Collect.js","name":"out","original":{"line":43,"column":9},"generated":{"line":1,"column":729}}],"sources":{"node_modules/vega-transforms/src/Collect.js":"import SortedList from './util/SortedList';\nimport {Transform, stableCompare, tupleid} from 'vega-dataflow';\nimport {inherits} from 'vega-util';\n\n/**\n * Collects all data tuples that pass through this operator.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(*,*): number} [params.sort] - An optional\n *   comparator function for additionally sorting the collected tuples.\n */\nexport default function Collect(params) {\n  Transform.call(this, [], params);\n}\n\nCollect.Definition = {\n  'type': 'Collect',\n  'metadata': {'source': true},\n  'params': [\n    { 'name': 'sort', 'type': 'compare' }\n  ]\n};\n\nvar prototype = inherits(Collect, Transform);\n\nprototype.transform = function(_, pulse) {\n  var out = pulse.fork(pulse.ALL),\n      list = SortedList(tupleid, this.value, out.materialize(out.ADD).add),\n      sort = _.sort,\n      mod = pulse.changed() || (sort &&\n            (_.modified('sort') || pulse.modified(sort.fields)));\n\n  out.visit(out.REM, list.remove);\n\n  this.modified(mod);\n  this.value = out.source = list.data(stableCompare(sort), mod);\n\n  // propagate tree root if defined\n  if (pulse.source && pulse.source.root) {\n    this.value.root = pulse.source.root;\n  }\n\n  return out;\n};\n"},"lineCount":null}},"error":null,"hash":"1be9b63136c5f0efd98681b0770e1f3d","cacheData":{"env":{}}}