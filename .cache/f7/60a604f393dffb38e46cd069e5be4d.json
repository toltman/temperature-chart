{"id":"iWti","dependencies":[{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591977532257},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-view-transforms/package.json","includedInParent":true,"mtime":1591969205220},{"name":"./constants","loc":{"line":1,"column":53},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-view-transforms/src/Bound.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-view-transforms/src/constants.js"},{"name":"vega-dataflow","loc":{"line":2,"column":24},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-view-transforms/src/Bound.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/index.js"},{"name":"vega-scenegraph","loc":{"line":3,"column":31},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-view-transforms/src/Bound.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-scenegraph/index.js"},{"name":"vega-util","loc":{"line":4,"column":23},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-view-transforms/src/Bound.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=o;var e=require(\"./constants\"),i=require(\"vega-dataflow\"),r=require(\"vega-scenegraph\"),n=require(\"vega-util\");function o(e){i.Transform.call(this,null,e)}var s=(0,n.inherits)(o,i.Transform);function t(e,i,r){return i(e.bounds.clear(),e,r)}s.transform=function(i,n){var o,s=n.dataflow,a=i.mark,u=a.marktype,l=r.Marks[u],d=l.bound,c=a.bounds;if(l.nested)a.items.length&&s.dirty(a.items[0]),c=t(a,d),a.items.forEach(function(e){e.bounds.clear().union(c)});else if(u===e.Group||i.modified())switch(n.visit(n.MOD,e=>s.dirty(e)),c.clear(),a.items.forEach(e=>c.union(t(e,d))),a.role){case e.AxisRole:case e.LegendRole:case e.TitleRole:n.reflow()}else o=n.changed(n.REM),n.visit(n.ADD,e=>{c.union(t(e,d))}),n.visit(n.MOD,e=>{o=o||c.alignsWith(e.bounds),s.dirty(e),c.union(t(e,d))}),o&&(c.clear(),a.items.forEach(e=>c.union(e.bounds)));return(0,r.boundClip)(a),n.modifies(\"bounds\")};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":79,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":79,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":79,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":79,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":79,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":79,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":79,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":79,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":79,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":79,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":79,"column":1},"generated":{"line":1,"column":84}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":2,"column":0},"generated":{"line":1,"column":115}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":3,"column":0},"generated":{"line":1,"column":142}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":3,"column":0},"generated":{"line":1,"column":144}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":4,"column":0},"generated":{"line":1,"column":171}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":4,"column":0},"generated":{"line":1,"column":173}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":4,"column":0},"generated":{"line":1,"column":181}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":12,"column":15},"generated":{"line":1,"column":194}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"Bound","original":{"line":12,"column":24},"generated":{"line":1,"column":203}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"params","original":{"line":12,"column":30},"generated":{"line":1,"column":205}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"call","original":{"line":13,"column":12},"generated":{"line":1,"column":208}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"call","original":{"line":13,"column":12},"generated":{"line":1,"column":210}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"call","original":{"line":13,"column":12},"generated":{"line":1,"column":220}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":13,"column":17},"generated":{"line":1,"column":225}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":13,"column":23},"generated":{"line":1,"column":230}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"params","original":{"line":13,"column":29},"generated":{"line":1,"column":235}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":16,"column":0},"generated":{"line":1,"column":238}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"prototype","original":{"line":16,"column":4},"generated":{"line":1,"column":242}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":16,"column":16},"generated":{"line":1,"column":245}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"Bound","original":{"line":16,"column":25},"generated":{"line":1,"column":247}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"Bound","original":{"line":16,"column":25},"generated":{"line":1,"column":249}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"Bound","original":{"line":16,"column":25},"generated":{"line":1,"column":259}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"Transform","original":{"line":16,"column":32},"generated":{"line":1,"column":261}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":16,"column":16},"generated":{"line":1,"column":263}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":77,"column":0},"generated":{"line":1,"column":274}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"boundItem","original":{"line":77,"column":9},"generated":{"line":1,"column":283}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":77,"column":19},"generated":{"line":1,"column":285}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bound","original":{"line":77,"column":25},"generated":{"line":1,"column":287}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"opt","original":{"line":77,"column":32},"generated":{"line":1,"column":289}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bound","original":{"line":78,"column":9},"generated":{"line":1,"column":292}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bound","original":{"line":78,"column":9},"generated":{"line":1,"column":299}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":78,"column":15},"generated":{"line":1,"column":301}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bounds","original":{"line":78,"column":20},"generated":{"line":1,"column":303}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"clear","original":{"line":78,"column":27},"generated":{"line":1,"column":310}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":78,"column":36},"generated":{"line":1,"column":318}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"opt","original":{"line":78,"column":42},"generated":{"line":1,"column":320}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"prototype","original":{"line":18,"column":0},"generated":{"line":1,"column":323}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"transform","original":{"line":18,"column":10},"generated":{"line":1,"column":325}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":18,"column":22},"generated":{"line":1,"column":335}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"_","original":{"line":18,"column":31},"generated":{"line":1,"column":344}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":18,"column":34},"generated":{"line":1,"column":346}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"view","original":{"line":19,"column":6},"generated":{"line":1,"column":349}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"rebound","original":{"line":24,"column":32},"generated":{"line":1,"column":353}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"view","original":{"line":19,"column":6},"generated":{"line":1,"column":355}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":19,"column":13},"generated":{"line":1,"column":357}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"dataflow","original":{"line":19,"column":19},"generated":{"line":1,"column":359}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":20,"column":6},"generated":{"line":1,"column":368}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"_","original":{"line":20,"column":13},"generated":{"line":1,"column":370}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":20,"column":15},"generated":{"line":1,"column":372}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"type","original":{"line":21,"column":6},"generated":{"line":1,"column":377}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":21,"column":13},"generated":{"line":1,"column":379}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"marktype","original":{"line":21,"column":18},"generated":{"line":1,"column":381}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"entry","original":{"line":22,"column":6},"generated":{"line":1,"column":390}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"Marks","original":{"line":22,"column":14},"generated":{"line":1,"column":392}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"type","original":{"line":22,"column":20},"generated":{"line":1,"column":394}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"type","original":{"line":22,"column":20},"generated":{"line":1,"column":400}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bound","original":{"line":23,"column":6},"generated":{"line":1,"column":403}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"entry","original":{"line":23,"column":14},"generated":{"line":1,"column":405}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bound","original":{"line":23,"column":20},"generated":{"line":1,"column":407}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"markBounds","original":{"line":24,"column":6},"generated":{"line":1,"column":413}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":24,"column":19},"generated":{"line":1,"column":415}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bounds","original":{"line":24,"column":24},"generated":{"line":1,"column":417}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"entry","original":{"line":26,"column":6},"generated":{"line":1,"column":424}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"entry","original":{"line":26,"column":6},"generated":{"line":1,"column":427}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"nested","original":{"line":26,"column":12},"generated":{"line":1,"column":429}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":28,"column":8},"generated":{"line":1,"column":436}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"items","original":{"line":28,"column":13},"generated":{"line":1,"column":438}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"length","original":{"line":28,"column":19},"generated":{"line":1,"column":444}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"view","original":{"line":28,"column":27},"generated":{"line":1,"column":452}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"dirty","original":{"line":28,"column":32},"generated":{"line":1,"column":454}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":28,"column":38},"generated":{"line":1,"column":460}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"items","original":{"line":28,"column":43},"generated":{"line":1,"column":462}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":28,"column":49},"generated":{"line":1,"column":468}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"markBounds","original":{"line":29,"column":4},"generated":{"line":1,"column":472}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"boundItem","original":{"line":29,"column":17},"generated":{"line":1,"column":474}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":29,"column":27},"generated":{"line":1,"column":476}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bound","original":{"line":29,"column":33},"generated":{"line":1,"column":478}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":30,"column":4},"generated":{"line":1,"column":481}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"items","original":{"line":30,"column":9},"generated":{"line":1,"column":483}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"forEach","original":{"line":30,"column":15},"generated":{"line":1,"column":489}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":30,"column":23},"generated":{"line":1,"column":497}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":30,"column":32},"generated":{"line":1,"column":506}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":31,"column":6},"generated":{"line":1,"column":509}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bounds","original":{"line":31,"column":11},"generated":{"line":1,"column":511}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"clear","original":{"line":31,"column":18},"generated":{"line":1,"column":518}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"union","original":{"line":31,"column":26},"generated":{"line":1,"column":526}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"markBounds","original":{"line":31,"column":32},"generated":{"line":1,"column":532}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":35,"column":7},"generated":{"line":1,"column":542}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"type","original":{"line":35,"column":11},"generated":{"line":1,"column":545}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"Group","original":{"line":35,"column":20},"generated":{"line":1,"column":549}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":35,"column":11},"generated":{"line":1,"column":551}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"_","original":{"line":35,"column":29},"generated":{"line":1,"column":558}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"modified","original":{"line":35,"column":31},"generated":{"line":1,"column":560}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":43,"column":12},"generated":{"line":1,"column":571}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":38,"column":4},"generated":{"line":1,"column":578}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"visit","original":{"line":38,"column":10},"generated":{"line":1,"column":580}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":38,"column":16},"generated":{"line":1,"column":586}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"MOD","original":{"line":38,"column":22},"generated":{"line":1,"column":588}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":38,"column":27},"generated":{"line":1,"column":592}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"view","original":{"line":38,"column":35},"generated":{"line":1,"column":595}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"dirty","original":{"line":38,"column":40},"generated":{"line":1,"column":597}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":38,"column":46},"generated":{"line":1,"column":603}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"markBounds","original":{"line":39,"column":4},"generated":{"line":1,"column":607}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"clear","original":{"line":39,"column":15},"generated":{"line":1,"column":609}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":40,"column":4},"generated":{"line":1,"column":617}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"items","original":{"line":40,"column":9},"generated":{"line":1,"column":619}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"forEach","original":{"line":40,"column":15},"generated":{"line":1,"column":625}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":40,"column":23},"generated":{"line":1,"column":633}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"markBounds","original":{"line":40,"column":31},"generated":{"line":1,"column":636}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"union","original":{"line":40,"column":42},"generated":{"line":1,"column":638}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"boundItem","original":{"line":40,"column":48},"generated":{"line":1,"column":644}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":40,"column":58},"generated":{"line":1,"column":646}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bound","original":{"line":40,"column":64},"generated":{"line":1,"column":648}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":43,"column":12},"generated":{"line":1,"column":653}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"role","original":{"line":43,"column":17},"generated":{"line":1,"column":655}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"AxisRole","original":{"line":44,"column":11},"generated":{"line":1,"column":661}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"AxisRole","original":{"line":44,"column":11},"generated":{"line":1,"column":666}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":44,"column":6},"generated":{"line":1,"column":668}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"LegendRole","original":{"line":45,"column":11},"generated":{"line":1,"column":677}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"LegendRole","original":{"line":45,"column":11},"generated":{"line":1,"column":682}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":45,"column":6},"generated":{"line":1,"column":684}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"TitleRole","original":{"line":46,"column":11},"generated":{"line":1,"column":695}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"TitleRole","original":{"line":46,"column":11},"generated":{"line":1,"column":700}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":46,"column":6},"generated":{"line":1,"column":702}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":47,"column":8},"generated":{"line":1,"column":712}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"reflow","original":{"line":47,"column":14},"generated":{"line":1,"column":714}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"rebound","original":{"line":53,"column":4},"generated":{"line":1,"column":728}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":53,"column":14},"generated":{"line":1,"column":730}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"changed","original":{"line":53,"column":20},"generated":{"line":1,"column":732}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":53,"column":28},"generated":{"line":1,"column":740}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"REM","original":{"line":53,"column":34},"generated":{"line":1,"column":742}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":55,"column":4},"generated":{"line":1,"column":747}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"visit","original":{"line":55,"column":10},"generated":{"line":1,"column":749}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":55,"column":16},"generated":{"line":1,"column":755}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"ADD","original":{"line":55,"column":22},"generated":{"line":1,"column":757}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":55,"column":27},"generated":{"line":1,"column":761}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"markBounds","original":{"line":56,"column":6},"generated":{"line":1,"column":765}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"union","original":{"line":56,"column":17},"generated":{"line":1,"column":767}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"boundItem","original":{"line":56,"column":23},"generated":{"line":1,"column":773}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":56,"column":33},"generated":{"line":1,"column":775}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bound","original":{"line":56,"column":39},"generated":{"line":1,"column":777}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":59,"column":4},"generated":{"line":1,"column":783}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"visit","original":{"line":59,"column":10},"generated":{"line":1,"column":785}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":59,"column":16},"generated":{"line":1,"column":791}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"MOD","original":{"line":59,"column":22},"generated":{"line":1,"column":793}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":59,"column":27},"generated":{"line":1,"column":797}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"rebound","original":{"line":60,"column":6},"generated":{"line":1,"column":801}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"rebound","original":{"line":60,"column":16},"generated":{"line":1,"column":803}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"markBounds","original":{"line":60,"column":27},"generated":{"line":1,"column":806}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"alignsWith","original":{"line":60,"column":38},"generated":{"line":1,"column":808}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":60,"column":49},"generated":{"line":1,"column":819}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bounds","original":{"line":60,"column":54},"generated":{"line":1,"column":821}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"view","original":{"line":61,"column":6},"generated":{"line":1,"column":829}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"dirty","original":{"line":61,"column":11},"generated":{"line":1,"column":831}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":61,"column":17},"generated":{"line":1,"column":837}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"markBounds","original":{"line":62,"column":6},"generated":{"line":1,"column":840}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"union","original":{"line":62,"column":17},"generated":{"line":1,"column":842}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"boundItem","original":{"line":62,"column":23},"generated":{"line":1,"column":848}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":62,"column":33},"generated":{"line":1,"column":850}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bound","original":{"line":62,"column":39},"generated":{"line":1,"column":852}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"rebound","original":{"line":65,"column":8},"generated":{"line":1,"column":858}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"markBounds","original":{"line":66,"column":6},"generated":{"line":1,"column":862}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"clear","original":{"line":66,"column":17},"generated":{"line":1,"column":864}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":67,"column":6},"generated":{"line":1,"column":872}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"items","original":{"line":67,"column":11},"generated":{"line":1,"column":874}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"forEach","original":{"line":67,"column":17},"generated":{"line":1,"column":880}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":67,"column":25},"generated":{"line":1,"column":888}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"markBounds","original":{"line":67,"column":33},"generated":{"line":1,"column":891}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"union","original":{"line":67,"column":44},"generated":{"line":1,"column":893}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"item","original":{"line":67,"column":50},"generated":{"line":1,"column":899}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"bounds","original":{"line":67,"column":55},"generated":{"line":1,"column":901}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":74,"column":9},"generated":{"line":1,"column":911}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":72,"column":12},"generated":{"line":1,"column":918}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":72,"column":12},"generated":{"line":1,"column":920}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":72,"column":12},"generated":{"line":1,"column":922}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"mark","original":{"line":72,"column":12},"generated":{"line":1,"column":933}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"pulse","original":{"line":74,"column":9},"generated":{"line":1,"column":936}},{"source":"node_modules/vega-view-transforms/src/Bound.js","name":"modifies","original":{"line":74,"column":15},"generated":{"line":1,"column":938}},{"source":"node_modules/vega-view-transforms/src/Bound.js","original":{"line":74,"column":24},"generated":{"line":1,"column":947}}],"sources":{"node_modules/vega-view-transforms/src/Bound.js":"import {AxisRole, Group, LegendRole, TitleRole} from './constants';\nimport {Transform} from 'vega-dataflow';\nimport {Marks, boundClip} from 'vega-scenegraph';\nimport {inherits} from 'vega-util';\n\n/**\n * Calculate bounding boxes for scenegraph items.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {object} params.mark - The scenegraph mark instance to bound.\n */\nexport default function Bound(params) {\n  Transform.call(this, null, params);\n}\n\nvar prototype = inherits(Bound, Transform);\n\nprototype.transform = function(_, pulse) {\n  var view = pulse.dataflow,\n      mark = _.mark,\n      type = mark.marktype,\n      entry = Marks[type],\n      bound = entry.bound,\n      markBounds = mark.bounds, rebound;\n\n  if (entry.nested) {\n    // multi-item marks have a single bounds instance\n    if (mark.items.length) view.dirty(mark.items[0]);\n    markBounds = boundItem(mark, bound);\n    mark.items.forEach(function(item) {\n      item.bounds.clear().union(markBounds);\n    });\n  }\n\n  else if (type === Group || _.modified()) {\n    // operator parameters modified -> re-bound all items\n    // updates group bounds in response to modified group content\n    pulse.visit(pulse.MOD, item => view.dirty(item));\n    markBounds.clear();\n    mark.items.forEach(item => markBounds.union(boundItem(item, bound)));\n\n    // force reflow for axes/legends/titles to propagate any layout changes\n    switch (mark.role) {\n      case AxisRole:\n      case LegendRole:\n      case TitleRole:\n        pulse.reflow();\n    }\n  }\n\n  else {\n    // incrementally update bounds, re-bound mark as needed\n    rebound = pulse.changed(pulse.REM);\n\n    pulse.visit(pulse.ADD, item => {\n      markBounds.union(boundItem(item, bound));\n    });\n\n    pulse.visit(pulse.MOD, item => {\n      rebound = rebound || markBounds.alignsWith(item.bounds);\n      view.dirty(item);\n      markBounds.union(boundItem(item, bound));\n    });\n\n    if (rebound) {\n      markBounds.clear();\n      mark.items.forEach(item => markBounds.union(item.bounds));\n    }\n  }\n\n  // ensure mark bounds do not exceed any clipping region\n  boundClip(mark);\n\n  return pulse.modifies('bounds');\n};\n\nfunction boundItem(item, bound, opt) {\n  return bound(item.bounds.clear(), item, opt);\n}\n"},"lineCount":null}},"error":null,"hash":"5d50b094387c59a39c1a95513fb93022","cacheData":{"env":{}}}