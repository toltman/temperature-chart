{"id":"TV7E","dependencies":[{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591977532257},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/package.json","includedInParent":true,"mtime":1591969205136},{"name":"../Operator","loc":{"line":1,"column":21},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/src/dataflow/on.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/src/Operator.js"},{"name":"../ChangeSet","loc":{"line":2,"column":26},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/src/dataflow/on.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/src/ChangeSet.js"},{"name":"vega-util","loc":{"line":3,"column":43},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/src/dataflow/on.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=i;var e=u(require(\"../Operator\")),t=require(\"../ChangeSet\"),n=require(\"vega-util\");function u(e){return e&&e.__esModule?e:{default:e}}var a={skip:!0};function i(t,n,u,a,i){return(t instanceof e.default?s:r)(this,t,n,u,a,i),this}function r(u,i,r,s,o,l){var c,d,f=(0,n.extend)({},l,a);(0,n.isFunction)(r)||(r=(0,n.constant)(r)),void 0===s?c=(e=>u.touch(r(e))):(0,n.isFunction)(s)?(d=new e.default(null,s,o,!1),c=(e=>{d.evaluate(e);const n=r(e),a=d.value;(0,t.isChangeSet)(a)?u.pulse(n,a,l):u.update(n,a,f)})):c=(e=>u.update(r(e),s,f)),i.apply(c)}function s(t,n,u,a,i,r){if(void 0===a)n.targets().add(u);else{const s=r||{},l=new e.default(null,o(u,a),i,!1);l.modified(s.force),l.rank=n.rank,n.targets().add(l),u&&(l.skip(!0),l.value=u.value,l.targets().add(u),t.connect(u,[l]))}}function o(e,t){return t=(0,n.isFunction)(t)?t:(0,n.constant)(t),e?function(n,u){const a=t(n,u);return e.skip()||(e.skip(a!==this.value).value=a),a}:t}"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":84}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":2,"column":0},"generated":{"line":1,"column":118}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":2,"column":0},"generated":{"line":1,"column":120}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":3,"column":0},"generated":{"line":1,"column":144}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":3,"column":0},"generated":{"line":1,"column":146}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":3,"column":0},"generated":{"line":1,"column":154}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":167}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":176}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":178}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":181}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":188}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":191}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":193}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":204}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":206}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":207}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":90,"column":1},"generated":{"line":1,"column":215}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":5,"column":0},"generated":{"line":1,"column":218}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"SKIP","original":{"line":5,"column":4},"generated":{"line":1,"column":222}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":5,"column":11},"generated":{"line":1,"column":224}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"skip","original":{"line":5,"column":12},"generated":{"line":1,"column":225}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":5,"column":18},"generated":{"line":1,"column":231}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":33,"column":15},"generated":{"line":1,"column":234}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"source","original":{"line":33,"column":24},"generated":{"line":1,"column":243}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"source","original":{"line":33,"column":24},"generated":{"line":1,"column":245}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":33,"column":32},"generated":{"line":1,"column":247}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":33,"column":40},"generated":{"line":1,"column":249}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"params","original":{"line":33,"column":48},"generated":{"line":1,"column":251}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"options","original":{"line":33,"column":56},"generated":{"line":1,"column":253}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":36,"column":9},"generated":{"line":1,"column":256}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"source","original":{"line":34,"column":11},"generated":{"line":1,"column":263}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"Operator","original":{"line":34,"column":29},"generated":{"line":1,"column":276}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":34,"column":11},"generated":{"line":1,"column":278}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"onOperator","original":{"line":34,"column":40},"generated":{"line":1,"column":286}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"onStream","original":{"line":34,"column":53},"generated":{"line":1,"column":288}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":35,"column":5},"generated":{"line":1,"column":291}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"source","original":{"line":35,"column":11},"generated":{"line":1,"column":296}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":35,"column":19},"generated":{"line":1,"column":298}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":35,"column":27},"generated":{"line":1,"column":300}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"params","original":{"line":35,"column":35},"generated":{"line":1,"column":302}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"options","original":{"line":35,"column":43},"generated":{"line":1,"column":304}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":36,"column":9},"generated":{"line":1,"column":307}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":39,"column":0},"generated":{"line":1,"column":312}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"onStream","original":{"line":39,"column":9},"generated":{"line":1,"column":321}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"df","original":{"line":39,"column":18},"generated":{"line":1,"column":323}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"stream","original":{"line":39,"column":22},"generated":{"line":1,"column":325}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":39,"column":30},"generated":{"line":1,"column":327}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":39,"column":38},"generated":{"line":1,"column":329}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"params","original":{"line":39,"column":46},"generated":{"line":1,"column":331}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"options","original":{"line":39,"column":54},"generated":{"line":1,"column":333}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"opt","original":{"line":40,"column":6},"generated":{"line":1,"column":336}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"func","original":{"line":40,"column":39},"generated":{"line":1,"column":340}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":40,"column":45},"generated":{"line":1,"column":342}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"opt","original":{"line":40,"column":6},"generated":{"line":1,"column":344}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":40,"column":12},"generated":{"line":1,"column":347}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":40,"column":19},"generated":{"line":1,"column":349}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":40,"column":19},"generated":{"line":1,"column":351}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":40,"column":19},"generated":{"line":1,"column":359}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"options","original":{"line":40,"column":23},"generated":{"line":1,"column":362}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"SKIP","original":{"line":40,"column":32},"generated":{"line":1,"column":364}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":42,"column":7},"generated":{"line":1,"column":368}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":42,"column":18},"generated":{"line":1,"column":370}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":42,"column":18},"generated":{"line":1,"column":372}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":42,"column":18},"generated":{"line":1,"column":384}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":42,"column":27},"generated":{"line":1,"column":389}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":42,"column":36},"generated":{"line":1,"column":392}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":42,"column":45},"generated":{"line":1,"column":394}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":42,"column":45},"generated":{"line":1,"column":396}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":42,"column":45},"generated":{"line":1,"column":406}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"undefined","original":{"line":44,"column":17},"generated":{"line":1,"column":415}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":44,"column":6},"generated":{"line":1,"column":419}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"func","original":{"line":45,"column":4},"generated":{"line":1,"column":421}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"e","original":{"line":45,"column":11},"generated":{"line":1,"column":423}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"e","original":{"line":45,"column":11},"generated":{"line":1,"column":424}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"df","original":{"line":45,"column":16},"generated":{"line":1,"column":427}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"touch","original":{"line":45,"column":19},"generated":{"line":1,"column":429}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":45,"column":25},"generated":{"line":1,"column":435}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"e","original":{"line":45,"column":32},"generated":{"line":1,"column":437}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":46,"column":13},"generated":{"line":1,"column":443}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":46,"column":24},"generated":{"line":1,"column":445}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":46,"column":24},"generated":{"line":1,"column":447}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":46,"column":24},"generated":{"line":1,"column":459}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":47,"column":4},"generated":{"line":1,"column":463}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":47,"column":9},"generated":{"line":1,"column":465}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"Operator","original":{"line":47,"column":13},"generated":{"line":1,"column":469}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":47,"column":9},"generated":{"line":1,"column":471}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":47,"column":22},"generated":{"line":1,"column":479}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":47,"column":28},"generated":{"line":1,"column":484}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"params","original":{"line":47,"column":36},"generated":{"line":1,"column":486}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":47,"column":44},"generated":{"line":1,"column":489}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"func","original":{"line":48,"column":4},"generated":{"line":1,"column":492}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"e","original":{"line":48,"column":11},"generated":{"line":1,"column":494}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"e","original":{"line":48,"column":11},"generated":{"line":1,"column":495}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":49,"column":6},"generated":{"line":1,"column":499}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"evaluate","original":{"line":49,"column":9},"generated":{"line":1,"column":501}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"e","original":{"line":49,"column":18},"generated":{"line":1,"column":510}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"t","original":{"line":50,"column":12},"generated":{"line":1,"column":513}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"t","original":{"line":50,"column":12},"generated":{"line":1,"column":519}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":50,"column":16},"generated":{"line":1,"column":521}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"e","original":{"line":50,"column":23},"generated":{"line":1,"column":523}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"v","original":{"line":50,"column":27},"generated":{"line":1,"column":526}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":50,"column":31},"generated":{"line":1,"column":528}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"value","original":{"line":50,"column":34},"generated":{"line":1,"column":530}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"v","original":{"line":51,"column":18},"generated":{"line":1,"column":537}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"v","original":{"line":51,"column":18},"generated":{"line":1,"column":539}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"v","original":{"line":51,"column":18},"generated":{"line":1,"column":541}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"v","original":{"line":51,"column":18},"generated":{"line":1,"column":554}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"df","original":{"line":51,"column":23},"generated":{"line":1,"column":557}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"pulse","original":{"line":51,"column":26},"generated":{"line":1,"column":559}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"t","original":{"line":51,"column":32},"generated":{"line":1,"column":565}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"v","original":{"line":51,"column":35},"generated":{"line":1,"column":567}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"options","original":{"line":51,"column":38},"generated":{"line":1,"column":569}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"df","original":{"line":51,"column":49},"generated":{"line":1,"column":572}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":51,"column":52},"generated":{"line":1,"column":574}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"t","original":{"line":51,"column":59},"generated":{"line":1,"column":581}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"v","original":{"line":51,"column":62},"generated":{"line":1,"column":583}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"opt","original":{"line":51,"column":65},"generated":{"line":1,"column":585}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"func","original":{"line":54,"column":4},"generated":{"line":1,"column":591}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"e","original":{"line":54,"column":11},"generated":{"line":1,"column":593}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"e","original":{"line":54,"column":11},"generated":{"line":1,"column":594}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"df","original":{"line":54,"column":16},"generated":{"line":1,"column":597}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":54,"column":19},"generated":{"line":1,"column":599}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":54,"column":26},"generated":{"line":1,"column":606}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"e","original":{"line":54,"column":33},"generated":{"line":1,"column":608}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":54,"column":37},"generated":{"line":1,"column":611}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"opt","original":{"line":54,"column":45},"generated":{"line":1,"column":613}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"stream","original":{"line":57,"column":2},"generated":{"line":1,"column":617}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"apply","original":{"line":57,"column":9},"generated":{"line":1,"column":619}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"func","original":{"line":57,"column":15},"generated":{"line":1,"column":625}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":60,"column":0},"generated":{"line":1,"column":628}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"onOperator","original":{"line":60,"column":9},"generated":{"line":1,"column":637}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"df","original":{"line":60,"column":20},"generated":{"line":1,"column":639}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"source","original":{"line":60,"column":24},"generated":{"line":1,"column":641}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":60,"column":32},"generated":{"line":1,"column":643}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":60,"column":40},"generated":{"line":1,"column":645}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"params","original":{"line":60,"column":48},"generated":{"line":1,"column":647}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"options","original":{"line":60,"column":56},"generated":{"line":1,"column":649}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":61,"column":6},"generated":{"line":1,"column":652}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"undefined","original":{"line":61,"column":17},"generated":{"line":1,"column":660}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":61,"column":6},"generated":{"line":1,"column":664}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"source","original":{"line":62,"column":4},"generated":{"line":1,"column":666}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"targets","original":{"line":62,"column":11},"generated":{"line":1,"column":668}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"add","original":{"line":62,"column":21},"generated":{"line":1,"column":678}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":62,"column":25},"generated":{"line":1,"column":682}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":63,"column":9},"generated":{"line":1,"column":689}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"opt","original":{"line":64,"column":10},"generated":{"line":1,"column":690}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"opt","original":{"line":64,"column":10},"generated":{"line":1,"column":696}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"options","original":{"line":64,"column":16},"generated":{"line":1,"column":698}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":64,"column":27},"generated":{"line":1,"column":701}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":65,"column":10},"generated":{"line":1,"column":704}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":65,"column":15},"generated":{"line":1,"column":706}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"Operator","original":{"line":65,"column":19},"generated":{"line":1,"column":710}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":65,"column":15},"generated":{"line":1,"column":712}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":65,"column":28},"generated":{"line":1,"column":720}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"updater","original":{"line":65,"column":34},"generated":{"line":1,"column":725}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":65,"column":42},"generated":{"line":1,"column":727}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":65,"column":50},"generated":{"line":1,"column":729}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"params","original":{"line":65,"column":59},"generated":{"line":1,"column":732}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":65,"column":67},"generated":{"line":1,"column":735}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":66,"column":4},"generated":{"line":1,"column":738}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"modified","original":{"line":66,"column":7},"generated":{"line":1,"column":740}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"opt","original":{"line":66,"column":16},"generated":{"line":1,"column":749}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"force","original":{"line":66,"column":20},"generated":{"line":1,"column":751}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":67,"column":4},"generated":{"line":1,"column":758}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"rank","original":{"line":67,"column":7},"generated":{"line":1,"column":760}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"source","original":{"line":67,"column":14},"generated":{"line":1,"column":765}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"rank","original":{"line":67,"column":21},"generated":{"line":1,"column":767}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"source","original":{"line":68,"column":4},"generated":{"line":1,"column":772}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"targets","original":{"line":68,"column":11},"generated":{"line":1,"column":774}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"add","original":{"line":68,"column":21},"generated":{"line":1,"column":784}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":68,"column":25},"generated":{"line":1,"column":788}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":70,"column":8},"generated":{"line":1,"column":791}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":71,"column":6},"generated":{"line":1,"column":795}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"skip","original":{"line":71,"column":9},"generated":{"line":1,"column":797}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":71,"column":14},"generated":{"line":1,"column":803}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":72,"column":6},"generated":{"line":1,"column":806}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"value","original":{"line":72,"column":9},"generated":{"line":1,"column":808}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":72,"column":17},"generated":{"line":1,"column":814}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"value","original":{"line":72,"column":24},"generated":{"line":1,"column":816}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":73,"column":6},"generated":{"line":1,"column":822}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"targets","original":{"line":73,"column":9},"generated":{"line":1,"column":824}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"add","original":{"line":73,"column":19},"generated":{"line":1,"column":834}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":73,"column":23},"generated":{"line":1,"column":838}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"df","original":{"line":74,"column":6},"generated":{"line":1,"column":841}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"connect","original":{"line":74,"column":9},"generated":{"line":1,"column":843}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":74,"column":17},"generated":{"line":1,"column":851}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":74,"column":25},"generated":{"line":1,"column":853}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"op","original":{"line":74,"column":26},"generated":{"line":1,"column":854}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":79,"column":0},"generated":{"line":1,"column":860}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"updater","original":{"line":79,"column":9},"generated":{"line":1,"column":869}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":79,"column":17},"generated":{"line":1,"column":871}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":79,"column":25},"generated":{"line":1,"column":873}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":81,"column":9},"generated":{"line":1,"column":876}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":80,"column":2},"generated":{"line":1,"column":883}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":80,"column":11},"generated":{"line":1,"column":886}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":80,"column":22},"generated":{"line":1,"column":888}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":80,"column":22},"generated":{"line":1,"column":890}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":80,"column":22},"generated":{"line":1,"column":902}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":80,"column":32},"generated":{"line":1,"column":905}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":80,"column":41},"generated":{"line":1,"column":908}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":80,"column":50},"generated":{"line":1,"column":910}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":80,"column":50},"generated":{"line":1,"column":912}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":80,"column":50},"generated":{"line":1,"column":922}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":81,"column":9},"generated":{"line":1,"column":925}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":82,"column":6},"generated":{"line":1,"column":927}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"_","original":{"line":82,"column":15},"generated":{"line":1,"column":936}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"pulse","original":{"line":82,"column":18},"generated":{"line":1,"column":938}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"value","original":{"line":83,"column":14},"generated":{"line":1,"column":941}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"value","original":{"line":83,"column":14},"generated":{"line":1,"column":947}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":83,"column":22},"generated":{"line":1,"column":949}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"_","original":{"line":83,"column":29},"generated":{"line":1,"column":951}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"pulse","original":{"line":83,"column":32},"generated":{"line":1,"column":953}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"value","original":{"line":87,"column":15},"generated":{"line":1,"column":956}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":84,"column":13},"generated":{"line":1,"column":963}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"skip","original":{"line":84,"column":20},"generated":{"line":1,"column":965}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"target","original":{"line":85,"column":10},"generated":{"line":1,"column":974}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"skip","original":{"line":85,"column":17},"generated":{"line":1,"column":976}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"value","original":{"line":85,"column":22},"generated":{"line":1,"column":981}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","original":{"line":85,"column":32},"generated":{"line":1,"column":985}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"value","original":{"line":85,"column":37},"generated":{"line":1,"column":990}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"value","original":{"line":85,"column":44},"generated":{"line":1,"column":997}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"value","original":{"line":85,"column":52},"generated":{"line":1,"column":1003}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"value","original":{"line":87,"column":15},"generated":{"line":1,"column":1006}},{"source":"node_modules/vega-dataflow/src/dataflow/on.js","name":"update","original":{"line":89,"column":6},"generated":{"line":1,"column":1009}}],"sources":{"node_modules/vega-dataflow/src/dataflow/on.js":"import Operator from '../Operator';\nimport {isChangeSet} from '../ChangeSet';\nimport {constant, extend, isFunction} from 'vega-util';\n\nvar SKIP = {skip: true};\n\n/**\n * Perform operator updates in response to events. Applies an\n * update function to compute a new operator value. If the update function\n * returns a {@link ChangeSet}, the operator will be pulsed with those tuple\n * changes. Otherwise, the operator value will be updated to the return value.\n * @param {EventStream|Operator} source - The event source to react to.\n *   This argument can be either an EventStream or an Operator.\n * @param {Operator|function(object):Operator} target - The operator to update.\n *   This argument can either be an Operator instance or (if the source\n *   argument is an EventStream), a function that accepts an event object as\n *   input and returns an Operator to target.\n * @param {function(Parameters,Event): *} [update] - Optional update function\n *   to compute the new operator value, or a literal value to set. Update\n *   functions expect to receive a parameter object and event as arguments.\n *   This function can either return a new operator value or (if the source\n *   argument is an EventStream) a {@link ChangeSet} instance to pulse\n *   the target operator with tuple changes.\n * @param {object} [params] - The update function parameters.\n * @param {object} [options] - Additional options hash. If not overridden,\n *   updated operators will be skipped by default.\n * @param {boolean} [options.skip] - If true, the operator will\n *  be skipped: it will not be evaluated, but its dependents will be.\n * @param {boolean} [options.force] - If true, the operator will\n *   be re-evaluated even if its value has not changed.\n * @return {Dataflow}\n */\nexport default function(source, target, update, params, options) {\n  var fn = source instanceof Operator ? onOperator : onStream;\n  fn(this, source, target, update, params, options);\n  return this;\n}\n\nfunction onStream(df, stream, target, update, params, options) {\n  var opt = extend({}, options, SKIP), func, op;\n\n  if (!isFunction(target)) target = constant(target);\n\n  if (update === undefined) {\n    func = e => df.touch(target(e));\n  } else if (isFunction(update)) {\n    op = new Operator(null, update, params, false);\n    func = e => {\n      op.evaluate(e);\n      const t = target(e), v = op.value;\n      isChangeSet(v) ? df.pulse(t, v, options) : df.update(t, v, opt);\n    };\n  } else {\n    func = e => df.update(target(e), update, opt);\n  }\n\n  stream.apply(func);\n}\n\nfunction onOperator(df, source, target, update, params, options) {\n  if (update === undefined) {\n    source.targets().add(target);\n  } else {\n    const opt = options || {},\n          op = new Operator(null, updater(target, update), params, false);\n    op.modified(opt.force);\n    op.rank = source.rank;       // immediately follow source\n    source.targets().add(op);    // add dependency\n\n    if (target) {\n      op.skip(true);             // skip first invocation\n      op.value = target.value;   // initialize value\n      op.targets().add(target);  // chain dependencies\n      df.connect(target, [op]);  // rerank as needed, #1672\n    }\n  }\n}\n\nfunction updater(target, update) {\n  update = isFunction(update) ? update : constant(update);\n  return target\n    ? function(_, pulse) {\n        const value = update(_, pulse);\n        if (!target.skip()) {\n          target.skip(value !== this.value).value = value;\n        }\n        return value;\n      }\n    : update;\n}\n"},"lineCount":null}},"error":null,"hash":"c62edff26622c43dda460f6d407ea158","cacheData":{"env":{}}}