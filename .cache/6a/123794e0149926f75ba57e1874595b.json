{"id":"ARiw","dependencies":[{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591974399859},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-statistics/package.json","includedInParent":true,"mtime":1591969205136},{"name":"./ols","loc":{"line":1,"column":16},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-statistics/src/regression/exp.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-statistics/src/regression/ols.js"},{"name":"./points","loc":{"line":2,"column":34},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-statistics/src/regression/exp.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-statistics/src/regression/points.js"},{"name":"./r-squared","loc":{"line":3,"column":21},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-statistics/src/regression/exp.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-statistics/src/regression/r-squared.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=o;var e=u(require(\"./ols\")),t=require(\"./points\"),r=u(require(\"./r-squared\"));function u(e){return e&&e.__esModule?e:{default:e}}function o(u,o,s){const[i,n,a,d]=(0,t.points)(u,o,s);let l,c,f,p=0,q=0,M=0,x=0,_=0;(0,t.visitPoints)(u,o,s,(e,t)=>{l=i[_++],c=Math.log(t),p+=(t*c-p)/_,q+=((f=l*t)-q)/_,M+=(f*c-M)/_,x+=(l*f-x)/_});const[h,v]=(0,e.default)(q/d,p/d,M/d,x/d),P=e=>Math.exp(h+v*(e-a));return{coef:[Math.exp(h-v*a),v],predict:P,rSquared:(0,r.default)(u,o,s,d,P)}}"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":84}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":1,"column":0},"generated":{"line":1,"column":94}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":2,"column":0},"generated":{"line":1,"column":112}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":2,"column":0},"generated":{"line":1,"column":114}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":2,"column":0},"generated":{"line":1,"column":122}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":3,"column":0},"generated":{"line":1,"column":134}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":3,"column":0},"generated":{"line":1,"column":136}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":3,"column":0},"generated":{"line":1,"column":138}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":3,"column":0},"generated":{"line":1,"column":146}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":162}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":171}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":173}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":176}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":183}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":186}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":188}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":199}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":201}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":202}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":29,"column":1},"generated":{"line":1,"column":210}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":5,"column":15},"generated":{"line":1,"column":213}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":5,"column":24},"generated":{"line":1,"column":222}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":5,"column":24},"generated":{"line":1,"column":224}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"x","original":{"line":5,"column":30},"generated":{"line":1,"column":226}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"y","original":{"line":5,"column":33},"generated":{"line":1,"column":228}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":7,"column":8},"generated":{"line":1,"column":231}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"xv","original":{"line":7,"column":9},"generated":{"line":1,"column":237}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"yv","original":{"line":7,"column":13},"generated":{"line":1,"column":239}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"ux","original":{"line":7,"column":17},"generated":{"line":1,"column":241}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"uy","original":{"line":7,"column":21},"generated":{"line":1,"column":243}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":7,"column":27},"generated":{"line":1,"column":247}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":7,"column":34},"generated":{"line":1,"column":249}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":7,"column":34},"generated":{"line":1,"column":251}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":7,"column":34},"generated":{"line":1,"column":259}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"x","original":{"line":7,"column":40},"generated":{"line":1,"column":261}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"y","original":{"line":7,"column":43},"generated":{"line":1,"column":263}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"YL","original":{"line":8,"column":6},"generated":{"line":1,"column":266}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"dx","original":{"line":8,"column":47},"generated":{"line":1,"column":270}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"ly","original":{"line":8,"column":51},"generated":{"line":1,"column":272}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"xy","original":{"line":8,"column":55},"generated":{"line":1,"column":274}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"YL","original":{"line":8,"column":6},"generated":{"line":1,"column":276}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":8,"column":11},"generated":{"line":1,"column":278}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"XY","original":{"line":8,"column":14},"generated":{"line":1,"column":280}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":8,"column":19},"generated":{"line":1,"column":282}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"XYL","original":{"line":8,"column":22},"generated":{"line":1,"column":284}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":8,"column":28},"generated":{"line":1,"column":286}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"X2Y","original":{"line":8,"column":31},"generated":{"line":1,"column":288}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":8,"column":37},"generated":{"line":1,"column":290}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"n","original":{"line":8,"column":40},"generated":{"line":1,"column":292}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":8,"column":44},"generated":{"line":1,"column":294}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":10,"column":14},"generated":{"line":1,"column":297}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":10,"column":14},"generated":{"line":1,"column":299}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":10,"column":14},"generated":{"line":1,"column":301}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":10,"column":14},"generated":{"line":1,"column":314}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"x","original":{"line":10,"column":20},"generated":{"line":1,"column":316}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"y","original":{"line":10,"column":23},"generated":{"line":1,"column":318}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":10,"column":26},"generated":{"line":1,"column":320}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"_","original":{"line":10,"column":27},"generated":{"line":1,"column":321}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"dy","original":{"line":10,"column":30},"generated":{"line":1,"column":323}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"dx","original":{"line":11,"column":4},"generated":{"line":1,"column":328}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"xv","original":{"line":11,"column":9},"generated":{"line":1,"column":330}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"n","original":{"line":11,"column":12},"generated":{"line":1,"column":332}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"ly","original":{"line":12,"column":4},"generated":{"line":1,"column":337}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"Math","original":{"line":12,"column":9},"generated":{"line":1,"column":339}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"log","original":{"line":12,"column":14},"generated":{"line":1,"column":344}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"dy","original":{"line":12,"column":18},"generated":{"line":1,"column":348}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"YL","original":{"line":15,"column":4},"generated":{"line":1,"column":351}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"dy","original":{"line":15,"column":11},"generated":{"line":1,"column":355}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"ly","original":{"line":15,"column":16},"generated":{"line":1,"column":357}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"YL","original":{"line":15,"column":21},"generated":{"line":1,"column":359}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"n","original":{"line":15,"column":27},"generated":{"line":1,"column":362}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"XY","original":{"line":16,"column":4},"generated":{"line":1,"column":364}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"xy","original":{"line":13,"column":4},"generated":{"line":1,"column":369}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"dx","original":{"line":13,"column":9},"generated":{"line":1,"column":371}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"dy","original":{"line":13,"column":14},"generated":{"line":1,"column":373}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"XY","original":{"line":16,"column":16},"generated":{"line":1,"column":376}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"n","original":{"line":16,"column":22},"generated":{"line":1,"column":379}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"XYL","original":{"line":17,"column":4},"generated":{"line":1,"column":381}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"xy","original":{"line":17,"column":12},"generated":{"line":1,"column":385}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"ly","original":{"line":17,"column":17},"generated":{"line":1,"column":387}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"XYL","original":{"line":17,"column":22},"generated":{"line":1,"column":389}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"n","original":{"line":17,"column":29},"generated":{"line":1,"column":392}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"X2Y","original":{"line":18,"column":4},"generated":{"line":1,"column":394}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"dx","original":{"line":18,"column":12},"generated":{"line":1,"column":398}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"xy","original":{"line":18,"column":17},"generated":{"line":1,"column":400}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"X2Y","original":{"line":18,"column":22},"generated":{"line":1,"column":402}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"n","original":{"line":18,"column":29},"generated":{"line":1,"column":405}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":21,"column":8},"generated":{"line":1,"column":409}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"c0","original":{"line":21,"column":9},"generated":{"line":1,"column":415}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"c1","original":{"line":21,"column":13},"generated":{"line":1,"column":417}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":21,"column":19},"generated":{"line":1,"column":421}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"XY","original":{"line":21,"column":23},"generated":{"line":1,"column":423}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"XY","original":{"line":21,"column":23},"generated":{"line":1,"column":425}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"XY","original":{"line":21,"column":23},"generated":{"line":1,"column":434}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"uy","original":{"line":21,"column":28},"generated":{"line":1,"column":436}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"YL","original":{"line":21,"column":32},"generated":{"line":1,"column":438}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"uy","original":{"line":21,"column":37},"generated":{"line":1,"column":440}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"XYL","original":{"line":21,"column":41},"generated":{"line":1,"column":442}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"uy","original":{"line":21,"column":47},"generated":{"line":1,"column":444}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"X2Y","original":{"line":21,"column":51},"generated":{"line":1,"column":446}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"uy","original":{"line":21,"column":57},"generated":{"line":1,"column":448}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"predict","original":{"line":22,"column":8},"generated":{"line":1,"column":451}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"x","original":{"line":22,"column":18},"generated":{"line":1,"column":453}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"Math","original":{"line":22,"column":23},"generated":{"line":1,"column":456}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"exp","original":{"line":22,"column":28},"generated":{"line":1,"column":461}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"c0","original":{"line":22,"column":32},"generated":{"line":1,"column":465}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"c1","original":{"line":22,"column":37},"generated":{"line":1,"column":467}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"x","original":{"line":22,"column":43},"generated":{"line":1,"column":470}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"ux","original":{"line":22,"column":47},"generated":{"line":1,"column":472}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":24,"column":9},"generated":{"line":1,"column":476}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":24,"column":9},"generated":{"line":1,"column":482}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"coef","original":{"line":25,"column":4},"generated":{"line":1,"column":483}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":25,"column":10},"generated":{"line":1,"column":488}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"Math","original":{"line":25,"column":11},"generated":{"line":1,"column":489}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"exp","original":{"line":25,"column":16},"generated":{"line":1,"column":494}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"c0","original":{"line":25,"column":20},"generated":{"line":1,"column":498}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"c1","original":{"line":25,"column":25},"generated":{"line":1,"column":500}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"ux","original":{"line":25,"column":30},"generated":{"line":1,"column":502}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"c1","original":{"line":25,"column":35},"generated":{"line":1,"column":505}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"predict","original":{"line":26,"column":4},"generated":{"line":1,"column":508}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"predict","original":{"line":26,"column":13},"generated":{"line":1,"column":516}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"rSquared","original":{"line":27,"column":4},"generated":{"line":1,"column":518}},{"source":"node_modules/vega-statistics/src/regression/exp.js","original":{"line":27,"column":14},"generated":{"line":1,"column":528}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":27,"column":23},"generated":{"line":1,"column":530}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":27,"column":23},"generated":{"line":1,"column":532}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"data","original":{"line":27,"column":23},"generated":{"line":1,"column":541}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"x","original":{"line":27,"column":29},"generated":{"line":1,"column":543}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"y","original":{"line":27,"column":32},"generated":{"line":1,"column":545}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"uy","original":{"line":27,"column":35},"generated":{"line":1,"column":547}},{"source":"node_modules/vega-statistics/src/regression/exp.js","name":"predict","original":{"line":27,"column":39},"generated":{"line":1,"column":549}}],"sources":{"node_modules/vega-statistics/src/regression/exp.js":"import ols from './ols';\nimport {points, visitPoints} from './points';\nimport rSquared from './r-squared';\n\nexport default function(data, x, y) {\n  // eslint-disable-next-line no-unused-vars\n  const [xv, yv, ux, uy] = points(data, x, y);\n  let YL = 0, XY = 0, XYL = 0, X2Y = 0, n = 0, dx, ly, xy;\n\n  visitPoints(data, x, y, (_, dy) => {\n    dx = xv[n++];\n    ly = Math.log(dy);\n    xy = dx * dy;\n\n    YL += (dy * ly - YL) / n;\n    XY += (xy - XY) / n;\n    XYL += (xy * ly - XYL) / n;\n    X2Y += (dx * xy - X2Y) / n;\n  });\n\n  const [c0, c1] = ols(XY / uy, YL / uy, XYL / uy, X2Y / uy),\n        predict = x => Math.exp(c0 + c1 * (x - ux));\n\n  return {\n    coef: [Math.exp(c0 - c1 * ux), c1],\n    predict: predict,\n    rSquared: rSquared(data, x, y, uy, predict)\n  };\n}\n"},"lineCount":null}},"error":null,"hash":"b3a79eaa9a3ee774893adbb3b65dff9b","cacheData":{"env":{}}}