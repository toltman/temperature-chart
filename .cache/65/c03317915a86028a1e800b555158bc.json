{"id":"Kj4j","dependencies":[{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591974399859},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-crossfilter/package.json","includedInParent":true,"mtime":1591969205136},{"name":"vega-dataflow","loc":{"line":1,"column":24},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-crossfilter/src/ResolveFilter.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-dataflow/index.js"},{"name":"vega-util","loc":{"line":2,"column":23},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-crossfilter/src/ResolveFilter.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=t;var r=require(\"vega-dataflow\"),e=require(\"vega-util\");function t(e){r.Transform.call(this,null,e)}t.Definition={type:\"ResolveFilter\",metadata:{},params:[{name:\"ignore\",type:\"number\",required:!0,description:\"A bit mask indicating which filters to ignore.\"},{name:\"filter\",type:\"object\",required:!0,description:\"Per-tuple filter bitmaps from a CrossFilter transform.\"}]};var i=(0,e.inherits)(t,r.Transform);i.transform=function(r,e){var t=~(r.ignore||0),i=r.filter,n=i.mask;if(0==(n&t))return e.StopPropagation;var a=e.fork(e.ALL),l=i.data(),o=i.curr(),u=i.prev(),f=function(r){return o[r]&t?null:l[r]};return a.filter(a.MOD,f),n&n-1?(a.filter(a.ADD,function(r){var e=o[r]&t;return!e&&e^u[r]&t?l[r]:null}),a.filter(a.REM,function(r){var e=o[r]&t;return e&&!(e^e^u[r]&t)?l[r]:null})):(a.filter(a.ADD,f),a.filter(a.REM,function(r){return(o[r]&t)===n?l[r]:null})),a.filter(a.SOURCE,function(r){return f(r._index)})};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":2,"column":0},"generated":{"line":1,"column":119}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":2,"column":0},"generated":{"line":1,"column":127}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":13,"column":15},"generated":{"line":1,"column":140}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ResolveFilter","original":{"line":13,"column":24},"generated":{"line":1,"column":149}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"params","original":{"line":13,"column":38},"generated":{"line":1,"column":151}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"call","original":{"line":14,"column":12},"generated":{"line":1,"column":154}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"call","original":{"line":14,"column":12},"generated":{"line":1,"column":156}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"call","original":{"line":14,"column":12},"generated":{"line":1,"column":166}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":14,"column":17},"generated":{"line":1,"column":171}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":14,"column":23},"generated":{"line":1,"column":176}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"params","original":{"line":14,"column":29},"generated":{"line":1,"column":181}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ResolveFilter","original":{"line":17,"column":0},"generated":{"line":1,"column":184}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"Definition","original":{"line":17,"column":14},"generated":{"line":1,"column":186}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":17,"column":27},"generated":{"line":1,"column":197}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":18,"column":10},"generated":{"line":1,"column":198}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":18,"column":10},"generated":{"line":1,"column":203}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":19,"column":14},"generated":{"line":1,"column":219}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":19,"column":14},"generated":{"line":1,"column":228}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":20,"column":12},"generated":{"line":1,"column":231}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":20,"column":12},"generated":{"line":1,"column":238}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":21,"column":4},"generated":{"line":1,"column":239}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":21,"column":14},"generated":{"line":1,"column":240}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":21,"column":14},"generated":{"line":1,"column":245}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":21,"column":32},"generated":{"line":1,"column":254}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":21,"column":32},"generated":{"line":1,"column":259}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":21,"column":54},"generated":{"line":1,"column":268}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":21,"column":54},"generated":{"line":1,"column":278}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":22,"column":21},"generated":{"line":1,"column":280}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":22,"column":21},"generated":{"line":1,"column":292}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":23,"column":4},"generated":{"line":1,"column":342}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":23,"column":14},"generated":{"line":1,"column":343}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":23,"column":14},"generated":{"line":1,"column":348}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":23,"column":32},"generated":{"line":1,"column":357}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":23,"column":32},"generated":{"line":1,"column":362}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":23,"column":54},"generated":{"line":1,"column":371}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":23,"column":54},"generated":{"line":1,"column":381}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":24,"column":21},"generated":{"line":1,"column":383}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":24,"column":21},"generated":{"line":1,"column":395}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":28,"column":0},"generated":{"line":1,"column":455}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"prototype","original":{"line":28,"column":4},"generated":{"line":1,"column":459}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":28,"column":16},"generated":{"line":1,"column":462}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ResolveFilter","original":{"line":28,"column":25},"generated":{"line":1,"column":464}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ResolveFilter","original":{"line":28,"column":25},"generated":{"line":1,"column":466}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ResolveFilter","original":{"line":28,"column":25},"generated":{"line":1,"column":476}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"Transform","original":{"line":28,"column":40},"generated":{"line":1,"column":478}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":28,"column":16},"generated":{"line":1,"column":480}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"prototype","original":{"line":30,"column":0},"generated":{"line":1,"column":491}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"transform","original":{"line":30,"column":10},"generated":{"line":1,"column":493}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":30,"column":22},"generated":{"line":1,"column":503}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"_","original":{"line":30,"column":31},"generated":{"line":1,"column":512}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"pulse","original":{"line":30,"column":34},"generated":{"line":1,"column":514}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ignore","original":{"line":31,"column":6},"generated":{"line":1,"column":517}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ignore","original":{"line":31,"column":6},"generated":{"line":1,"column":521}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"_","original":{"line":31,"column":17},"generated":{"line":1,"column":525}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ignore","original":{"line":31,"column":19},"generated":{"line":1,"column":527}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":31,"column":29},"generated":{"line":1,"column":535}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"bitmap","original":{"line":32,"column":6},"generated":{"line":1,"column":538}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"_","original":{"line":32,"column":15},"generated":{"line":1,"column":540}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"filter","original":{"line":32,"column":17},"generated":{"line":1,"column":542}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"mask","original":{"line":33,"column":6},"generated":{"line":1,"column":549}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"bitmap","original":{"line":33,"column":13},"generated":{"line":1,"column":551}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"mask","original":{"line":33,"column":20},"generated":{"line":1,"column":553}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":36,"column":6},"generated":{"line":1,"column":558}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":36,"column":26},"generated":{"line":1,"column":561}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"mask","original":{"line":36,"column":7},"generated":{"line":1,"column":565}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ignore","original":{"line":36,"column":14},"generated":{"line":1,"column":567}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":36,"column":29},"generated":{"line":1,"column":570}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"pulse","original":{"line":36,"column":36},"generated":{"line":1,"column":577}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"StopPropagation","original":{"line":36,"column":42},"generated":{"line":1,"column":579}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":38,"column":6},"generated":{"line":1,"column":595}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":38,"column":6},"generated":{"line":1,"column":599}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"pulse","original":{"line":38,"column":15},"generated":{"line":1,"column":601}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"fork","original":{"line":38,"column":21},"generated":{"line":1,"column":603}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"pulse","original":{"line":38,"column":26},"generated":{"line":1,"column":608}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ALL","original":{"line":38,"column":32},"generated":{"line":1,"column":610}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"data","original":{"line":39,"column":6},"generated":{"line":1,"column":615}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"bitmap","original":{"line":39,"column":13},"generated":{"line":1,"column":617}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"data","original":{"line":39,"column":20},"generated":{"line":1,"column":619}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"curr","original":{"line":40,"column":6},"generated":{"line":1,"column":626}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"bitmap","original":{"line":40,"column":13},"generated":{"line":1,"column":628}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"curr","original":{"line":40,"column":20},"generated":{"line":1,"column":630}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"prev","original":{"line":41,"column":6},"generated":{"line":1,"column":637}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"bitmap","original":{"line":41,"column":13},"generated":{"line":1,"column":639}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"prev","original":{"line":41,"column":20},"generated":{"line":1,"column":641}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"pass","original":{"line":42,"column":6},"generated":{"line":1,"column":648}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":42,"column":13},"generated":{"line":1,"column":650}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":42,"column":22},"generated":{"line":1,"column":659}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":43,"column":15},"generated":{"line":1,"column":662}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"curr","original":{"line":43,"column":17},"generated":{"line":1,"column":669}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":43,"column":22},"generated":{"line":1,"column":671}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ignore","original":{"line":43,"column":27},"generated":{"line":1,"column":674}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":43,"column":47},"generated":{"line":1,"column":676}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"data","original":{"line":43,"column":37},"generated":{"line":1,"column":681}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":43,"column":42},"generated":{"line":1,"column":683}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":73,"column":9},"generated":{"line":1,"column":687}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":47,"column":2},"generated":{"line":1,"column":694}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"filter","original":{"line":47,"column":9},"generated":{"line":1,"column":696}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":47,"column":16},"generated":{"line":1,"column":703}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"MOD","original":{"line":47,"column":23},"generated":{"line":1,"column":705}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"pass","original":{"line":47,"column":28},"generated":{"line":1,"column":709}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"mask","original":{"line":53,"column":8},"generated":{"line":1,"column":712}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"mask","original":{"line":53,"column":16},"generated":{"line":1,"column":714}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":53,"column":21},"generated":{"line":1,"column":716}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":60,"column":4},"generated":{"line":1,"column":719}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"filter","original":{"line":60,"column":11},"generated":{"line":1,"column":721}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":60,"column":18},"generated":{"line":1,"column":728}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ADD","original":{"line":60,"column":25},"generated":{"line":1,"column":730}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":60,"column":30},"generated":{"line":1,"column":734}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":60,"column":39},"generated":{"line":1,"column":743}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"c","original":{"line":61,"column":10},"generated":{"line":1,"column":746}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"c","original":{"line":61,"column":10},"generated":{"line":1,"column":750}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"curr","original":{"line":61,"column":14},"generated":{"line":1,"column":752}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":61,"column":19},"generated":{"line":1,"column":754}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ignore","original":{"line":61,"column":24},"generated":{"line":1,"column":757}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"f","original":{"line":63,"column":13},"generated":{"line":1,"column":759}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"c","original":{"line":62,"column":15},"generated":{"line":1,"column":766}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"c","original":{"line":62,"column":21},"generated":{"line":1,"column":769}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"prev","original":{"line":62,"column":26},"generated":{"line":1,"column":771}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":62,"column":31},"generated":{"line":1,"column":773}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ignore","original":{"line":62,"column":36},"generated":{"line":1,"column":776}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"data","original":{"line":63,"column":17},"generated":{"line":1,"column":778}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":63,"column":22},"generated":{"line":1,"column":780}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":63,"column":27},"generated":{"line":1,"column":783}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":65,"column":4},"generated":{"line":1,"column":790}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"filter","original":{"line":65,"column":11},"generated":{"line":1,"column":792}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":65,"column":18},"generated":{"line":1,"column":799}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"REM","original":{"line":65,"column":25},"generated":{"line":1,"column":801}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":65,"column":30},"generated":{"line":1,"column":805}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":65,"column":39},"generated":{"line":1,"column":814}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"c","original":{"line":66,"column":10},"generated":{"line":1,"column":817}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"c","original":{"line":66,"column":10},"generated":{"line":1,"column":821}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"curr","original":{"line":66,"column":14},"generated":{"line":1,"column":823}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":66,"column":19},"generated":{"line":1,"column":825}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ignore","original":{"line":66,"column":24},"generated":{"line":1,"column":828}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"f","original":{"line":68,"column":13},"generated":{"line":1,"column":830}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"c","original":{"line":67,"column":14},"generated":{"line":1,"column":837}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"c","original":{"line":67,"column":21},"generated":{"line":1,"column":842}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"c","original":{"line":67,"column":26},"generated":{"line":1,"column":844}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"prev","original":{"line":67,"column":31},"generated":{"line":1,"column":846}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":67,"column":36},"generated":{"line":1,"column":848}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ignore","original":{"line":67,"column":41},"generated":{"line":1,"column":851}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"data","original":{"line":68,"column":17},"generated":{"line":1,"column":854}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":68,"column":22},"generated":{"line":1,"column":856}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":68,"column":27},"generated":{"line":1,"column":859}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":54,"column":4},"generated":{"line":1,"column":868}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"filter","original":{"line":54,"column":11},"generated":{"line":1,"column":870}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":54,"column":18},"generated":{"line":1,"column":877}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ADD","original":{"line":54,"column":25},"generated":{"line":1,"column":879}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"pass","original":{"line":54,"column":30},"generated":{"line":1,"column":883}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":55,"column":4},"generated":{"line":1,"column":886}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"filter","original":{"line":55,"column":11},"generated":{"line":1,"column":888}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":55,"column":18},"generated":{"line":1,"column":895}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"REM","original":{"line":55,"column":25},"generated":{"line":1,"column":897}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":55,"column":30},"generated":{"line":1,"column":901}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":55,"column":39},"generated":{"line":1,"column":910}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":56,"column":13},"generated":{"line":1,"column":913}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"curr","original":{"line":56,"column":14},"generated":{"line":1,"column":920}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":56,"column":19},"generated":{"line":1,"column":922}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"ignore","original":{"line":56,"column":24},"generated":{"line":1,"column":925}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"mask","original":{"line":56,"column":36},"generated":{"line":1,"column":930}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"data","original":{"line":56,"column":43},"generated":{"line":1,"column":932}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"k","original":{"line":56,"column":48},"generated":{"line":1,"column":934}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":56,"column":53},"generated":{"line":1,"column":937}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":73,"column":9},"generated":{"line":1,"column":945}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"filter","original":{"line":73,"column":16},"generated":{"line":1,"column":947}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"output","original":{"line":73,"column":23},"generated":{"line":1,"column":954}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"SOURCE","original":{"line":73,"column":30},"generated":{"line":1,"column":956}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","original":{"line":73,"column":38},"generated":{"line":1,"column":963}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"t","original":{"line":73,"column":47},"generated":{"line":1,"column":972}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"pass","original":{"line":73,"column":59},"generated":{"line":1,"column":975}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"pass","original":{"line":73,"column":59},"generated":{"line":1,"column":982}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"t","original":{"line":73,"column":64},"generated":{"line":1,"column":984}},{"source":"node_modules/vega-crossfilter/src/ResolveFilter.js","name":"_index","original":{"line":73,"column":66},"generated":{"line":1,"column":986}}],"sources":{"node_modules/vega-crossfilter/src/ResolveFilter.js":"import {Transform} from 'vega-dataflow';\nimport {inherits} from 'vega-util';\n\n/**\n * Selectively filters tuples by resolving against a filter bitmap.\n * Useful for processing the output of a cross-filter transform.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {object} params.ignore - A bit mask indicating which filters to ignore.\n * @param {object} params.filter - The per-tuple filter bitmaps. Typically this\n *   parameter value is a reference to a {@link CrossFilter} transform.\n */\nexport default function ResolveFilter(params) {\n  Transform.call(this, null, params);\n}\n\nResolveFilter.Definition = {\n  'type': 'ResolveFilter',\n  'metadata': {},\n  'params': [\n    { 'name': 'ignore', 'type': 'number', 'required': true,\n      'description': 'A bit mask indicating which filters to ignore.' },\n    { 'name': 'filter', 'type': 'object', 'required': true,\n      'description': 'Per-tuple filter bitmaps from a CrossFilter transform.' }\n  ]\n};\n\nvar prototype = inherits(ResolveFilter, Transform);\n\nprototype.transform = function(_, pulse) {\n  var ignore = ~(_.ignore || 0), // bit mask where zeros -> dims to ignore\n      bitmap = _.filter,\n      mask = bitmap.mask;\n\n  // exit early if no relevant filter changes\n  if ((mask & ignore) === 0) return pulse.StopPropagation;\n\n  var output = pulse.fork(pulse.ALL),\n      data = bitmap.data(),\n      curr = bitmap.curr(),\n      prev = bitmap.prev(),\n      pass = function(k) {\n        return !(curr[k] & ignore) ? data[k] : null;\n      };\n\n  // propagate all mod tuples that pass the filter\n  output.filter(output.MOD, pass);\n\n  // determine add & rem tuples via filter functions\n  // for efficiency, we do *not* populate new arrays,\n  // instead we add filter functions applied downstream\n\n  if (!(mask & (mask-1))) { // only one filter changed\n    output.filter(output.ADD, pass);\n    output.filter(output.REM, function(k) {\n      return (curr[k] & ignore) === mask ? data[k] : null;\n    });\n\n  } else { // multiple filters changed\n    output.filter(output.ADD, function(k) {\n      var c = curr[k] & ignore,\n          f = !c && (c ^ (prev[k] & ignore));\n      return f ? data[k] : null;\n    });\n    output.filter(output.REM, function(k) {\n      var c = curr[k] & ignore,\n          f = c && !(c ^ (c ^ (prev[k] & ignore)));\n      return f ? data[k] : null;\n    });\n  }\n\n  // add filter to source data in case of reflow...\n  return output.filter(output.SOURCE, function(t) { return pass(t._index); });\n};\n"},"lineCount":null}},"error":null,"hash":"2d7921584ca0c4a425644a4cbd4a96bd","cacheData":{"env":{}}}