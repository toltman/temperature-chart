{"id":"N6xj","dependencies":[{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/legends.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/src/compile/selection/transforms/legends.ts","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591974472658},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/package.json","includedInParent":true,"mtime":499162500000},{"name":"vega-event-selector","loc":{"line":1,"column":42},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/legends.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-event-selector/index.js"},{"name":"vega-util","loc":{"line":2,"column":32},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/legends.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"},{"name":"..","loc":{"line":3,"column":40},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/legends.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/index.js"},{"name":"../../../log","loc":{"line":4,"column":21},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/legends.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/log/index.js"},{"name":"../../../selection","loc":{"line":5,"column":69},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/legends.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/selection.js"},{"name":"../../../util","loc":{"line":6,"column":35},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/legends.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/util.js"},{"name":"./project","loc":{"line":7,"column":29},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/legends.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/project.js"},{"name":"./toggle","loc":{"line":8,"column":23},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/legends.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/selection/transforms/toggle.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.parseInteractiveLegend=f,exports.default=void 0;var e=require(\"vega-event-selector\"),n=require(\"vega-util\"),t=require(\"..\"),r=d(require(\"../../../log\")),i=require(\"../../../selection\"),a=require(\"../../../util\"),s=require(\"./project\"),l=require(\"./toggle\");function o(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var n=o();if(n&&n.has(e))return n.get(e);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(t,i,a):t[i]=e[i]}return t.default=e,n&&n.set(e,t),t}const u={has:e=>{const n=\"global\"===e.resolve&&e.bind&&(0,i.isLegendBinding)(e.bind),t=1===e.project.items.length&&e.project.items[0].field!==i.SELECTION_ID;return n&&!t&&r.warn(r.message.LEGEND_BINDINGS_PROJECT_LENGTH),n&&t},parse:(t,r,a,s)=>{var l;if(s.on||delete r.events,s.clear||delete r.clear,s.on||s.clear){const e='event.item && indexof(event.item.mark.role, \"legend\") < 0';for(const t of r.events)t.filter=(0,n.array)(null!==(l=t.filter)&&void 0!==l?l:[]),t.filter.indexOf(e)<0&&t.filter.push(e)}const o=(0,i.isLegendStreamBinding)(r.bind)?r.bind.legend:\"click\",d=(0,n.isString)(o)?(0,e.selector)(o,\"view\"):(0,n.array)(o);r.bind={legend:{merge:d}}},topLevelSignals:(e,n,t)=>{const r=n.name,s=(0,i.isLegendStreamBinding)(n.bind)&&n.bind.legend,l=e=>n=>{const t=(0,a.duplicate)(n);return t.markname=e,t};for(const i of n.project.items){if(!i.hasLegend)continue;const e=`${(0,a.varName)(i.field)}_legend`,o=`${r}_${e}`;if(0===t.filter(e=>e.name===o).length){const r=s.merge.map(l(`${e}_symbols`)).concat(s.merge.map(l(`${e}_labels`))).concat(s.merge.map(l(`${e}_entries`)));t.unshift(Object.assign(Object.assign({name:o},n.init?{}:{value:null}),{on:[{events:r,update:\"datum.value || item().items[0].items[0].datum.value\",force:!0},{events:s.merge,update:`!event.item || !datum ? null : ${o}`,force:!0}]}))}}return t},signals:(e,n,r)=>{const o=n.name,d=n.project,u=r.find(e=>e.name===o+t.TUPLE),c=o+s.TUPLE_FIELDS,f=d.items.filter(e=>e.hasLegend).map(e=>(0,a.varName)(`${o}_${(0,a.varName)(e.field)}_legend`)),g=`${f.map(e=>`${e} !== null`).join(\" && \")} ? {fields: ${c}, values: [${f.join(\", \")}]} : null`;n.events&&f.length>0?u.on.push({events:f.map(e=>({signal:e})),update:g}):f.length>0&&(u.update=g,delete u.value,delete u.on);const p=r.find(e=>e.name===o+l.TOGGLE),v=(0,i.isLegendStreamBinding)(n.bind)&&n.bind.legend;return p&&(n.events?p.on.push(Object.assign(Object.assign({},p.on[0]),{events:v})):p.on[0].events=v),r}};var c=u;function f(e,n,r){var i;const a=null===(i=e.fieldDef(n))||void 0===i?void 0:i.field;(0,t.forEachSelection)(e,e=>{var t,i;const s=null!==(t=e.project.hasField[a])&&void 0!==t?t:e.project.hasChannel[n];if(s&&u.has(e)){const n=null!==(i=r.get(\"selections\"))&&void 0!==i?i:[];n.push(e.name),r.set(\"selections\",n,!1),s.hasLegend=!0}})}exports.default=c;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":0}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":13}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":20}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":35}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":43}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":56}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":57}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":64}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":68}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":76}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":99}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":101}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":109}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":122}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":124}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":130}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":138}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":161}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":163}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":171}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":184}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":186}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":194}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":200}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":202}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":204}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":212}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":229}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":231}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":239}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":261}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":263}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":271}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":288}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":290}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":298}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":311}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":313}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":321}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":333}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":342}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":346}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":349}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":368}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":376}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":383}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":388}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":392}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":394}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":398}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":406}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":413}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":415}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":426}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":433}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":436}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":438}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":447}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":449}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":452}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":455}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":458}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":460}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":471}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":478}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":480}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":483}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":490}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":493}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":510}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":513}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":532}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":534}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":540}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":541}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":549}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":552}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":556}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":558}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":562}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":565}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":568}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":570}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":574}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":577}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":584}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":586}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":590}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":593}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":597}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":599}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":602}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":604}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":611}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":627}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":634}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":659}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":663}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":667}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":672}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":674}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":677}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":684}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":694}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":709}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":714}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":716}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":719}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":720}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":724}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":726}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":728}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":735}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":760}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":762}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":765}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":770}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":774}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":776}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":781}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":783}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":788}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":795}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":810}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":812}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":814}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":817}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":819}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":822}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":824}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":827}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":834}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":836}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":844}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":846}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":849}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":851}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":855}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":857}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":860}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":862}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":1,"column":868}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":15,"column":42},"generated":{"line":1,"column":870}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":871}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":875}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":10},"generated":{"line":1,"column":879}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":10},"generated":{"line":1,"column":885}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":37},"generated":{"line":1,"column":887}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":17},"generated":{"line":1,"column":898}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":25},"generated":{"line":1,"column":900}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":49},"generated":{"line":1,"column":909}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":57},"generated":{"line":1,"column":911}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":65},"generated":{"line":1,"column":918}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":81},"generated":{"line":1,"column":920}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":81},"generated":{"line":1,"column":922}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":81},"generated":{"line":1,"column":939}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":17,"column":89},"generated":{"line":1,"column":941}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":1,"column":947}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":53},"generated":{"line":1,"column":949}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":20},"generated":{"line":1,"column":953}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":28},"generated":{"line":1,"column":955}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":36},"generated":{"line":1,"column":963}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":42},"generated":{"line":1,"column":969}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":58},"generated":{"line":1,"column":977}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":66},"generated":{"line":1,"column":979}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":74},"generated":{"line":1,"column":987}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":80},"generated":{"line":1,"column":993}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":83},"generated":{"line":1,"column":996}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":93},"generated":{"line":1,"column":1004}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":1006}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":1019}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":1026}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":19,"column":17},"generated":{"line":1,"column":1030}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":1033}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":20,"column":10},"generated":{"line":1,"column":1035}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":1,"column":1040}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":20,"column":19},"generated":{"line":1,"column":1042}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":20,"column":27},"generated":{"line":1,"column":1050}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":1082}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":23,"column":19},"generated":{"line":1,"column":1085}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":1088}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":1094}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":1095}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":1,"column":1097}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":26,"column":26},"generated":{"line":1,"column":1099}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":26,"column":34},"generated":{"line":1,"column":1101}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":26,"column":45},"generated":{"line":1,"column":1106}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":26,"column":45},"generated":{"line":1,"column":1110}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":1112}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":1115}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":29,"column":17},"generated":{"line":1,"column":1117}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":29,"column":28},"generated":{"line":1,"column":1128}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":29,"column":36},"generated":{"line":1,"column":1130}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":1137}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":30,"column":17},"generated":{"line":1,"column":1139}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":30,"column":31},"generated":{"line":1,"column":1153}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":30,"column":39},"generated":{"line":1,"column":1155}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":1161}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":32,"column":16},"generated":{"line":1,"column":1163}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":32,"column":22},"generated":{"line":1,"column":1167}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":32,"column":30},"generated":{"line":1,"column":1169}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":32,"column":37},"generated":{"line":1,"column":1175}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":1176}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":1182}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":33,"column":27},"generated":{"line":1,"column":1184}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":1,"column":1244}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":1,"column":1248}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":34,"column":17},"generated":{"line":1,"column":1254}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":34,"column":24},"generated":{"line":1,"column":1259}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":34,"column":32},"generated":{"line":1,"column":1261}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":1268}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":1270}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":21},"generated":{"line":1,"column":1278}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":26},"generated":{"line":1,"column":1280}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":26},"generated":{"line":1,"column":1282}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":37},"generated":{"line":1,"column":1289}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":26},"generated":{"line":1,"column":1297}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":27},"generated":{"line":1,"column":1299}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":31},"generated":{"line":1,"column":1301}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":37},"generated":{"line":1,"column":1315}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":37},"generated":{"line":1,"column":1319}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":37},"generated":{"line":1,"column":1321}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":35,"column":41},"generated":{"line":1,"column":1323}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":1,"column":1327}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":1,"column":1329}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":36,"column":23},"generated":{"line":1,"column":1336}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":36,"column":31},"generated":{"line":1,"column":1344}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":36,"column":47},"generated":{"line":1,"column":1347}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":1350}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":37,"column":14},"generated":{"line":1,"column":1352}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":37,"column":21},"generated":{"line":1,"column":1359}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":37,"column":26},"generated":{"line":1,"column":1364}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":1367}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":1373}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":1,"column":1376}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":42,"column":38},"generated":{"line":1,"column":1378}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":42,"column":38},"generated":{"line":1,"column":1380}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":42,"column":38},"generated":{"line":1,"column":1403}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":42,"column":46},"generated":{"line":1,"column":1405}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":42,"column":54},"generated":{"line":1,"column":1411}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":42,"column":62},"generated":{"line":1,"column":1413}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":42,"column":67},"generated":{"line":1,"column":1418}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":42,"column":76},"generated":{"line":1,"column":1425}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":10},"generated":{"line":1,"column":1433}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":29},"generated":{"line":1,"column":1436}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":38},"generated":{"line":1,"column":1438}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":38},"generated":{"line":1,"column":1440}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":38},"generated":{"line":1,"column":1450}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":1454}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":59},"generated":{"line":1,"column":1456}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":59},"generated":{"line":1,"column":1458}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":59},"generated":{"line":1,"column":1468}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":64},"generated":{"line":1,"column":1470}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":74},"generated":{"line":1,"column":1479}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":80},"generated":{"line":1,"column":1481}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":80},"generated":{"line":1,"column":1483}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":43,"column":80},"generated":{"line":1,"column":1490}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":1493}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":44,"column":12},"generated":{"line":1,"column":1495}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":44,"column":19},"generated":{"line":1,"column":1500}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":44,"column":20},"generated":{"line":1,"column":1501}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":44,"column":28},"generated":{"line":1,"column":1508}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":44,"column":29},"generated":{"line":1,"column":1509}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":44,"column":36},"generated":{"line":1,"column":1515}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":1520}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":47,"column":19},"generated":{"line":1,"column":1536}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":47,"column":20},"generated":{"line":1,"column":1537}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":47,"column":27},"generated":{"line":1,"column":1539}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":47,"column":76},"generated":{"line":1,"column":1541}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":1546}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":1552}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":48,"column":20},"generated":{"line":1,"column":1554}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":48,"column":28},"generated":{"line":1,"column":1556}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":1561}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":1564}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":49,"column":41},"generated":{"line":1,"column":1566}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":49,"column":41},"generated":{"line":1,"column":1568}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":49,"column":41},"generated":{"line":1,"column":1591}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":49,"column":49},"generated":{"line":1,"column":1593}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":49,"column":59},"generated":{"line":1,"column":1600}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":49,"column":67},"generated":{"line":1,"column":1602}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":49,"column":72},"generated":{"line":1,"column":1607}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":50,"column":10},"generated":{"line":1,"column":1614}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":50,"column":22},"generated":{"line":1,"column":1616}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":50,"column":40},"generated":{"line":1,"column":1619}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":1623}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":1629}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":51,"column":17},"generated":{"line":1,"column":1632}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":51,"column":27},"generated":{"line":1,"column":1634}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":51,"column":27},"generated":{"line":1,"column":1636}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":51,"column":27},"generated":{"line":1,"column":1647}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":1650}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":52,"column":6},"generated":{"line":1,"column":1657}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":1659}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":1668}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":1670}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":1673}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":1677}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":56,"column":15},"generated":{"line":1,"column":1683}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":56,"column":23},"generated":{"line":1,"column":1688}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":56,"column":31},"generated":{"line":1,"column":1690}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":56,"column":39},"generated":{"line":1,"column":1698}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":56,"column":46},"generated":{"line":1,"column":1704}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":1,"column":1705}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":57,"column":11},"generated":{"line":1,"column":1709}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":1711}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":57,"column":27},"generated":{"line":1,"column":1721}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":58,"column":12},"generated":{"line":1,"column":1730}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":58,"column":12},"generated":{"line":1,"column":1736}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":58,"column":24},"generated":{"line":1,"column":1742}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":58,"column":32},"generated":{"line":1,"column":1744}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":58,"column":32},"generated":{"line":1,"column":1746}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":58,"column":32},"generated":{"line":1,"column":1755}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":58,"column":37},"generated":{"line":1,"column":1757}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":1,"column":1773}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":59,"column":24},"generated":{"line":1,"column":1778}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":59,"column":35},"generated":{"line":1,"column":1783}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":62,"column":10},"generated":{"line":1,"column":1787}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":62,"column":31},"generated":{"line":1,"column":1790}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":60,"column":24},"generated":{"line":1,"column":1794}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":60,"column":32},"generated":{"line":1,"column":1796}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":60,"column":39},"generated":{"line":1,"column":1803}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":60,"column":44},"generated":{"line":1,"column":1806}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":60,"column":46},"generated":{"line":1,"column":1808}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":60,"column":55},"generated":{"line":1,"column":1815}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":62,"column":20},"generated":{"line":1,"column":1818}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":62,"column":34},"generated":{"line":1,"column":1825}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":63,"column":14},"generated":{"line":1,"column":1826}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":63,"column":14},"generated":{"line":1,"column":1832}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":63,"column":23},"generated":{"line":1,"column":1834}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":63,"column":30},"generated":{"line":1,"column":1836}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":1,"column":1842}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":1846}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":64,"column":27},"generated":{"line":1,"column":1851}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":1,"column":1865}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":65,"column":18},"generated":{"line":1,"column":1872}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":65,"column":25},"generated":{"line":1,"column":1874}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":65,"column":31},"generated":{"line":1,"column":1880}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":65,"column":35},"generated":{"line":1,"column":1884}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":65,"column":47},"generated":{"line":1,"column":1889}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":66,"column":11},"generated":{"line":1,"column":1903}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":66,"column":18},"generated":{"line":1,"column":1910}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":66,"column":25},"generated":{"line":1,"column":1912}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":66,"column":31},"generated":{"line":1,"column":1918}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":66,"column":35},"generated":{"line":1,"column":1922}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":66,"column":47},"generated":{"line":1,"column":1927}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1942}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":68,"column":16},"generated":{"line":1,"column":1944}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":68,"column":23},"generated":{"line":1,"column":1952}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":68,"column":23},"generated":{"line":1,"column":1959}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":68,"column":23},"generated":{"line":1,"column":1966}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":68,"column":23},"generated":{"line":1,"column":1973}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":68,"column":23},"generated":{"line":1,"column":1980}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":69,"column":10},"generated":{"line":1,"column":1981}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":69,"column":16},"generated":{"line":1,"column":1986}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":70,"column":15},"generated":{"line":1,"column":1989}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":70,"column":23},"generated":{"line":1,"column":1991}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":70,"column":46},"generated":{"line":1,"column":1996}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":70,"column":30},"generated":{"line":1,"column":1999}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":70,"column":31},"generated":{"line":1,"column":2000}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":70,"column":38},"generated":{"line":1,"column":2006}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":70,"column":49},"generated":{"line":1,"column":2013}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":71,"column":10},"generated":{"line":1,"column":2014}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":71,"column":14},"generated":{"line":1,"column":2017}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":73,"column":12},"generated":{"line":1,"column":2018}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":73,"column":13},"generated":{"line":1,"column":2019}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":73,"column":13},"generated":{"line":1,"column":2026}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":73,"column":21},"generated":{"line":1,"column":2028}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":73,"column":29},"generated":{"line":1,"column":2035}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":73,"column":84},"generated":{"line":1,"column":2089}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":73,"column":91},"generated":{"line":1,"column":2096}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":74,"column":12},"generated":{"line":1,"column":2099}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":74,"column":13},"generated":{"line":1,"column":2100}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":74,"column":21},"generated":{"line":1,"column":2107}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":74,"column":28},"generated":{"line":1,"column":2109}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":74,"column":35},"generated":{"line":1,"column":2115}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":74,"column":77},"generated":{"line":1,"column":2156}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":74,"column":87},"generated":{"line":1,"column":2160}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":74,"column":94},"generated":{"line":1,"column":2167}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":80,"column":11},"generated":{"line":1,"column":2175}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":80,"column":11},"generated":{"line":1,"column":2182}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":83,"column":2},"generated":{"line":1,"column":2185}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":2193}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":1,"column":2194}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":83,"column":19},"generated":{"line":1,"column":2196}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":83,"column":28},"generated":{"line":1,"column":2198}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":84,"column":10},"generated":{"line":1,"column":2203}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":84,"column":10},"generated":{"line":1,"column":2209}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":84,"column":17},"generated":{"line":1,"column":2211}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":84,"column":25},"generated":{"line":1,"column":2213}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":85,"column":10},"generated":{"line":1,"column":2218}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":85,"column":17},"generated":{"line":1,"column":2220}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":85,"column":25},"generated":{"line":1,"column":2222}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":86,"column":10},"generated":{"line":1,"column":2230}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":86,"column":18},"generated":{"line":1,"column":2232}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":86,"column":26},"generated":{"line":1,"column":2234}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":86,"column":31},"generated":{"line":1,"column":2239}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":86,"column":36},"generated":{"line":1,"column":2242}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":86,"column":38},"generated":{"line":1,"column":2244}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":86,"column":47},"generated":{"line":1,"column":2251}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":86,"column":54},"generated":{"line":1,"column":2253}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":86,"column":18},"generated":{"line":1,"column":2255}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":87,"column":10},"generated":{"line":1,"column":2262}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":87,"column":19},"generated":{"line":1,"column":2264}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":87,"column":26},"generated":{"line":1,"column":2266}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":87,"column":4},"generated":{"line":1,"column":2268}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":10},"generated":{"line":1,"column":2281}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":19},"generated":{"line":1,"column":2283}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":24},"generated":{"line":1,"column":2285}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":30},"generated":{"line":1,"column":2291}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":37},"generated":{"line":1,"column":2298}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":42},"generated":{"line":1,"column":2301}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":44},"generated":{"line":1,"column":2303}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":55},"generated":{"line":1,"column":2314}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":59},"generated":{"line":1,"column":2318}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":64},"generated":{"line":1,"column":2322}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":72},"generated":{"line":1,"column":2324}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":72},"generated":{"line":1,"column":2326}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":75},"generated":{"line":1,"column":2338}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":83},"generated":{"line":1,"column":2344}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":91},"generated":{"line":1,"column":2346}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":91},"generated":{"line":1,"column":2348}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":91},"generated":{"line":1,"column":2357}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":88,"column":93},"generated":{"line":1,"column":2359}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":90,"column":10},"generated":{"line":1,"column":2377}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":89,"column":18},"generated":{"line":1,"column":2382}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":89,"column":25},"generated":{"line":1,"column":2384}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":89,"column":29},"generated":{"line":1,"column":2388}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":89,"column":37},"generated":{"line":1,"column":2394}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":89,"column":51},"generated":{"line":1,"column":2408}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":89,"column":56},"generated":{"line":1,"column":2413}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":90,"column":42},"generated":{"line":1,"column":2435}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":90,"column":62},"generated":{"line":1,"column":2450}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":90,"column":69},"generated":{"line":1,"column":2452}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":90,"column":74},"generated":{"line":1,"column":2457}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":1,"column":2474}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":92,"column":16},"generated":{"line":1,"column":2476}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":92,"column":26},"generated":{"line":1,"column":2484}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":92,"column":33},"generated":{"line":1,"column":2486}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":92,"column":42},"generated":{"line":1,"column":2493}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":93,"column":6},"generated":{"line":1,"column":2495}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":93,"column":12},"generated":{"line":1,"column":2497}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":93,"column":15},"generated":{"line":1,"column":2500}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":93,"column":20},"generated":{"line":1,"column":2505}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":94,"column":8},"generated":{"line":1,"column":2506}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":1,"column":2513}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":94,"column":23},"generated":{"line":1,"column":2515}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":94,"column":27},"generated":{"line":1,"column":2519}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":94,"column":38},"generated":{"line":1,"column":2523}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":94,"column":39},"generated":{"line":1,"column":2524}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":94,"column":39},"generated":{"line":1,"column":2531}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":2536}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":2543}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":97,"column":15},"generated":{"line":1,"column":2547}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":97,"column":22},"generated":{"line":1,"column":2549}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":97,"column":31},"generated":{"line":1,"column":2556}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":98,"column":6},"generated":{"line":1,"column":2560}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":98,"column":12},"generated":{"line":1,"column":2562}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":98,"column":21},"generated":{"line":1,"column":2569}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":99,"column":13},"generated":{"line":1,"column":2578}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":99,"column":19},"generated":{"line":1,"column":2580}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":100,"column":13},"generated":{"line":1,"column":2593}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":100,"column":19},"generated":{"line":1,"column":2595}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":103,"column":10},"generated":{"line":1,"column":2599}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":103,"column":10},"generated":{"line":1,"column":2605}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":103,"column":19},"generated":{"line":1,"column":2607}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":103,"column":27},"generated":{"line":1,"column":2609}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":103,"column":32},"generated":{"line":1,"column":2614}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":1,"column":2617}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":103,"column":39},"generated":{"line":1,"column":2619}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":103,"column":48},"generated":{"line":1,"column":2626}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":103,"column":55},"generated":{"line":1,"column":2628}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":103,"column":19},"generated":{"line":1,"column":2630}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":104,"column":10},"generated":{"line":1,"column":2638}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":1,"column":2641}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":104,"column":41},"generated":{"line":1,"column":2643}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":104,"column":41},"generated":{"line":1,"column":2645}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":104,"column":41},"generated":{"line":1,"column":2668}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":104,"column":49},"generated":{"line":1,"column":2670}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":104,"column":58},"generated":{"line":1,"column":2677}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":104,"column":66},"generated":{"line":1,"column":2679}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":104,"column":71},"generated":{"line":1,"column":2684}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":110,"column":11},"generated":{"line":1,"column":2691}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":105,"column":8},"generated":{"line":1,"column":2698}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":106,"column":11},"generated":{"line":1,"column":2702}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":106,"column":19},"generated":{"line":1,"column":2704}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":11},"generated":{"line":1,"column":2711}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":18},"generated":{"line":1,"column":2713}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":21},"generated":{"line":1,"column":2716}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":25},"generated":{"line":1,"column":2721}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":25},"generated":{"line":1,"column":2728}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":25},"generated":{"line":1,"column":2735}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":25},"generated":{"line":1,"column":2742}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":25},"generated":{"line":1,"column":2749}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":30},"generated":{"line":1,"column":2752}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":37},"generated":{"line":1,"column":2754}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":40},"generated":{"line":1,"column":2757}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":42},"generated":{"line":1,"column":2761}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":44},"generated":{"line":1,"column":2762}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":107,"column":44},"generated":{"line":1,"column":2769}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":106,"column":27},"generated":{"line":1,"column":2774}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":106,"column":34},"generated":{"line":1,"column":2776}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":106,"column":37},"generated":{"line":1,"column":2779}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":106,"column":40},"generated":{"line":1,"column":2782}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":106,"column":49},"generated":{"line":1,"column":2789}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":110,"column":11},"generated":{"line":1,"column":2792}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":114,"column":15},"generated":{"line":1,"column":2796}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":114,"column":15},"generated":{"line":1,"column":2800}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":114,"column":15},"generated":{"line":1,"column":2802}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":116,"column":6},"generated":{"line":1,"column":2804}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":116,"column":16},"generated":{"line":1,"column":2813}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":117,"column":2},"generated":{"line":1,"column":2815}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":118,"column":2},"generated":{"line":1,"column":2817}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":119,"column":2},"generated":{"line":1,"column":2819}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":2822}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":2826}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":8},"generated":{"line":1,"column":2828}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":8},"generated":{"line":1,"column":2834}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":39},"generated":{"line":1,"column":2836}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":13},"generated":{"line":1,"column":2844}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":16},"generated":{"line":1,"column":2846}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":22},"generated":{"line":1,"column":2848}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":31},"generated":{"line":1,"column":2857}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":39},"generated":{"line":1,"column":2867}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":39},"generated":{"line":1,"column":2871}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":39},"generated":{"line":1,"column":2878}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":39},"generated":{"line":1,"column":2880}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":121,"column":41},"generated":{"line":1,"column":2882}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":122,"column":19},"generated":{"line":1,"column":2889}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":122,"column":19},"generated":{"line":1,"column":2891}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":122,"column":19},"generated":{"line":1,"column":2893}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":122,"column":19},"generated":{"line":1,"column":2911}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":122,"column":26},"generated":{"line":1,"column":2913}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":2917}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":2921}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":2923}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":10},"generated":{"line":1,"column":2925}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":10},"generated":{"line":1,"column":2931}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":48},"generated":{"line":1,"column":2933}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":14},"generated":{"line":1,"column":2941}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":17},"generated":{"line":1,"column":2943}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":25},"generated":{"line":1,"column":2945}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":33},"generated":{"line":1,"column":2953}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":42},"generated":{"line":1,"column":2962}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":48},"generated":{"line":1,"column":2972}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":48},"generated":{"line":1,"column":2976}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":48},"generated":{"line":1,"column":2978}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":52},"generated":{"line":1,"column":2980}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":60},"generated":{"line":1,"column":2982}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":68},"generated":{"line":1,"column":2990}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":123,"column":79},"generated":{"line":1,"column":3001}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":3004}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":3007}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":124,"column":16},"generated":{"line":1,"column":3010}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":124,"column":31},"generated":{"line":1,"column":3012}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":124,"column":35},"generated":{"line":1,"column":3016}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":124,"column":45},"generated":{"line":1,"column":3019}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":125,"column":12},"generated":{"line":1,"column":3020}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":125,"column":12},"generated":{"line":1,"column":3026}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":125,"column":59},"generated":{"line":1,"column":3028}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":125,"column":28},"generated":{"line":1,"column":3036}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":125,"column":31},"generated":{"line":1,"column":3038}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":125,"column":42},"generated":{"line":1,"column":3040}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":125,"column":46},"generated":{"line":1,"column":3044}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":125,"column":59},"generated":{"line":1,"column":3065}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":125,"column":59},"generated":{"line":1,"column":3069}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":125,"column":59},"generated":{"line":1,"column":3071}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":125,"column":63},"generated":{"line":1,"column":3073}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":126,"column":6},"generated":{"line":1,"column":3076}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":126,"column":23},"generated":{"line":1,"column":3078}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":126,"column":28},"generated":{"line":1,"column":3083}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":126,"column":36},"generated":{"line":1,"column":3085}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":127,"column":6},"generated":{"line":1,"column":3091}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":127,"column":17},"generated":{"line":1,"column":3093}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":127,"column":21},"generated":{"line":1,"column":3097}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":127,"column":35},"generated":{"line":1,"column":3110}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":127,"column":53},"generated":{"line":1,"column":3113}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":128,"column":6},"generated":{"line":1,"column":3116}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":128,"column":11},"generated":{"line":1,"column":3118}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":128,"column":23},"generated":{"line":1,"column":3129}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":3134}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":3142}},{"source":"../../../../../src/compile/selection/transforms/legends.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":3150}}],"sources":{"../../../../../src/compile/selection/transforms/legends.ts":"import {MergedStream, Stream} from 'vega';\nimport {selector as parseSelector} from 'vega-event-selector';\nimport {array, isString} from 'vega-util';\nimport {forEachSelection, SelectionComponent, TUPLE} from '..';\nimport {NonPositionScaleChannel} from '../../../channel';\nimport * as log from '../../../log';\nimport {isLegendBinding, isLegendStreamBinding, SELECTION_ID} from '../../../selection';\nimport {duplicate, varName} from '../../../util';\nimport {LegendComponent} from '../../legend/component';\nimport {UnitModel} from '../../unit';\nimport {TUPLE_FIELDS} from './project';\nimport {TOGGLE} from './toggle';\nimport {TransformCompiler} from './transforms';\n\nconst legendBindings: TransformCompiler = {\n  has: (selCmpt: SelectionComponent<'single' | 'multi'>) => {\n    const spec = selCmpt.resolve === 'global' && selCmpt.bind && isLegendBinding(selCmpt.bind);\n    const projLen = selCmpt.project.items.length === 1 && selCmpt.project.items[0].field !== SELECTION_ID;\n    if (spec && !projLen) {\n      log.warn(log.message.LEGEND_BINDINGS_PROJECT_LENGTH);\n    }\n\n    return spec && projLen;\n  },\n\n  parse: (model, selCmpt, selDef, origDef) => {\n    // Binding a selection to a legend disables default direct manipulation interaction.\n    // A user can choose to re-enable it by explicitly specifying triggering input events.\n    if (!origDef.on) delete selCmpt.events;\n    if (!origDef.clear) delete selCmpt.clear;\n\n    if (origDef.on || origDef.clear) {\n      const legendFilter = 'event.item && indexof(event.item.mark.role, \"legend\") < 0';\n      for (const evt of selCmpt.events) {\n        evt.filter = array(evt.filter ?? []);\n        if (evt.filter.indexOf(legendFilter) < 0) {\n          evt.filter.push(legendFilter);\n        }\n      }\n    }\n\n    const evt = isLegendStreamBinding(selCmpt.bind) ? selCmpt.bind.legend : 'click';\n    const stream: Stream[] = isString(evt) ? parseSelector(evt, 'view') : array(evt);\n    selCmpt.bind = {legend: {merge: stream}};\n  },\n\n  topLevelSignals: (model, selCmpt: SelectionComponent<'single' | 'multi'>, signals) => {\n    const selName = selCmpt.name;\n    const stream = isLegendStreamBinding(selCmpt.bind) && (selCmpt.bind.legend as MergedStream);\n    const markName = (name: string) => (s: Stream) => {\n      const ds = duplicate(s);\n      ds.markname = name;\n      return ds;\n    };\n\n    for (const proj of selCmpt.project.items) {\n      if (!proj.hasLegend) continue;\n      const prefix = `${varName(proj.field)}_legend`;\n      const sgName = `${selName}_${prefix}`;\n      const hasSignal = signals.filter(s => s.name === sgName);\n\n      if (hasSignal.length === 0) {\n        const events = stream.merge\n          .map(markName(`${prefix}_symbols`))\n          .concat(stream.merge.map(markName(`${prefix}_labels`)))\n          .concat(stream.merge.map(markName(`${prefix}_entries`)));\n\n        signals.unshift({\n          name: sgName,\n          ...(!selCmpt.init ? {value: null} : {}),\n          on: [\n            // Legend entries do not store values, so we need to walk the scenegraph to the symbol datum.\n            {events, update: 'datum.value || item().items[0].items[0].datum.value', force: true},\n            {events: stream.merge, update: `!event.item || !datum ? null : ${sgName}`, force: true}\n          ]\n        });\n      }\n    }\n\n    return signals;\n  },\n\n  signals: (model, selCmpt, signals) => {\n    const name = selCmpt.name;\n    const proj = selCmpt.project;\n    const tuple = signals.find(s => s.name === name + TUPLE);\n    const fields = name + TUPLE_FIELDS;\n    const values = proj.items.filter(p => p.hasLegend).map(p => varName(`${name}_${varName(p.field)}_legend`));\n    const valid = values.map(v => `${v} !== null`).join(' && ');\n    const update = `${valid} ? {fields: ${fields}, values: [${values.join(', ')}]} : null`;\n\n    if (selCmpt.events && values.length > 0) {\n      tuple.on.push({\n        events: values.map(signal => ({signal})),\n        update\n      });\n    } else if (values.length > 0) {\n      tuple.update = update;\n      delete tuple.value;\n      delete tuple.on;\n    }\n\n    const toggle = signals.find(s => s.name === name + TOGGLE);\n    const events = isLegendStreamBinding(selCmpt.bind) && selCmpt.bind.legend;\n    if (toggle) {\n      if (!selCmpt.events) toggle.on[0].events = events;\n      else toggle.on.push({...toggle.on[0], events});\n    }\n\n    return signals;\n  }\n};\n\nexport default legendBindings;\n\nexport function parseInteractiveLegend(\n  model: UnitModel,\n  channel: NonPositionScaleChannel,\n  legendCmpt: LegendComponent\n) {\n  const field = model.fieldDef(channel)?.field;\n  forEachSelection(model, selCmpt => {\n    const proj = selCmpt.project.hasField[field] ?? selCmpt.project.hasChannel[channel];\n    if (proj && legendBindings.has(selCmpt)) {\n      const legendSelections = legendCmpt.get('selections') ?? [];\n      legendSelections.push(selCmpt.name);\n      legendCmpt.set('selections', legendSelections, false);\n      proj.hasLegend = true;\n    }\n  });\n}\n"},"lineCount":null}},"error":null,"hash":"03a5434dfa5a303618072c532b69409d","cacheData":{"env":{}}}