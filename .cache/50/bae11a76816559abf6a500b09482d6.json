{"id":"yUdh","dependencies":[{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/filter.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/src/compile/data/filter.ts","includedInParent":true,"mtime":499162500000},{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591970318768},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/package.json","includedInParent":true,"mtime":499162500000},{"name":"../../util","loc":{"line":1,"column":26},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/filter.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/util.js"},{"name":"../predicate","loc":{"line":2,"column":27},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/filter.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/predicate.js"},{"name":"./dataflow","loc":{"line":3,"column":29},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/filter.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/dataflow.js"},{"name":"./expressions","loc":{"line":4,"column":35},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/filter.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-lite/build/src/compile/data/expressions.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.FilterNode=void 0;var e=require(\"../../util\"),t=require(\"../predicate\"),r=require(\"./dataflow\"),i=require(\"./expressions\");class s extends r.DataFlowNode{constructor(e,r,s){super(e),this.model=r,this.filter=s,this.expr=(0,t.expression)(this.model,this.filter,this),this._dependentFields=(0,i.getDependentFields)(this.expr)}clone(){return new s(null,this.model,(0,e.duplicate)(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:\"filter\",expr:this.expr}}hash(){return`Filter ${this.expr}`}}exports.FilterNode=s;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":0}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":13}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":20}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":35}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":43}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":56}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":57}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":64}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":68}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":76}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":92}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":94}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":100}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":108}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":122}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":124}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":132}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":148}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":150}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":158}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":172}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":174}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":182}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":6},"generated":{"line":1,"column":199}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":13},"generated":{"line":1,"column":205}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":32},"generated":{"line":1,"column":215}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":6},"generated":{"line":1,"column":217}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":230}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":1,"column":242}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":1,"column":244}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":20,"column":21},"generated":{"line":1,"column":246}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":249}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":22,"column":10},"generated":{"line":1,"column":255}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":1,"column":258}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":1,"column":263}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":1,"column":269}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":20,"column":21},"generated":{"line":1,"column":271}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":20,"column":21},"generated":{"line":1,"column":276}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":20,"column":21},"generated":{"line":1,"column":283}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":285}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":290}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":296}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":26,"column":27},"generated":{"line":1,"column":298}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":26,"column":27},"generated":{"line":1,"column":300}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":26,"column":27},"generated":{"line":1,"column":312}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":26,"column":32},"generated":{"line":1,"column":317}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":26,"column":39},"generated":{"line":1,"column":323}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":26,"column":44},"generated":{"line":1,"column":328}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":26,"column":52},"generated":{"line":1,"column":335}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":341}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":346}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":28,"column":28},"generated":{"line":1,"column":364}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":28,"column":47},"generated":{"line":1,"column":366}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":28,"column":47},"generated":{"line":1,"column":368}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":28,"column":47},"generated":{"line":1,"column":388}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":28,"column":52},"generated":{"line":1,"column":393}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":1,"column":399}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":14,"column":11},"generated":{"line":1,"column":407}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":14,"column":11},"generated":{"line":1,"column":414}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":14,"column":15},"generated":{"line":1,"column":418}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":14,"column":26},"generated":{"line":1,"column":420}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":14,"column":32},"generated":{"line":1,"column":425}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":14,"column":37},"generated":{"line":1,"column":430}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":14,"column":44},"generated":{"line":1,"column":437}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":14,"column":54},"generated":{"line":1,"column":439}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":14,"column":54},"generated":{"line":1,"column":441}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":14,"column":54},"generated":{"line":1,"column":452}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":14,"column":59},"generated":{"line":1,"column":457}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":466}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":484}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":491}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":32,"column":16},"generated":{"line":1,"column":496}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":513}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":530}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":537}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":36,"column":15},"generated":{"line":1,"column":541}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":545}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":556}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":562}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":41,"column":6},"generated":{"line":1,"column":563}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":1,"column":568}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":42,"column":6},"generated":{"line":1,"column":577}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":1,"column":582}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":42,"column":17},"generated":{"line":1,"column":587}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":46,"column":9},"generated":{"line":1,"column":593}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":600}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":47,"column":21},"generated":{"line":1,"column":616}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":47,"column":26},"generated":{"line":1,"column":621}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":629}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":637}},{"source":"../../../../src/compile/data/filter.ts","name":null,"original":{"line":10,"column":44},"generated":{"line":1,"column":648}}],"sources":{"../../../../src/compile/data/filter.ts":"import {FilterTransform as VgFilterTransform} from 'vega';\nimport {LogicalComposition} from '../../logical';\nimport {Predicate} from '../../predicate';\nimport {duplicate} from '../../util';\nimport {Model} from '../model';\nimport {expression} from '../predicate';\nimport {DataFlowNode} from './dataflow';\nimport {getDependentFields} from './expressions';\n\nexport class FilterNode extends DataFlowNode {\n  private expr: string;\n  private _dependentFields: Set<string>;\n  public clone() {\n    return new FilterNode(null, this.model, duplicate(this.filter));\n  }\n\n  constructor(\n    parent: DataFlowNode,\n    private readonly model: Model,\n    private readonly filter: LogicalComposition<Predicate>\n  ) {\n    super(parent);\n\n    // TODO: refactor this to not take a node and\n    // then add a static function makeFromOperand and make the constructor take only an expression\n    this.expr = expression(this.model, this.filter, this);\n\n    this._dependentFields = getDependentFields(this.expr);\n  }\n\n  public dependentFields() {\n    return this._dependentFields;\n  }\n\n  public producedFields() {\n    return new Set<string>(); // filter does not produce any new fields\n  }\n\n  public assemble(): VgFilterTransform {\n    return {\n      type: 'filter',\n      expr: this.expr\n    };\n  }\n\n  public hash() {\n    return `Filter ${this.expr}`;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"cdfb407c4133b1bde6d5fbf5e55b1cbb","cacheData":{"env":{}}}