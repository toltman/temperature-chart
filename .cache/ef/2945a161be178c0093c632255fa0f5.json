{"id":"UTyp","dependencies":[{"name":"/home/toltm/data-viz/temperature/package.json","includedInParent":true,"mtime":1591977532257},{"name":"/home/toltm/data-viz/temperature/node_modules/vega-selections/package.json","includedInParent":true,"mtime":1591969205136},{"name":"./constants","loc":{"line":1,"column":24},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-selections/src/selectionTest.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-selections/src/constants.js"},{"name":"vega-util","loc":{"line":2,"column":56},"parent":"/home/toltm/data-viz/temperature/node_modules/vega-selections/src/selectionTest.js","resolved":"/home/toltm/data-viz/temperature/node_modules/vega-util/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.selectionTest=l;var e=require(\"./constants\"),t=require(\"vega-util\"),r=\"E\",i=\"R\",n=\"R-E\",u=\"R-LE\",f=\"R-RE\",s=\"index:unit\";function a(e,s){for(var a,l,o=s.fields,g=s.values,c=o.length,d=0;d<c;++d)if((l=o[d]).getter=t.field.getter||(0,t.field)(l.field),a=l.getter(e),(0,t.isDate)(a)&&(a=(0,t.toNumber)(a)),(0,t.isDate)(g[d])&&(g[d]=(0,t.toNumber)(g[d])),(0,t.isDate)(g[d][0])&&(g[d]=g[d].map(t.toNumber)),l.type===r){if((0,t.isArray)(g[d])?g[d].indexOf(a)<0:a!==g[d])return!1}else if(l.type===i){if(!(0,t.inrange)(a,g[d]))return!1}else if(l.type===f){if(!(0,t.inrange)(a,g[d],!0,!1))return!1}else if(l.type===n){if(!(0,t.inrange)(a,g[d],!1,!1))return!1}else if(l.type===u&&!(0,t.inrange)(a,g[d],!1,!0))return!1;return!0}function l(t,r,i){for(var n,u,f,l,o,g=this.context.data[t],c=g?g.values.value:[],d=g?g[s]&&g[s].value:void 0,v=i===e.Intersect,p=c.length,y=0;y<p;++y)if(n=c[y],d&&v){if(-1===(f=(u=u||{})[l=n.unit]||0))continue;if(o=a(r,n),u[l]=o?-1:++f,o&&1===d.size)return!0;if(!o&&f===d.get(l).count)return!1}else if(v^(o=a(r,n)))return o;return p&&v}"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":104,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":104,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":104,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":104,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":104,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":104,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":104,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":104,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":104,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":104,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":104,"column":1},"generated":{"line":1,"column":90}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":1,"column":0},"generated":{"line":1,"column":106}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":2,"column":0},"generated":{"line":1,"column":121}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":2,"column":0},"generated":{"line":1,"column":123}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":2,"column":0},"generated":{"line":1,"column":131}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"TYPE_ENUM","original":{"line":4,"column":4},"generated":{"line":1,"column":144}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":4,"column":16},"generated":{"line":1,"column":146}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"TYPE_RANGE_INC","original":{"line":5,"column":4},"generated":{"line":1,"column":150}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":5,"column":21},"generated":{"line":1,"column":152}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"TYPE_RANGE_EXC","original":{"line":6,"column":4},"generated":{"line":1,"column":156}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":6,"column":21},"generated":{"line":1,"column":158}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"TYPE_RANGE_LE","original":{"line":7,"column":4},"generated":{"line":1,"column":164}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":7,"column":20},"generated":{"line":1,"column":166}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"TYPE_RANGE_RE","original":{"line":8,"column":4},"generated":{"line":1,"column":173}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":8,"column":20},"generated":{"line":1,"column":175}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"UNIT_INDEX","original":{"line":9,"column":4},"generated":{"line":1,"column":182}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":9,"column":17},"generated":{"line":1,"column":184}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":12,"column":0},"generated":{"line":1,"column":197}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"testPoint","original":{"line":12,"column":9},"generated":{"line":1,"column":206}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"datum","original":{"line":12,"column":19},"generated":{"line":1,"column":208}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"entry","original":{"line":12,"column":26},"generated":{"line":1,"column":210}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":18,"column":9},"generated":{"line":1,"column":213}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"fields","original":{"line":13,"column":6},"generated":{"line":1,"column":217}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":16,"column":13},"generated":{"line":1,"column":221}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":16,"column":19},"generated":{"line":1,"column":223}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"fields","original":{"line":13,"column":6},"generated":{"line":1,"column":225}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"entry","original":{"line":13,"column":15},"generated":{"line":1,"column":227}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"fields","original":{"line":13,"column":21},"generated":{"line":1,"column":229}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":14,"column":6},"generated":{"line":1,"column":236}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"entry","original":{"line":14,"column":15},"generated":{"line":1,"column":238}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":14,"column":21},"generated":{"line":1,"column":240}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"n","original":{"line":15,"column":6},"generated":{"line":1,"column":247}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"fields","original":{"line":15,"column":10},"generated":{"line":1,"column":249}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"length","original":{"line":15,"column":17},"generated":{"line":1,"column":251}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":16,"column":6},"generated":{"line":1,"column":258}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":16,"column":10},"generated":{"line":1,"column":260}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":18,"column":9},"generated":{"line":1,"column":262}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"n","original":{"line":18,"column":11},"generated":{"line":1,"column":264}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":18,"column":16},"generated":{"line":1,"column":268}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":27,"column":8},"generated":{"line":1,"column":270}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":19,"column":4},"generated":{"line":1,"column":274}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"fields","original":{"line":19,"column":8},"generated":{"line":1,"column":276}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":19,"column":15},"generated":{"line":1,"column":278}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"getter","original":{"line":20,"column":6},"generated":{"line":1,"column":282}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"field","original":{"line":20,"column":15},"generated":{"line":1,"column":289}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"getter","original":{"line":20,"column":21},"generated":{"line":1,"column":291}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"getter","original":{"line":20,"column":21},"generated":{"line":1,"column":297}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":20,"column":31},"generated":{"line":1,"column":306}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":20,"column":37},"generated":{"line":1,"column":308}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":20,"column":37},"generated":{"line":1,"column":310}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":20,"column":37},"generated":{"line":1,"column":317}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"field","original":{"line":20,"column":39},"generated":{"line":1,"column":319}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":21,"column":4},"generated":{"line":1,"column":326}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":21,"column":11},"generated":{"line":1,"column":328}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"getter","original":{"line":21,"column":13},"generated":{"line":1,"column":330}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"datum","original":{"line":21,"column":20},"generated":{"line":1,"column":337}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":23,"column":8},"generated":{"line":1,"column":341}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":23,"column":15},"generated":{"line":1,"column":343}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":23,"column":15},"generated":{"line":1,"column":345}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":23,"column":15},"generated":{"line":1,"column":353}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":23,"column":22},"generated":{"line":1,"column":358}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":23,"column":29},"generated":{"line":1,"column":361}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":23,"column":38},"generated":{"line":1,"column":363}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":23,"column":38},"generated":{"line":1,"column":365}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":23,"column":38},"generated":{"line":1,"column":375}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":24,"column":8},"generated":{"line":1,"column":380}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":24,"column":15},"generated":{"line":1,"column":382}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":24,"column":15},"generated":{"line":1,"column":384}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":24,"column":15},"generated":{"line":1,"column":392}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":24,"column":22},"generated":{"line":1,"column":394}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":24,"column":27},"generated":{"line":1,"column":400}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":24,"column":34},"generated":{"line":1,"column":402}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":24,"column":39},"generated":{"line":1,"column":406}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":24,"column":48},"generated":{"line":1,"column":408}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":24,"column":48},"generated":{"line":1,"column":410}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":24,"column":48},"generated":{"line":1,"column":420}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":24,"column":55},"generated":{"line":1,"column":422}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":25,"column":8},"generated":{"line":1,"column":428}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":25,"column":15},"generated":{"line":1,"column":430}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":25,"column":15},"generated":{"line":1,"column":432}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":25,"column":15},"generated":{"line":1,"column":440}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":25,"column":22},"generated":{"line":1,"column":442}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":25,"column":25},"generated":{"line":1,"column":445}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":25,"column":30},"generated":{"line":1,"column":451}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":25,"column":37},"generated":{"line":1,"column":453}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":25,"column":42},"generated":{"line":1,"column":456}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":25,"column":49},"generated":{"line":1,"column":458}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"map","original":{"line":25,"column":52},"generated":{"line":1,"column":461}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"toNumber","original":{"line":25,"column":56},"generated":{"line":1,"column":465}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":25,"column":42},"generated":{"line":1,"column":467}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":27,"column":8},"generated":{"line":1,"column":478}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"type","original":{"line":27,"column":10},"generated":{"line":1,"column":480}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"TYPE_ENUM","original":{"line":27,"column":19},"generated":{"line":1,"column":487}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":30,"column":9},"generated":{"line":1,"column":490}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":30,"column":9},"generated":{"line":1,"column":494}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":30,"column":17},"generated":{"line":1,"column":496}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":30,"column":17},"generated":{"line":1,"column":498}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":30,"column":17},"generated":{"line":1,"column":507}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":30,"column":24},"generated":{"line":1,"column":509}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":30,"column":30},"generated":{"line":1,"column":513}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":30,"column":37},"generated":{"line":1,"column":515}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"indexOf","original":{"line":30,"column":40},"generated":{"line":1,"column":518}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":30,"column":48},"generated":{"line":1,"column":526}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":30,"column":56},"generated":{"line":1,"column":529}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":30,"column":60},"generated":{"line":1,"column":531}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":30,"column":69},"generated":{"line":1,"column":535}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":30,"column":76},"generated":{"line":1,"column":537}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":31,"column":15},"generated":{"line":1,"column":540}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":31,"column":15},"generated":{"line":1,"column":547}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":34,"column":10},"generated":{"line":1,"column":554}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":34,"column":10},"generated":{"line":1,"column":557}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"type","original":{"line":34,"column":12},"generated":{"line":1,"column":559}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"TYPE_RANGE_INC","original":{"line":34,"column":21},"generated":{"line":1,"column":566}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":35,"column":12},"generated":{"line":1,"column":569}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":35,"column":13},"generated":{"line":1,"column":574}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":35,"column":21},"generated":{"line":1,"column":576}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":35,"column":21},"generated":{"line":1,"column":578}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":35,"column":21},"generated":{"line":1,"column":587}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":35,"column":27},"generated":{"line":1,"column":589}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":35,"column":34},"generated":{"line":1,"column":591}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":35,"column":39},"generated":{"line":1,"column":595}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":35,"column":46},"generated":{"line":1,"column":602}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":36,"column":13},"generated":{"line":1,"column":609}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":36,"column":17},"generated":{"line":1,"column":612}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"type","original":{"line":36,"column":19},"generated":{"line":1,"column":614}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"TYPE_RANGE_RE","original":{"line":36,"column":28},"generated":{"line":1,"column":621}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":38,"column":12},"generated":{"line":1,"column":624}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":38,"column":13},"generated":{"line":1,"column":629}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":38,"column":21},"generated":{"line":1,"column":631}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":38,"column":21},"generated":{"line":1,"column":633}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":38,"column":21},"generated":{"line":1,"column":642}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":38,"column":27},"generated":{"line":1,"column":644}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":38,"column":34},"generated":{"line":1,"column":646}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":38,"column":38},"generated":{"line":1,"column":650}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":38,"column":44},"generated":{"line":1,"column":653}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":38,"column":52},"generated":{"line":1,"column":656}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":38,"column":59},"generated":{"line":1,"column":663}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":39,"column":13},"generated":{"line":1,"column":670}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":39,"column":17},"generated":{"line":1,"column":673}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"type","original":{"line":39,"column":19},"generated":{"line":1,"column":675}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"TYPE_RANGE_EXC","original":{"line":39,"column":28},"generated":{"line":1,"column":682}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":40,"column":12},"generated":{"line":1,"column":685}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":40,"column":13},"generated":{"line":1,"column":690}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":40,"column":21},"generated":{"line":1,"column":692}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":40,"column":21},"generated":{"line":1,"column":694}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":40,"column":21},"generated":{"line":1,"column":703}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":40,"column":27},"generated":{"line":1,"column":705}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":40,"column":34},"generated":{"line":1,"column":707}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":40,"column":38},"generated":{"line":1,"column":711}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":40,"column":45},"generated":{"line":1,"column":714}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":40,"column":53},"generated":{"line":1,"column":717}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":40,"column":60},"generated":{"line":1,"column":724}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":41,"column":13},"generated":{"line":1,"column":731}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"f","original":{"line":41,"column":17},"generated":{"line":1,"column":734}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"type","original":{"line":41,"column":19},"generated":{"line":1,"column":736}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"TYPE_RANGE_LE","original":{"line":41,"column":28},"generated":{"line":1,"column":743}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":42,"column":13},"generated":{"line":1,"column":748}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":42,"column":21},"generated":{"line":1,"column":750}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":42,"column":21},"generated":{"line":1,"column":752}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"dval","original":{"line":42,"column":21},"generated":{"line":1,"column":761}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":42,"column":27},"generated":{"line":1,"column":763}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":42,"column":34},"generated":{"line":1,"column":765}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":42,"column":38},"generated":{"line":1,"column":769}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":42,"column":45},"generated":{"line":1,"column":772}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":42,"column":52},"generated":{"line":1,"column":775}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":42,"column":59},"generated":{"line":1,"column":782}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":47,"column":9},"generated":{"line":1,"column":784}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":47,"column":9},"generated":{"line":1,"column":791}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":64,"column":7},"generated":{"line":1,"column":793}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"selectionTest","original":{"line":64,"column":16},"generated":{"line":1,"column":802}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"name","original":{"line":64,"column":30},"generated":{"line":1,"column":804}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"datum","original":{"line":64,"column":36},"generated":{"line":1,"column":806}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"op","original":{"line":64,"column":43},"generated":{"line":1,"column":808}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":73,"column":9},"generated":{"line":1,"column":811}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"data","original":{"line":65,"column":6},"generated":{"line":1,"column":815}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"entry","original":{"line":71,"column":6},"generated":{"line":1,"column":819}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"miss","original":{"line":71,"column":13},"generated":{"line":1,"column":821}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"count","original":{"line":71,"column":19},"generated":{"line":1,"column":823}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"unit","original":{"line":71,"column":26},"generated":{"line":1,"column":825}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"b","original":{"line":71,"column":32},"generated":{"line":1,"column":827}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"data","original":{"line":65,"column":6},"generated":{"line":1,"column":829}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":65,"column":13},"generated":{"line":1,"column":831}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"context","original":{"line":65,"column":18},"generated":{"line":1,"column":836}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"data","original":{"line":65,"column":26},"generated":{"line":1,"column":844}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"name","original":{"line":65,"column":31},"generated":{"line":1,"column":849}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"entries","original":{"line":66,"column":6},"generated":{"line":1,"column":852}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"data","original":{"line":66,"column":16},"generated":{"line":1,"column":854}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"data","original":{"line":66,"column":23},"generated":{"line":1,"column":856}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"values","original":{"line":66,"column":28},"generated":{"line":1,"column":858}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"value","original":{"line":66,"column":35},"generated":{"line":1,"column":865}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":66,"column":43},"generated":{"line":1,"column":871}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"unitIdx","original":{"line":67,"column":6},"generated":{"line":1,"column":874}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"data","original":{"line":67,"column":16},"generated":{"line":1,"column":876}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"data","original":{"line":67,"column":23},"generated":{"line":1,"column":878}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"UNIT_INDEX","original":{"line":67,"column":28},"generated":{"line":1,"column":880}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"data","original":{"line":67,"column":43},"generated":{"line":1,"column":884}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"UNIT_INDEX","original":{"line":67,"column":48},"generated":{"line":1,"column":886}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"value","original":{"line":67,"column":60},"generated":{"line":1,"column":889}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"undefined","original":{"line":67,"column":68},"generated":{"line":1,"column":900}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"intersect","original":{"line":68,"column":6},"generated":{"line":1,"column":902}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"op","original":{"line":68,"column":18},"generated":{"line":1,"column":904}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"Intersect","original":{"line":68,"column":25},"generated":{"line":1,"column":908}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":65,"column":2},"generated":{"line":1,"column":910}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"n","original":{"line":69,"column":6},"generated":{"line":1,"column":920}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"entries","original":{"line":69,"column":10},"generated":{"line":1,"column":922}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"length","original":{"line":69,"column":18},"generated":{"line":1,"column":924}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":70,"column":6},"generated":{"line":1,"column":931}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":70,"column":10},"generated":{"line":1,"column":933}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":73,"column":9},"generated":{"line":1,"column":935}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"n","original":{"line":73,"column":11},"generated":{"line":1,"column":937}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":73,"column":16},"generated":{"line":1,"column":941}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"unitIdx","original":{"line":76,"column":8},"generated":{"line":1,"column":943}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"entry","original":{"line":74,"column":4},"generated":{"line":1,"column":946}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"entries","original":{"line":74,"column":12},"generated":{"line":1,"column":948}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"i","original":{"line":74,"column":20},"generated":{"line":1,"column":950}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"unitIdx","original":{"line":76,"column":8},"generated":{"line":1,"column":953}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"intersect","original":{"line":76,"column":19},"generated":{"line":1,"column":956}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":76,"column":30},"generated":{"line":1,"column":958}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"count","original":{"line":82,"column":10},"generated":{"line":1,"column":959}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":82,"column":21},"generated":{"line":1,"column":963}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"count","original":{"line":79,"column":6},"generated":{"line":1,"column":968}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"miss","original":{"line":78,"column":6},"generated":{"line":1,"column":971}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"miss","original":{"line":78,"column":13},"generated":{"line":1,"column":973}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":78,"column":21},"generated":{"line":1,"column":976}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"unit","original":{"line":79,"column":19},"generated":{"line":1,"column":980}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"entry","original":{"line":79,"column":24},"generated":{"line":1,"column":982}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"unit","original":{"line":79,"column":30},"generated":{"line":1,"column":984}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":79,"column":39},"generated":{"line":1,"column":991}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":82,"column":24},"generated":{"line":1,"column":994}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"b","original":{"line":89,"column":10},"generated":{"line":1,"column":1003}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"b","original":{"line":84,"column":6},"generated":{"line":1,"column":1006}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"testPoint","original":{"line":84,"column":10},"generated":{"line":1,"column":1008}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"datum","original":{"line":84,"column":20},"generated":{"line":1,"column":1010}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"entry","original":{"line":84,"column":27},"generated":{"line":1,"column":1012}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"miss","original":{"line":85,"column":6},"generated":{"line":1,"column":1015}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"unit","original":{"line":85,"column":11},"generated":{"line":1,"column":1017}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"b","original":{"line":85,"column":19},"generated":{"line":1,"column":1020}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":85,"column":24},"generated":{"line":1,"column":1023}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"count","original":{"line":85,"column":30},"generated":{"line":1,"column":1027}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"b","original":{"line":89,"column":10},"generated":{"line":1,"column":1029}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":89,"column":32},"generated":{"line":1,"column":1032}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"unitIdx","original":{"line":89,"column":15},"generated":{"line":1,"column":1036}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"size","original":{"line":89,"column":23},"generated":{"line":1,"column":1038}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":89,"column":35},"generated":{"line":1,"column":1043}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":89,"column":42},"generated":{"line":1,"column":1050}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":90,"column":10},"generated":{"line":1,"column":1052}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"b","original":{"line":90,"column":11},"generated":{"line":1,"column":1056}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"count","original":{"line":90,"column":16},"generated":{"line":1,"column":1059}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"unitIdx","original":{"line":90,"column":26},"generated":{"line":1,"column":1063}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"get","original":{"line":90,"column":34},"generated":{"line":1,"column":1065}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"unit","original":{"line":90,"column":38},"generated":{"line":1,"column":1069}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"count","original":{"line":90,"column":44},"generated":{"line":1,"column":1072}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":90,"column":51},"generated":{"line":1,"column":1078}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":90,"column":58},"generated":{"line":1,"column":1085}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"intersect","original":{"line":96,"column":10},"generated":{"line":1,"column":1092}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"intersect","original":{"line":96,"column":10},"generated":{"line":1,"column":1095}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"b","original":{"line":92,"column":6},"generated":{"line":1,"column":1098}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"testPoint","original":{"line":92,"column":10},"generated":{"line":1,"column":1100}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"datum","original":{"line":92,"column":20},"generated":{"line":1,"column":1102}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"entry","original":{"line":92,"column":27},"generated":{"line":1,"column":1104}},{"source":"node_modules/vega-selections/src/selectionTest.js","original":{"line":96,"column":25},"generated":{"line":1,"column":1108}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"b","original":{"line":96,"column":32},"generated":{"line":1,"column":1115}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"n","original":{"line":103,"column":9},"generated":{"line":1,"column":1117}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"n","original":{"line":103,"column":9},"generated":{"line":1,"column":1124}},{"source":"node_modules/vega-selections/src/selectionTest.js","name":"intersect","original":{"line":103,"column":14},"generated":{"line":1,"column":1127}}],"sources":{"node_modules/vega-selections/src/selectionTest.js":"import {Intersect} from './constants';\nimport {field, inrange, isArray, isDate, toNumber} from 'vega-util';\n\nvar TYPE_ENUM = 'E',\n    TYPE_RANGE_INC = 'R',\n    TYPE_RANGE_EXC = 'R-E',\n    TYPE_RANGE_LE = 'R-LE',\n    TYPE_RANGE_RE = 'R-RE',\n    UNIT_INDEX = 'index:unit';\n\n// TODO: revisit date coercion?\nfunction testPoint(datum, entry) {\n  var fields = entry.fields,\n      values = entry.values,\n      n = fields.length,\n      i = 0, dval, f;\n\n  for (; i<n; ++i) {\n    f = fields[i];\n    f.getter = field.getter || field(f.field);\n    dval = f.getter(datum);\n\n    if (isDate(dval)) dval = toNumber(dval);\n    if (isDate(values[i])) values[i] = toNumber(values[i]);\n    if (isDate(values[i][0])) values[i] = values[i].map(toNumber);\n\n    if (f.type === TYPE_ENUM) {\n      // Enumerated fields can either specify individual values (single/multi selections)\n      // or an array of values (interval selections).\n      if(isArray(values[i]) ? values[i].indexOf(dval) < 0 : dval !== values[i]) {\n        return false;\n      }\n    } else {\n      if (f.type === TYPE_RANGE_INC) {\n        if (!inrange(dval, values[i])) return false;\n      } else if (f.type === TYPE_RANGE_RE) {\n        // Discrete selection of bins test within the range [bin_start, bin_end).\n        if (!inrange(dval, values[i], true, false)) return false;\n      } else if (f.type === TYPE_RANGE_EXC) { // 'R-E'/'R-LE' included for completeness.\n        if (!inrange(dval, values[i], false, false)) return false;\n      } else if (f.type === TYPE_RANGE_LE) {\n        if (!inrange(dval, values[i], false, true)) return false;\n      }\n    }\n  }\n\n  return true;\n}\n\n/**\n * Tests if a tuple is contained within an interactive selection.\n * @param {string} name - The name of the data set representing the selection.\n *  Tuples in the dataset are of the form\n *  {unit: string, fields: array<fielddef>, values: array<*>}.\n *  Fielddef is of the form\n *  {field: string, channel: string, type: 'E' | 'R'} where\n *  'type' identifies whether tuples in the dataset enumerate\n *  values for the field, or specify a continuous range.\n * @param {object} datum - The tuple to test for inclusion.\n * @param {string} op - The set operation for combining selections.\n *   One of 'intersect' or 'union' (default).\n * @return {boolean} - True if the datum is in the selection, false otherwise.\n */\nexport function selectionTest(name, datum, op) {\n  var data = this.context.data[name],\n      entries = data ? data.values.value : [],\n      unitIdx = data ? data[UNIT_INDEX] && data[UNIT_INDEX].value : undefined,\n      intersect = op === Intersect,\n      n = entries.length,\n      i = 0,\n      entry, miss, count, unit, b;\n\n  for (; i<n; ++i) {\n    entry = entries[i];\n\n    if (unitIdx && intersect) {\n      // multi selections union within the same unit and intersect across units.\n      miss = miss || {};\n      count = miss[unit=entry.unit] || 0;\n\n      // if we've already matched this unit, skip.\n      if (count === -1) continue;\n\n      b = testPoint(datum, entry);\n      miss[unit] = b ? -1 : ++count;\n\n      // if we match and there are no other units return true\n      // if we've missed against all tuples in this unit return false\n      if (b && unitIdx.size === 1) return true;\n      if (!b && count === unitIdx.get(unit).count) return false;\n    } else {\n      b = testPoint(datum, entry);\n\n      // if we find a miss and we do require intersection return false\n      // if we find a match and we don't require intersection return true\n      if (intersect ^ b) return b;\n    }\n  }\n\n  // if intersecting and we made it here, then we saw no misses\n  // if not intersecting, then we saw no matches\n  // if no active selections, return false\n  return n && intersect;\n}"},"lineCount":null}},"error":null,"hash":"1e563a25026225369658daca582779e5","cacheData":{"env":{}}}